1:"$Sreact.fragment"
2:I[67315,["785","static/chunks/785-bf8eaad2e6817186.js","451","static/chunks/451-fc5e785e9625ac71.js","818","static/chunks/818-322048bc11f842f8.js","224","static/chunks/224-2cc25f836ed6657f.js","177","static/chunks/app/layout-e6a096795e862e0d.js"],"Provider"]
3:I[87555,[],""]
4:I[31295,[],""]
5:I[32176,["785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","335","static/chunks/app/%5Bslug%5D/error-1818400e53c9bc3c.js"],"default"]
6:I[6874,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],""]
7:I[38567,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Button"]
9:I[59665,[],"OutletBoundary"]
c:I[59665,[],"ViewportBoundary"]
e:I[59665,[],"MetadataBoundary"]
10:I[26614,[],""]
:HL["/_next/static/css/9aa33c77ef4c0fa8.css","style"]
0:{"P":null,"b":"m4ShoKqZ93hBDz0YsmOj0","p":"","c":["","824d66ab-fdae-4865-80b0-db35e46cf2de",""],"i":false,"f":[[["",{"children":[["slug","824d66ab-fdae-4865-80b0-db35e46cf2de","d"],{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9aa33c77ef4c0fa8.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"suppressHydrationWarning":true,"lang":"ja","children":[["$","head",null,{"children":["$","link",null,{"rel":"icon","href":"/meta/icon.png","sizes":"any"}]}],["$","body",null,{"children":["$","$L2",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}]]}],{"children":[["slug","824d66ab-fdae-4865-80b0-db35e46cf2de","d"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$5","errorStyles":[],"errorScripts":[],"template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","p",null,{"children":"ページが見つかりませんでした"}],["$","$L6",null,{"href":"/","children":["$","$L7",null,{"children":"トップに戻る"}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L8","$undefined",null,["$","$L9",null,{"children":["$La","$Lb",null]}]]}],{},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","ulOaRDjt_pjSSP5Bo00wY",{"children":[["$","$Lc",null,{"children":"$Ld"}],null]}],["$","$Le",null,{"children":"$Lf"}]]}],false]],"m":"$undefined","G":["$10","$undefined"],"s":false,"S":true}
d:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
a:null
11:I[90754,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Header"]
12:I[81068,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Box"]
13:I[17921,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Heading"]
14:I[90310,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Text"]
15:I[7684,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Icon"]
16:I[38878,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"ClientContainer"]
22:I[26250,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Link"]
23:I[91925,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Analysis"]
24:I[91548,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Separator"]
25:I[12498,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"About"]
26:I[38639,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Stack"]
27:I[97377,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"HStack"]
28:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerRoot"]
29:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerBackdrop"]
2a:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerTrigger"]
2b:I[70318,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"Portal"]
2c:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerPositioner"]
2d:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerContent"]
2e:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerHeader"]
2f:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerTitle"]
30:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerBody"]
31:I[30220,["150","static/chunks/59650de3-481cc0c44db376d7.js","785","static/chunks/785-bf8eaad2e6817186.js","567","static/chunks/567-5def3a78145d78b3.js","451","static/chunks/451-fc5e785e9625ac71.js","874","static/chunks/874-3fb57fb0f9cdc472.js","818","static/chunks/818-322048bc11f842f8.js","299","static/chunks/299-271e81c86fdf4b28.js","952","static/chunks/952-908fcb38ecc41b9a.js","673","static/chunks/673-438e53a9cb5873f3.js","182","static/chunks/app/%5Bslug%5D/page-abba9cb5795aab1d.js"],"DrawerActionTrigger"]
17:T13f1,import concurrent.futures
import json
import logging
import re

import pandas as pd
from tqdm import tqdm

from services.category_classification import classify_args
from services.llm import request_to_chat_openai
from services.parse_json_list import parse_response
from utils import update_progress

COMMA_AND_SPACE_AND_RIGHT_BRACKET = re.compile(r",\s*(\])")


def _validate_property_columns(property_columns: list[str], comments: pd.DataFrame) -> None:
    if not all(property in comments.columns for property in property_columns):
        raise ValueError(f"Properties {property_columns} not found in comments. Columns are {comments.columns}")


def extraction(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/args.csv"
    model = config["extraction"]["model"]
    prompt = config["extraction"]["prompt"]
    workers = config["extraction"]["workers"]
    limit = config["extraction"]["limit"]
    property_columns = config["extraction"]["properties"]

    # カラム名だけを読み込み、必要なカラムが含まれているか確認する
    comments = pd.read_csv(f"inputs/{config['input']}.csv", nrows=0)
    _validate_property_columns(property_columns, comments)
    # エラーが出なかった場合、すべての行を読み込む
    comments = pd.read_csv(
        f"inputs/{config['input']}.csv", usecols=["comment-id", "comment-body"] + config["extraction"]["properties"]
    )
    comment_ids = (comments["comment-id"].values)[:limit]
    comments.set_index("comment-id", inplace=True)
    results = pd.DataFrame()
    update_progress(config, total=len(comment_ids))

    argument_map = {}
    relation_rows = []

    for i in tqdm(range(0, len(comment_ids), workers)):
        batch = comment_ids[i : i + workers]
        batch_inputs = [comments.loc[id]["comment-body"] for id in batch]
        batch_results = extract_batch(batch_inputs, prompt, model, workers)

        for comment_id, extracted_args in zip(batch, batch_results, strict=False):
            for j, arg in enumerate(extracted_args):
                if arg not in argument_map:
                    # argumentテーブルに追加
                    arg_id = f"A{comment_id}_{j}"
                    argument_map[arg] = {
                        "arg-id": arg_id,
                        "argument": arg,
                    }
                else:
                    arg_id = argument_map[arg]["arg-id"]

                # relationテーブルにcommentとargの関係を追加
                relation_row = {
                    "arg-id": arg_id,
                    "comment-id": comment_id,
                }
                relation_rows.append(relation_row)

        update_progress(config, incr=len(batch))

    # DataFrame化
    results = pd.DataFrame(argument_map.values())
    relation_df = pd.DataFrame(relation_rows)

    if results.empty:
        raise RuntimeError("result is empty, maybe bad prompt")

    classification_categories = config["extraction"]["categories"]
    if classification_categories:
        results = classify_args(results, config, workers)

    results.to_csv(path, index=False)
    # comment-idとarg-idの関係を保存
    relation_df.to_csv(f"outputs/{dataset}/relations.csv", index=False)


logging.basicConfig(level=logging.ERROR)


def extract_batch(batch, prompt, model, workers):
    with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        futures_with_index = [
            (i, executor.submit(extract_arguments, input, prompt, model)) for i, input in enumerate(batch)
        ]

        done, not_done = concurrent.futures.wait([f for _, f in futures_with_index], timeout=30)
        results = [[] for _ in range(len(batch))]

        for _, future in futures_with_index:
            if future in not_done and not future.cancelled():
                future.cancel()

        for i, future in futures_with_index:
            if future in done:
                try:
                    result = future.result()
                    results[i] = result
                except Exception as e:
                    logging.error(f"Task {future} failed with error: {e}")
                    results[i] = []
        return results


def extract_by_llm(input, prompt, model):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    response = request_to_chat_openai(messages=messages, model=model)
    return response


def extract_arguments(input, prompt, model, retries=1):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response = request_to_chat_openai(messages=messages, model=model, is_json=False)
        items = parse_response(response)
        items = filter(None, items)  # omit empty strings
        return items
    except json.decoder.JSONDecodeError as e:
        print("JSON error:", e)
        print("Input was:", input)
        print("Response was:", response)
        print("Silently giving up on trying to generate valid list.")
        return []
18:T1149,"""Cluster the arguments using UMAP + HDBSCAN and GPT-4."""

from importlib import import_module

import numpy as np
import pandas as pd
import scipy.cluster.hierarchy as sch
from sklearn.cluster import KMeans


def hierarchical_clustering(config):
    UMAP = import_module("umap").UMAP

    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_clusters.csv"
    arguments_df = pd.read_csv(f"outputs/{dataset}/args.csv", usecols=["arg-id", "argument"])
    embeddings_df = pd.read_pickle(f"outputs/{dataset}/embeddings.pkl")
    embeddings_array = np.asarray(embeddings_df["embedding"].values.tolist())
    cluster_nums = config["hierarchical_clustering"]["cluster_nums"]

    n_samples = embeddings_array.shape[0]
    # デフォルト設定は15
    default_n_neighbors = 15

    # テスト等サンプルが少なすぎる場合、n_neighborsの設定値を下げる
    if n_samples <= default_n_neighbors:
        n_neighbors = max(2, n_samples - 1)  # 最低2以上
    else:
        n_neighbors = default_n_neighbors

    umap_model = UMAP(random_state=42, n_components=2, n_neighbors=n_neighbors)
    # TODO 詳細エラーメッセージを加える
    # 以下のエラーの場合、おそらく元の意見件数が少なすぎることが原因
    # TypeError: Cannot use scipy.linalg.eigh for sparse A with k >= N. Use scipy.linalg.eigh(A.toarray()) or reduce k.
    umap_embeds = umap_model.fit_transform(embeddings_array)

    cluster_results = hierarchical_clustering_embeddings(
        umap_embeds=umap_embeds,
        cluster_nums=cluster_nums,
    )
    result_df = pd.DataFrame(
        {
            "arg-id": arguments_df["arg-id"],
            "argument": arguments_df["argument"],
            "x": umap_embeds[:, 0],
            "y": umap_embeds[:, 1],
        }
    )

    for cluster_level, final_labels in enumerate(cluster_results.values(), start=1):
        result_df[f"cluster-level-{cluster_level}-id"] = [f"{cluster_level}_{label}" for label in final_labels]

    result_df.to_csv(path, index=False)


def generate_cluster_count_list(min_clusters: int, max_clusters: int):
    cluster_counts = []
    current = min_clusters
    cluster_counts.append(current)

    if min_clusters == max_clusters:
        return cluster_counts

    while True:
        next_double = current * 2
        next_triple = current * 3

        if next_double >= max_clusters:
            if cluster_counts[-1] != max_clusters:
                cluster_counts.append(max_clusters)
            break

        # 次の倍はまだ max_clusters に収まるが、3倍だと超える
        # -> (次の倍は細かすぎるので)スキップして max_clusters に飛ぶ
        if next_triple > max_clusters:
            cluster_counts.append(max_clusters)
            break

        cluster_counts.append(next_double)
        current = next_double

    return cluster_counts


def merge_clusters_with_hierarchy(
    cluster_centers: np.ndarray,
    kmeans_labels: np.ndarray,
    umap_array: np.ndarray,
    n_cluster_cut: int,
):
    Z = sch.linkage(cluster_centers, method="ward")
    cluster_labels_merged = sch.fcluster(Z, t=n_cluster_cut, criterion="maxclust")

    n_samples = umap_array.shape[0]
    final_labels = np.zeros(n_samples, dtype=int)

    for i in range(n_samples):
        original_label = kmeans_labels[i]
        final_labels[i] = cluster_labels_merged[original_label]

    return final_labels


def hierarchical_clustering_embeddings(
    umap_embeds,
    cluster_nums,
):
    # 最大分割数でクラスタリングを実施
    print("start initial clustering")
    initial_cluster_num = cluster_nums[-1]
    kmeans_model = KMeans(n_clusters=initial_cluster_num, random_state=42)
    kmeans_model.fit(umap_embeds)
    print("end initial clustering")

    results = {}
    print("start hierarchical clustering")
    cluster_nums.sort()
    print(cluster_nums)
    for n_cluster_cut in cluster_nums[:-1]:
        print("n_cluster_cut: ", n_cluster_cut)
        final_labels = merge_clusters_with_hierarchy(
            cluster_centers=kmeans_model.cluster_centers_,
            kmeans_labels=kmeans_model.labels_,
            umap_array=umap_embeds,
            n_cluster_cut=n_cluster_cut,
        )
        results[n_cluster_cut] = final_labels

    results[initial_cluster_num] = kmeans_model.labels_
    print("end hierarchical clustering")

    return results
19:T142a,import json
from concurrent.futures import ThreadPoolExecutor
from functools import partial
from typing import TypedDict

import pandas as pd

from services.llm import request_to_chat_openai


class LabellingResult(TypedDict):
    """各クラスタのラベリング結果を表す型"""

    cluster_id: str  # クラスタのID
    label: str  # クラスタのラベル名
    description: str  # クラスタの説明文


def hierarchical_initial_labelling(config: dict) -> None:
    """階層的クラスタリングの初期ラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_initial_labelling: 初期ラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
    """
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_initial_labels.csv"
    clusters_argument_df = pd.read_csv(f"outputs/{dataset}/hierarchical_clusters.csv")

    cluster_id_columns = [col for col in clusters_argument_df.columns if col.startswith("cluster-level-")]
    initial_cluster_id_column = cluster_id_columns[-1]
    sampling_num = config["hierarchical_initial_labelling"]["sampling_num"]
    initial_labelling_prompt = config["hierarchical_initial_labelling"]["prompt"]
    model = config["hierarchical_initial_labelling"]["model"]
    workers = config["hierarchical_initial_labelling"]["workers"]

    initial_label_df = initial_labelling(
        initial_labelling_prompt,
        clusters_argument_df,
        sampling_num,
        model,
        workers,
    )
    print("start initial labelling")
    initial_clusters_argument_df = clusters_argument_df.merge(
        initial_label_df,
        left_on=initial_cluster_id_column,
        right_on="cluster_id",
        how="left",
    ).rename(
        columns={
            "label": f"{initial_cluster_id_column.replace('-id', '')}-label",
            "description": f"{initial_cluster_id_column.replace('-id', '')}-description",
        }
    )
    print("end initial labelling")
    initial_clusters_argument_df.to_csv(path, index=False)


def initial_labelling(
    prompt: str,
    clusters_df: pd.DataFrame,
    sampling_num: int,
    model: str,
    workers: int,
) -> pd.DataFrame:
    """各クラスタに対して初期ラベリングを実行する

    Args:
        prompt: LLMへのプロンプト
        clusters_df: クラスタリング結果のDataFrame
        sampling_num: 各クラスタからサンプリングする意見の数
        model: 使用するLLMモデル名
        workers: 並列処理のワーカー数

    Returns:
        各クラスタのラベリング結果を含むDataFrame
    """
    cluster_columns = [col for col in clusters_df.columns if col.startswith("cluster-level-")]
    initial_cluster_column = cluster_columns[-1]
    cluster_ids = clusters_df[initial_cluster_column].unique()
    process_func = partial(
        process_initial_labelling,
        df=clusters_df,
        prompt=prompt,
        sampling_num=sampling_num,
        target_column=initial_cluster_column,
        model=model,
    )
    with ThreadPoolExecutor(max_workers=workers) as executor:
        results = list(executor.map(process_func, cluster_ids))
    return pd.DataFrame(results)


def process_initial_labelling(
    cluster_id: str,
    df: pd.DataFrame,
    prompt: str,
    sampling_num: int,
    target_column: str,
    model: str,
) -> LabellingResult:
    """個別のクラスタに対してラベリングを実行する

    Args:
        cluster_id: 処理対象のクラスタID
        df: クラスタリング結果のDataFrame
        prompt: LLMへのプロンプト
        sampling_num: サンプリングする意見の数
        target_column: クラスタIDが格納されている列名
        model: 使用するLLMモデル名

    Returns:
        クラスタのラベリング結果
    """
    cluster_data = df[df[target_column] == cluster_id]
    sampling_num = min(sampling_num, len(cluster_data))
    cluster = cluster_data.sample(sampling_num)
    input = "\n".join(cluster["argument"].values)
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response = request_to_chat_openai(messages=messages, model=model, is_json=True)
        response_json = json.loads(response)
        return LabellingResult(
            cluster_id=cluster_id,
            label=response_json.get("label", "エラーでラベル名が取得できませんでした"),
            description=response_json.get("description", "エラーで解説が取得できませんでした"),
        )
    except Exception as e:
        print(e)
        return LabellingResult(
            cluster_id=cluster_id,
            label="エラーでラベル名が取得できませんでした",
            description="エラーで解説が取得できませんでした",
        )
1a:T2fa5,import json
from concurrent.futures import ThreadPoolExecutor
from dataclasses import dataclass
from functools import partial

import numpy as np
import pandas as pd
from tqdm import tqdm

from services.llm import request_to_chat_openai


@dataclass
class ClusterColumns:
    """同一階層のクラスター関連のカラム名を管理するクラス"""

    id: str
    label: str
    description: str

    @classmethod
    def from_id_column(cls, id_column: str) -> "ClusterColumns":
        """ID列名から関連するカラム名を生成"""
        return cls(
            id=id_column,
            label=id_column.replace("-id", "-label"),
            description=id_column.replace("-id", "-description"),
        )


@dataclass
class ClusterValues:
    """対象クラスタのlabel/descriptionを管理するクラス"""

    label: str
    description: str

    def to_prompt_text(self) -> str:
        return f"- {self.label}: {self.description}"


def hierarchical_merge_labelling(config: dict) -> None:
    """階層的クラスタリングの結果に対してマージラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_merge_labelling: マージラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
    """
    dataset = config["output_dir"]
    merge_path = f"outputs/{dataset}/hierarchical_merge_labels.csv"
    clusters_df = pd.read_csv(f"outputs/{dataset}/hierarchical_initial_labels.csv")

    cluster_id_columns: list[str] = _filter_id_columns(clusters_df.columns)
    # ボトムクラスタのラベル・説明とクラスタid付きの各argumentを入力し、各階層のクラスタラベル・説明を生成し、argumentに付けたdfを作成
    merge_result_df = merge_labelling(
        clusters_df=clusters_df,
        cluster_id_columns=sorted(cluster_id_columns, reverse=True),
        config=config,
    )
    # 上記のdfから各クラスタのlevel, id, label, description, valueを取得してdfを作成
    melted_df = melt_cluster_data(merge_result_df)
    # 上記のdfに親子関係を追加
    parent_child_df = _build_parent_child_mapping(merge_result_df, cluster_id_columns)
    melted_df = melted_df.merge(parent_child_df, on=["level", "id"], how="left")
    density_df = calculate_cluster_density(melted_df, config)
    density_df.to_csv(merge_path, index=False)


def _build_parent_child_mapping(df: pd.DataFrame, cluster_id_columns: list[str]):
    """クラスタ間の親子関係をマッピングする

    Args:
        df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト

    Returns:
        親子関係のマッピング情報を含むDataFrame
    """
    results = []
    top_cluster_column = cluster_id_columns[0]
    top_cluster_values = df[top_cluster_column].unique()
    for c in top_cluster_values:
        results.append(
            {
                "level": 1,
                "id": c,
                "parent": "0",  # aggregationで追加する全体クラスタのid
            }
        )

    for idx in range(len(cluster_id_columns) - 1):
        current_column = cluster_id_columns[idx]
        children_column = cluster_id_columns[idx + 1]
        current_level = current_column.replace("-id", "").replace("cluster-level-", "")
        # 現在のレベルのクラスタid
        current_cluster_values = df[current_column].unique()
        for current_id in current_cluster_values:
            children_ids = df.loc[df[current_column] == current_id, children_column].unique()
            for child_id in children_ids:
                results.append(
                    {
                        "level": int(current_level) + 1,
                        "id": child_id,
                        "parent": current_id,
                    }
                )
    return pd.DataFrame(results)


def _filter_id_columns(columns: list[str]) -> list[str]:
    """クラスタIDのカラム名をフィルタリングする

    Args:
        columns: 全カラム名のリスト

    Returns:
        クラスタIDのカラム名のリスト
    """
    return [col for col in columns if col.startswith("cluster-level-") and col.endswith("-id")]


def melt_cluster_data(df: pd.DataFrame) -> pd.DataFrame:
    """クラスタデータを行形式に変換する

    cluster-level-n-(id|label|description) を行形式 (level, id, label, description, value) にまとめる。
    [cluster-level-n-id, cluster-level-n-label, cluster-level-n-description] を [level, id, label, description, value(件数)] に変換する。

    Args:
        df: クラスタリング結果のDataFrame

    Returns:
        行形式に変換されたDataFrame
    """
    id_columns: list[str] = _filter_id_columns(df.columns)
    levels: set[int] = {int(col.replace("cluster-level-", "").replace("-id", "")) for col in id_columns}
    all_rows: list[dict] = []

    # levelごとに各クラスタの出現件数を集計・縦持ちにする
    for level in levels:
        cluster_columns = ClusterColumns.from_id_column(f"cluster-level-{level}-id")
        # クラスタidごとの件数集計
        level_count_df = df.groupby(cluster_columns.id).size().reset_index(name="value")

        level_unique_val_df = df[
            [cluster_columns.id, cluster_columns.label, cluster_columns.description]
        ].drop_duplicates()
        level_unique_val_df = level_unique_val_df.merge(level_count_df, on=cluster_columns.id, how="left")
        level_unique_vals = [
            {
                "level": level,
                "id": row[cluster_columns.id],
                "label": row[cluster_columns.label],
                "description": row[cluster_columns.description],
                "value": row["value"],
            }
            for _, row in level_unique_val_df.iterrows()
        ]
        all_rows.extend(level_unique_vals)
    return pd.DataFrame(all_rows)


def merge_labelling(clusters_df: pd.DataFrame, cluster_id_columns: list[str], config) -> pd.DataFrame:
    """階層的なクラスタのマージラベリングを実行する

    Args:
        clusters_df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含むDataFrame
    """
    for idx in tqdm(range(len(cluster_id_columns) - 1)):
        previous_columns = ClusterColumns.from_id_column(cluster_id_columns[idx])
        current_columns = ClusterColumns.from_id_column(cluster_id_columns[idx + 1])

        process_fn = partial(
            process_merge_labelling,
            result_df=clusters_df,
            current_columns=current_columns,
            previous_columns=previous_columns,
            config=config,
        )

        current_cluster_ids = sorted(clusters_df[current_columns.id].unique())
        with ThreadPoolExecutor(max_workers=config["hierarchical_merge_labelling"]["workers"]) as executor:
            responses = list(
                tqdm(
                    executor.map(process_fn, current_cluster_ids),
                    total=len(current_cluster_ids),
                )
            )

        current_result_df = pd.DataFrame(responses)
        clusters_df = clusters_df.merge(current_result_df, on=[current_columns.id])
    return clusters_df


def process_merge_labelling(
    target_cluster_id: str,
    result_df: pd.DataFrame,
    current_columns: ClusterColumns,
    previous_columns: ClusterColumns,
    config,
):
    """個別のクラスタに対してマージラベリングを実行する

    Args:
        target_cluster_id: 処理対象のクラスタID
        result_df: クラスタリング結果のDataFrame
        current_columns: 現在のレベルのカラム情報
        previous_columns: 前のレベルのカラム情報
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含む辞書
    """

    def filter_previous_values(df: pd.DataFrame, previous_columns: ClusterColumns) -> list[ClusterValues]:
        """前のレベルのクラスタ情報を取得する"""
        previous_records = df[df[current_columns.id] == target_cluster_id][
            [previous_columns.label, previous_columns.description]
        ].drop_duplicates()
        previous_values = [
            ClusterValues(
                label=row[previous_columns.label],
                description=row[previous_columns.description],
            )
            for _, row in previous_records.iterrows()
        ]
        return previous_values

    previous_values = filter_previous_values(result_df, previous_columns)
    if len(previous_values) == 1:
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: previous_values[0].label,
            current_columns.description: previous_values[0].description,
        }
    elif len(previous_values) == 0:
        raise ValueError(f"クラスタ {target_cluster_id} には前のレベルのクラスタが存在しません。")

    current_cluster_data = result_df[result_df[current_columns.id] == target_cluster_id]
    sampling_num = min(
        config["hierarchical_merge_labelling"]["sampling_num"],
        len(current_cluster_data),
    )
    sampled_data = current_cluster_data.sample(sampling_num)
    sampled_argument_text = "\n".join(sampled_data["argument"].values)
    cluster_text = "\n".join([value.to_prompt_text() for value in previous_values])
    messages = [
        {"role": "system", "content": config["hierarchical_merge_labelling"]["prompt"]},
        {
            "role": "user",
            "content": "クラスタラベル\n" + cluster_text + "\n" + "クラスタの意見\n" + sampled_argument_text,
        },
    ]
    try:
        response = request_to_chat_openai(
            messages=messages,
            model=config["hierarchical_merge_labelling"]["model"],
            is_json=True,
        )
        response_json = json.loads(response)
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: response_json.get("label", "エラーでラベル名が取得できませんでした"),
            current_columns.description: response_json.get("description", "エラーで解説が取得できませんでした"),
        }
    except Exception as e:
        print(f"エラーが発生しました: {e}")
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: "エラーでラベル名が取得できませんでした",
            current_columns.description: "エラーで解説が取得できませんでした",
        }


def calculate_cluster_density(melted_df: pd.DataFrame, config: dict):
    """クラスタ内の密度計算"""
    hierarchical_cluster_df = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")

    densities = []
    for level, c_id in zip(melted_df["level"], melted_df["id"], strict=False):
        cluster_embeds = hierarchical_cluster_df[hierarchical_cluster_df[f"cluster-level-{level}-id"] == c_id][
            ["x", "y"]
        ].values
        density = calculate_density(cluster_embeds)
        densities.append(density)

    # 密度のランクを計算
    melted_df["density"] = densities
    melted_df["density_rank"] = melted_df.groupby("level")["density"].rank(ascending=False, method="first")
    melted_df["density_rank_percentile"] = melted_df.groupby("level")["density_rank"].transform(lambda x: x / len(x))
    return melted_df


def calculate_density(embeds: np.ndarray):
    """平均距離に基づいて密度を計算"""
    center = np.mean(embeds, axis=0)
    distances = np.linalg.norm(embeds - center, axis=1)
    avg_distance = np.mean(distances)
    density = 1 / (avg_distance + 1e-10)
    return density
1b:T4c0,"""Create summaries for the clusters."""

import pandas as pd

from services.llm import request_to_chat_openai


def hierarchical_overview(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_overview.txt"

    hierarchical_label_df = pd.read_csv(f"outputs/{dataset}/hierarchical_merge_labels.csv")

    prompt = config["hierarchical_overview"]["prompt"]
    model = config["hierarchical_overview"]["model"]

    # TODO: level1で固定にしているが、設定で変えられるようにする
    target_level = 1
    target_records = hierarchical_label_df[hierarchical_label_df["level"] == target_level]
    ids = target_records["id"].to_list()
    labels = target_records["label"].to_list()
    descriptions = target_records["description"].to_list()
    target_records.set_index("id", inplace=True)

    input = ""
    for i, _ in enumerate(ids):
        input += f"# Cluster {i}/{len(ids)}: {labels[i]}\n\n"
        input += descriptions[i] + "\n\n"

    messages = [{"role": "user", "content": prompt}, {"role": "user", "content": input}]
    response = request_to_chat_openai(messages=messages, model=model)

    with open(path, "w") as file:
        file.write(response)
1c:T22d3,"""Generate a convenient JSON output file."""

import json
from collections import defaultdict
from pathlib import Path
from typing import TypedDict

import pandas as pd

ROOT_DIR = Path(__file__).parent.parent.parent.parent
CONFIG_DIR = ROOT_DIR / "scatter" / "pipeline" / "configs"


class Argument(TypedDict):
    arg_id: str
    argument: str
    comment_id: str
    x: float
    y: float
    p: float
    cluster_ids: list[str]


class Cluster(TypedDict):
    level: int
    id: str
    label: str
    takeaway: str
    value: int
    parent: str
    density_rank_percentile: float | None


def hierarchical_aggregation(config):
    path = f"outputs/{config['output_dir']}/hierarchical_result.json"
    results = {
        "arguments": [],
        "clusters": [],
        "comments": {},
        "propertyMap": {},
        "translations": {},
        "overview": "",
        "config": config,
    }

    arguments = pd.read_csv(f"outputs/{config['output_dir']}/args.csv")
    arguments.set_index("arg-id", inplace=True)
    arg_num = len(arguments)
    relation_df = pd.read_csv(f"outputs/{config['output_dir']}/relations.csv")
    comments = pd.read_csv(f"inputs/{config['input']}.csv")
    clusters = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")
    labels = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_merge_labels.csv")

    hidden_properties_map: dict[str, list[str]] = config["hierarchical_aggregation"]["hidden_properties"]

    results["arguments"] = _build_arguments(clusters)
    results["clusters"] = _build_cluster_value(labels, arg_num)
    # NOTE: 属性に応じたコメントフィルタ機能が実装されておらず、全てのコメントが含まれてしまうので、コメントアウト
    # results["comments"] = _build_comments_value(
    #     comments, arguments, hidden_properties_map
    # )
    results["comment_num"] = len(comments)
    results["translations"] = _build_translations(config)
    # 属性情報のカラムは、元データに対して指定したカラムとclassificationするカテゴリを合わせたもの
    results["propertyMap"] = _build_property_map(arguments, hidden_properties_map, config)

    with open(f"outputs/{config['output_dir']}/hierarchical_overview.txt") as f:
        overview = f.read()
    print("overview")
    print(overview)
    results["overview"] = overview

    with open(path, "w") as file:
        json.dump(results, file, indent=2, ensure_ascii=False)
    # TODO: サンプリングロジックを実装したいが、現状は全件抽出
    create_custom_intro(config)
    if config["is_pubcom"]:
        add_original_comments(labels, arguments, relation_df, clusters, config)


def create_custom_intro(config):
    dataset = config["output_dir"]
    args_path = f"outputs/{dataset}/args.csv"
    comments = pd.read_csv(f"inputs/{config['input']}.csv")
    result_path = f"outputs/{dataset}/hierarchical_result.json"

    input_count = len(comments)
    args_count = len(pd.read_csv(args_path))
    processed_num = min(input_count, config["extraction"]["limit"])

    print(f"Input count: {input_count}")
    print(f"Args count: {args_count}")

    base_custom_intro = """{intro}
分析対象となったデータの件数は{processed_num}件で、これらのデータに対してOpenAI APIを用いて{args_count}件の意見（議論）を抽出し、クラスタリングを行った。
"""

    intro = config["intro"]
    custom_intro = base_custom_intro.format(intro=intro, processed_num=processed_num, args_count=args_count)

    with open(result_path) as f:
        result = json.load(f)
    result["config"]["intro"] = custom_intro
    with open(result_path, "w") as f:
        json.dump(result, f, indent=2, ensure_ascii=False)


def add_original_comments(labels, arguments, relation_df, clusters, config):
    # 大カテゴリ（cluster-level-1）に該当するラベルだけ抽出
    labels_lv1 = labels[labels["level"] == 1][["id", "label"]].rename(
        columns={"id": "cluster-level-1-id", "label": "category_label"}
    )

    # arguments と clusters をマージ（カテゴリ情報付与）
    merged = arguments.merge(clusters[["arg-id", "cluster-level-1-id"]], on="arg-id").merge(
        labels_lv1, on="cluster-level-1-id", how="left"
    )

    # relation_df と結合
    merged = merged.merge(relation_df, on="arg-id", how="left")

    # 元コメント取得
    comments = pd.read_csv(f"inputs/{config['input']}.csv")
    comments["comment-id"] = comments["comment-id"].astype(str)
    merged["comment-id"] = merged["comment-id"].astype(str)

    # 元コメント本文などとマージ
    final_df = merged.merge(comments, on="comment-id", how="left")

    # 必要カラムのみ整形
    final_cols = ["comment-id", "comment-body", "arg-id", "argument", "cluster-level-1-id", "category_label"]
    for col in ["source", "url"]:
        if col in comments.columns:
            final_cols.append(col)

    final_df = final_df[final_cols]
    final_df = final_df.rename(
        columns={
            "cluster-level-1-id": "category_id",
            "category_label": "category",
            "arg-id": "arg_id",
            "argument": "argument",
            "comment-body": "original-comment",
        }
    )

    # 保存
    final_df.to_csv(f"outputs/{config['output_dir']}/final_result_with_comments.csv", index=False)


def _build_arguments(clusters: pd.DataFrame) -> list[Argument]:
    cluster_columns = [col for col in clusters.columns if col.startswith("cluster-level-") and "id" in col]

    arguments: list[Argument] = []
    for _, row in clusters.iterrows():
        cluster_ids = ["0"]
        for cluster_column in cluster_columns:
            cluster_ids.append(row[cluster_column])
        argument: Argument = {
            "arg_id": row["arg-id"],
            "argument": row["argument"],
            "x": row["x"],
            "y": row["y"],
            "p": 0,  # NOTE: 一旦全部0でいれる
            "cluster_ids": cluster_ids,
        }
        arguments.append(argument)
    return arguments


def _build_cluster_value(melted_labels: pd.DataFrame, total_num: int) -> list[Cluster]:
    results: list[Cluster] = [
        Cluster(
            level=0,
            id="0",
            label="全体",
            takeaway="",
            value=total_num,
            parent="",
            density_rank_percentile=0,
        )
    ]

    for _, melted_label in melted_labels.iterrows():
        cluster_value = Cluster(
            level=melted_label["level"],
            id=melted_label["id"],
            label=melted_label["label"],
            takeaway=melted_label["description"],
            value=melted_label["value"],
            parent=melted_label.get("parent", "全体"),
            density_rank_percentile=melted_label.get("density_rank_percentile"),
        )
        results.append(cluster_value)
    return results


def _build_comments_value(
    comments: pd.DataFrame,
    arguments: pd.DataFrame,
    hidden_properties_map: dict[str, list[str]],
):
    comment_dict: dict[str, dict[str, str]] = {}
    useful_comment_ids = set(arguments["comment-id"].values)
    for _, row in comments.iterrows():
        id = row["comment-id"]
        if id in useful_comment_ids:
            res = {"comment": row["comment-body"]}
            should_skip = any(row[prop] in hidden_values for prop, hidden_values in hidden_properties_map.items())
            if should_skip:
                continue
            comment_dict[str(id)] = res

    return comment_dict


def _build_translations(config):
    languages = list(config.get("translation", {}).get("languages", []))
    if len(languages) > 0:
        with open(f"outputs/{config['output_dir']}/translations.json") as f:
            translations = f.read()
        return json.loads(translations)
    return {}


def _build_property_map(
    arguments: pd.DataFrame, hidden_properties_map: dict[str, list[str]], config: dict
) -> dict[str, dict[str, str]]:
    property_columns = list(hidden_properties_map.keys()) + list(config["extraction"]["categories"].keys())
    property_map = defaultdict(dict)

    # 指定された property_columns が arguments に存在するかチェック
    missing_cols = [col for col in property_columns if col not in arguments.columns]
    if missing_cols:
        raise ValueError(
            f"指定されたカラム {missing_cols} が args.csv に存在しません。"
            "設定ファイルaggregation / hidden_propertiesから該当カラムを取り除いてください。"
        )

    for prop in property_columns:
        for arg_id, row in arguments.iterrows():
            # LLMによるcategory classificationがうまく行かず、NaNの場合はNoneにする
            property_map[prop][arg_id] = row[prop] if not pd.isna(row[prop]) else None
    return property_map
1d:T13f1,import concurrent.futures
import json
import logging
import re

import pandas as pd
from tqdm import tqdm

from services.category_classification import classify_args
from services.llm import request_to_chat_openai
from services.parse_json_list import parse_response
from utils import update_progress

COMMA_AND_SPACE_AND_RIGHT_BRACKET = re.compile(r",\s*(\])")


def _validate_property_columns(property_columns: list[str], comments: pd.DataFrame) -> None:
    if not all(property in comments.columns for property in property_columns):
        raise ValueError(f"Properties {property_columns} not found in comments. Columns are {comments.columns}")


def extraction(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/args.csv"
    model = config["extraction"]["model"]
    prompt = config["extraction"]["prompt"]
    workers = config["extraction"]["workers"]
    limit = config["extraction"]["limit"]
    property_columns = config["extraction"]["properties"]

    # カラム名だけを読み込み、必要なカラムが含まれているか確認する
    comments = pd.read_csv(f"inputs/{config['input']}.csv", nrows=0)
    _validate_property_columns(property_columns, comments)
    # エラーが出なかった場合、すべての行を読み込む
    comments = pd.read_csv(
        f"inputs/{config['input']}.csv", usecols=["comment-id", "comment-body"] + config["extraction"]["properties"]
    )
    comment_ids = (comments["comment-id"].values)[:limit]
    comments.set_index("comment-id", inplace=True)
    results = pd.DataFrame()
    update_progress(config, total=len(comment_ids))

    argument_map = {}
    relation_rows = []

    for i in tqdm(range(0, len(comment_ids), workers)):
        batch = comment_ids[i : i + workers]
        batch_inputs = [comments.loc[id]["comment-body"] for id in batch]
        batch_results = extract_batch(batch_inputs, prompt, model, workers)

        for comment_id, extracted_args in zip(batch, batch_results, strict=False):
            for j, arg in enumerate(extracted_args):
                if arg not in argument_map:
                    # argumentテーブルに追加
                    arg_id = f"A{comment_id}_{j}"
                    argument_map[arg] = {
                        "arg-id": arg_id,
                        "argument": arg,
                    }
                else:
                    arg_id = argument_map[arg]["arg-id"]

                # relationテーブルにcommentとargの関係を追加
                relation_row = {
                    "arg-id": arg_id,
                    "comment-id": comment_id,
                }
                relation_rows.append(relation_row)

        update_progress(config, incr=len(batch))

    # DataFrame化
    results = pd.DataFrame(argument_map.values())
    relation_df = pd.DataFrame(relation_rows)

    if results.empty:
        raise RuntimeError("result is empty, maybe bad prompt")

    classification_categories = config["extraction"]["categories"]
    if classification_categories:
        results = classify_args(results, config, workers)

    results.to_csv(path, index=False)
    # comment-idとarg-idの関係を保存
    relation_df.to_csv(f"outputs/{dataset}/relations.csv", index=False)


logging.basicConfig(level=logging.ERROR)


def extract_batch(batch, prompt, model, workers):
    with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        futures_with_index = [
            (i, executor.submit(extract_arguments, input, prompt, model)) for i, input in enumerate(batch)
        ]

        done, not_done = concurrent.futures.wait([f for _, f in futures_with_index], timeout=30)
        results = [[] for _ in range(len(batch))]

        for _, future in futures_with_index:
            if future in not_done and not future.cancelled():
                future.cancel()

        for i, future in futures_with_index:
            if future in done:
                try:
                    result = future.result()
                    results[i] = result
                except Exception as e:
                    logging.error(f"Task {future} failed with error: {e}")
                    results[i] = []
        return results


def extract_by_llm(input, prompt, model):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    response = request_to_chat_openai(messages=messages, model=model)
    return response


def extract_arguments(input, prompt, model, retries=1):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response = request_to_chat_openai(messages=messages, model=model, is_json=False)
        items = parse_response(response)
        items = filter(None, items)  # omit empty strings
        return items
    except json.decoder.JSONDecodeError as e:
        print("JSON error:", e)
        print("Input was:", input)
        print("Response was:", response)
        print("Silently giving up on trying to generate valid list.")
        return []
1e:T1149,"""Cluster the arguments using UMAP + HDBSCAN and GPT-4."""

from importlib import import_module

import numpy as np
import pandas as pd
import scipy.cluster.hierarchy as sch
from sklearn.cluster import KMeans


def hierarchical_clustering(config):
    UMAP = import_module("umap").UMAP

    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_clusters.csv"
    arguments_df = pd.read_csv(f"outputs/{dataset}/args.csv", usecols=["arg-id", "argument"])
    embeddings_df = pd.read_pickle(f"outputs/{dataset}/embeddings.pkl")
    embeddings_array = np.asarray(embeddings_df["embedding"].values.tolist())
    cluster_nums = config["hierarchical_clustering"]["cluster_nums"]

    n_samples = embeddings_array.shape[0]
    # デフォルト設定は15
    default_n_neighbors = 15

    # テスト等サンプルが少なすぎる場合、n_neighborsの設定値を下げる
    if n_samples <= default_n_neighbors:
        n_neighbors = max(2, n_samples - 1)  # 最低2以上
    else:
        n_neighbors = default_n_neighbors

    umap_model = UMAP(random_state=42, n_components=2, n_neighbors=n_neighbors)
    # TODO 詳細エラーメッセージを加える
    # 以下のエラーの場合、おそらく元の意見件数が少なすぎることが原因
    # TypeError: Cannot use scipy.linalg.eigh for sparse A with k >= N. Use scipy.linalg.eigh(A.toarray()) or reduce k.
    umap_embeds = umap_model.fit_transform(embeddings_array)

    cluster_results = hierarchical_clustering_embeddings(
        umap_embeds=umap_embeds,
        cluster_nums=cluster_nums,
    )
    result_df = pd.DataFrame(
        {
            "arg-id": arguments_df["arg-id"],
            "argument": arguments_df["argument"],
            "x": umap_embeds[:, 0],
            "y": umap_embeds[:, 1],
        }
    )

    for cluster_level, final_labels in enumerate(cluster_results.values(), start=1):
        result_df[f"cluster-level-{cluster_level}-id"] = [f"{cluster_level}_{label}" for label in final_labels]

    result_df.to_csv(path, index=False)


def generate_cluster_count_list(min_clusters: int, max_clusters: int):
    cluster_counts = []
    current = min_clusters
    cluster_counts.append(current)

    if min_clusters == max_clusters:
        return cluster_counts

    while True:
        next_double = current * 2
        next_triple = current * 3

        if next_double >= max_clusters:
            if cluster_counts[-1] != max_clusters:
                cluster_counts.append(max_clusters)
            break

        # 次の倍はまだ max_clusters に収まるが、3倍だと超える
        # -> (次の倍は細かすぎるので)スキップして max_clusters に飛ぶ
        if next_triple > max_clusters:
            cluster_counts.append(max_clusters)
            break

        cluster_counts.append(next_double)
        current = next_double

    return cluster_counts


def merge_clusters_with_hierarchy(
    cluster_centers: np.ndarray,
    kmeans_labels: np.ndarray,
    umap_array: np.ndarray,
    n_cluster_cut: int,
):
    Z = sch.linkage(cluster_centers, method="ward")
    cluster_labels_merged = sch.fcluster(Z, t=n_cluster_cut, criterion="maxclust")

    n_samples = umap_array.shape[0]
    final_labels = np.zeros(n_samples, dtype=int)

    for i in range(n_samples):
        original_label = kmeans_labels[i]
        final_labels[i] = cluster_labels_merged[original_label]

    return final_labels


def hierarchical_clustering_embeddings(
    umap_embeds,
    cluster_nums,
):
    # 最大分割数でクラスタリングを実施
    print("start initial clustering")
    initial_cluster_num = cluster_nums[-1]
    kmeans_model = KMeans(n_clusters=initial_cluster_num, random_state=42)
    kmeans_model.fit(umap_embeds)
    print("end initial clustering")

    results = {}
    print("start hierarchical clustering")
    cluster_nums.sort()
    print(cluster_nums)
    for n_cluster_cut in cluster_nums[:-1]:
        print("n_cluster_cut: ", n_cluster_cut)
        final_labels = merge_clusters_with_hierarchy(
            cluster_centers=kmeans_model.cluster_centers_,
            kmeans_labels=kmeans_model.labels_,
            umap_array=umap_embeds,
            n_cluster_cut=n_cluster_cut,
        )
        results[n_cluster_cut] = final_labels

    results[initial_cluster_num] = kmeans_model.labels_
    print("end hierarchical clustering")

    return results
1f:T142a,import json
from concurrent.futures import ThreadPoolExecutor
from functools import partial
from typing import TypedDict

import pandas as pd

from services.llm import request_to_chat_openai


class LabellingResult(TypedDict):
    """各クラスタのラベリング結果を表す型"""

    cluster_id: str  # クラスタのID
    label: str  # クラスタのラベル名
    description: str  # クラスタの説明文


def hierarchical_initial_labelling(config: dict) -> None:
    """階層的クラスタリングの初期ラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_initial_labelling: 初期ラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
    """
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_initial_labels.csv"
    clusters_argument_df = pd.read_csv(f"outputs/{dataset}/hierarchical_clusters.csv")

    cluster_id_columns = [col for col in clusters_argument_df.columns if col.startswith("cluster-level-")]
    initial_cluster_id_column = cluster_id_columns[-1]
    sampling_num = config["hierarchical_initial_labelling"]["sampling_num"]
    initial_labelling_prompt = config["hierarchical_initial_labelling"]["prompt"]
    model = config["hierarchical_initial_labelling"]["model"]
    workers = config["hierarchical_initial_labelling"]["workers"]

    initial_label_df = initial_labelling(
        initial_labelling_prompt,
        clusters_argument_df,
        sampling_num,
        model,
        workers,
    )
    print("start initial labelling")
    initial_clusters_argument_df = clusters_argument_df.merge(
        initial_label_df,
        left_on=initial_cluster_id_column,
        right_on="cluster_id",
        how="left",
    ).rename(
        columns={
            "label": f"{initial_cluster_id_column.replace('-id', '')}-label",
            "description": f"{initial_cluster_id_column.replace('-id', '')}-description",
        }
    )
    print("end initial labelling")
    initial_clusters_argument_df.to_csv(path, index=False)


def initial_labelling(
    prompt: str,
    clusters_df: pd.DataFrame,
    sampling_num: int,
    model: str,
    workers: int,
) -> pd.DataFrame:
    """各クラスタに対して初期ラベリングを実行する

    Args:
        prompt: LLMへのプロンプト
        clusters_df: クラスタリング結果のDataFrame
        sampling_num: 各クラスタからサンプリングする意見の数
        model: 使用するLLMモデル名
        workers: 並列処理のワーカー数

    Returns:
        各クラスタのラベリング結果を含むDataFrame
    """
    cluster_columns = [col for col in clusters_df.columns if col.startswith("cluster-level-")]
    initial_cluster_column = cluster_columns[-1]
    cluster_ids = clusters_df[initial_cluster_column].unique()
    process_func = partial(
        process_initial_labelling,
        df=clusters_df,
        prompt=prompt,
        sampling_num=sampling_num,
        target_column=initial_cluster_column,
        model=model,
    )
    with ThreadPoolExecutor(max_workers=workers) as executor:
        results = list(executor.map(process_func, cluster_ids))
    return pd.DataFrame(results)


def process_initial_labelling(
    cluster_id: str,
    df: pd.DataFrame,
    prompt: str,
    sampling_num: int,
    target_column: str,
    model: str,
) -> LabellingResult:
    """個別のクラスタに対してラベリングを実行する

    Args:
        cluster_id: 処理対象のクラスタID
        df: クラスタリング結果のDataFrame
        prompt: LLMへのプロンプト
        sampling_num: サンプリングする意見の数
        target_column: クラスタIDが格納されている列名
        model: 使用するLLMモデル名

    Returns:
        クラスタのラベリング結果
    """
    cluster_data = df[df[target_column] == cluster_id]
    sampling_num = min(sampling_num, len(cluster_data))
    cluster = cluster_data.sample(sampling_num)
    input = "\n".join(cluster["argument"].values)
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response = request_to_chat_openai(messages=messages, model=model, is_json=True)
        response_json = json.loads(response)
        return LabellingResult(
            cluster_id=cluster_id,
            label=response_json.get("label", "エラーでラベル名が取得できませんでした"),
            description=response_json.get("description", "エラーで解説が取得できませんでした"),
        )
    except Exception as e:
        print(e)
        return LabellingResult(
            cluster_id=cluster_id,
            label="エラーでラベル名が取得できませんでした",
            description="エラーで解説が取得できませんでした",
        )
20:T2fa5,import json
from concurrent.futures import ThreadPoolExecutor
from dataclasses import dataclass
from functools import partial

import numpy as np
import pandas as pd
from tqdm import tqdm

from services.llm import request_to_chat_openai


@dataclass
class ClusterColumns:
    """同一階層のクラスター関連のカラム名を管理するクラス"""

    id: str
    label: str
    description: str

    @classmethod
    def from_id_column(cls, id_column: str) -> "ClusterColumns":
        """ID列名から関連するカラム名を生成"""
        return cls(
            id=id_column,
            label=id_column.replace("-id", "-label"),
            description=id_column.replace("-id", "-description"),
        )


@dataclass
class ClusterValues:
    """対象クラスタのlabel/descriptionを管理するクラス"""

    label: str
    description: str

    def to_prompt_text(self) -> str:
        return f"- {self.label}: {self.description}"


def hierarchical_merge_labelling(config: dict) -> None:
    """階層的クラスタリングの結果に対してマージラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_merge_labelling: マージラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
    """
    dataset = config["output_dir"]
    merge_path = f"outputs/{dataset}/hierarchical_merge_labels.csv"
    clusters_df = pd.read_csv(f"outputs/{dataset}/hierarchical_initial_labels.csv")

    cluster_id_columns: list[str] = _filter_id_columns(clusters_df.columns)
    # ボトムクラスタのラベル・説明とクラスタid付きの各argumentを入力し、各階層のクラスタラベル・説明を生成し、argumentに付けたdfを作成
    merge_result_df = merge_labelling(
        clusters_df=clusters_df,
        cluster_id_columns=sorted(cluster_id_columns, reverse=True),
        config=config,
    )
    # 上記のdfから各クラスタのlevel, id, label, description, valueを取得してdfを作成
    melted_df = melt_cluster_data(merge_result_df)
    # 上記のdfに親子関係を追加
    parent_child_df = _build_parent_child_mapping(merge_result_df, cluster_id_columns)
    melted_df = melted_df.merge(parent_child_df, on=["level", "id"], how="left")
    density_df = calculate_cluster_density(melted_df, config)
    density_df.to_csv(merge_path, index=False)


def _build_parent_child_mapping(df: pd.DataFrame, cluster_id_columns: list[str]):
    """クラスタ間の親子関係をマッピングする

    Args:
        df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト

    Returns:
        親子関係のマッピング情報を含むDataFrame
    """
    results = []
    top_cluster_column = cluster_id_columns[0]
    top_cluster_values = df[top_cluster_column].unique()
    for c in top_cluster_values:
        results.append(
            {
                "level": 1,
                "id": c,
                "parent": "0",  # aggregationで追加する全体クラスタのid
            }
        )

    for idx in range(len(cluster_id_columns) - 1):
        current_column = cluster_id_columns[idx]
        children_column = cluster_id_columns[idx + 1]
        current_level = current_column.replace("-id", "").replace("cluster-level-", "")
        # 現在のレベルのクラスタid
        current_cluster_values = df[current_column].unique()
        for current_id in current_cluster_values:
            children_ids = df.loc[df[current_column] == current_id, children_column].unique()
            for child_id in children_ids:
                results.append(
                    {
                        "level": int(current_level) + 1,
                        "id": child_id,
                        "parent": current_id,
                    }
                )
    return pd.DataFrame(results)


def _filter_id_columns(columns: list[str]) -> list[str]:
    """クラスタIDのカラム名をフィルタリングする

    Args:
        columns: 全カラム名のリスト

    Returns:
        クラスタIDのカラム名のリスト
    """
    return [col for col in columns if col.startswith("cluster-level-") and col.endswith("-id")]


def melt_cluster_data(df: pd.DataFrame) -> pd.DataFrame:
    """クラスタデータを行形式に変換する

    cluster-level-n-(id|label|description) を行形式 (level, id, label, description, value) にまとめる。
    [cluster-level-n-id, cluster-level-n-label, cluster-level-n-description] を [level, id, label, description, value(件数)] に変換する。

    Args:
        df: クラスタリング結果のDataFrame

    Returns:
        行形式に変換されたDataFrame
    """
    id_columns: list[str] = _filter_id_columns(df.columns)
    levels: set[int] = {int(col.replace("cluster-level-", "").replace("-id", "")) for col in id_columns}
    all_rows: list[dict] = []

    # levelごとに各クラスタの出現件数を集計・縦持ちにする
    for level in levels:
        cluster_columns = ClusterColumns.from_id_column(f"cluster-level-{level}-id")
        # クラスタidごとの件数集計
        level_count_df = df.groupby(cluster_columns.id).size().reset_index(name="value")

        level_unique_val_df = df[
            [cluster_columns.id, cluster_columns.label, cluster_columns.description]
        ].drop_duplicates()
        level_unique_val_df = level_unique_val_df.merge(level_count_df, on=cluster_columns.id, how="left")
        level_unique_vals = [
            {
                "level": level,
                "id": row[cluster_columns.id],
                "label": row[cluster_columns.label],
                "description": row[cluster_columns.description],
                "value": row["value"],
            }
            for _, row in level_unique_val_df.iterrows()
        ]
        all_rows.extend(level_unique_vals)
    return pd.DataFrame(all_rows)


def merge_labelling(clusters_df: pd.DataFrame, cluster_id_columns: list[str], config) -> pd.DataFrame:
    """階層的なクラスタのマージラベリングを実行する

    Args:
        clusters_df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含むDataFrame
    """
    for idx in tqdm(range(len(cluster_id_columns) - 1)):
        previous_columns = ClusterColumns.from_id_column(cluster_id_columns[idx])
        current_columns = ClusterColumns.from_id_column(cluster_id_columns[idx + 1])

        process_fn = partial(
            process_merge_labelling,
            result_df=clusters_df,
            current_columns=current_columns,
            previous_columns=previous_columns,
            config=config,
        )

        current_cluster_ids = sorted(clusters_df[current_columns.id].unique())
        with ThreadPoolExecutor(max_workers=config["hierarchical_merge_labelling"]["workers"]) as executor:
            responses = list(
                tqdm(
                    executor.map(process_fn, current_cluster_ids),
                    total=len(current_cluster_ids),
                )
            )

        current_result_df = pd.DataFrame(responses)
        clusters_df = clusters_df.merge(current_result_df, on=[current_columns.id])
    return clusters_df


def process_merge_labelling(
    target_cluster_id: str,
    result_df: pd.DataFrame,
    current_columns: ClusterColumns,
    previous_columns: ClusterColumns,
    config,
):
    """個別のクラスタに対してマージラベリングを実行する

    Args:
        target_cluster_id: 処理対象のクラスタID
        result_df: クラスタリング結果のDataFrame
        current_columns: 現在のレベルのカラム情報
        previous_columns: 前のレベルのカラム情報
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含む辞書
    """

    def filter_previous_values(df: pd.DataFrame, previous_columns: ClusterColumns) -> list[ClusterValues]:
        """前のレベルのクラスタ情報を取得する"""
        previous_records = df[df[current_columns.id] == target_cluster_id][
            [previous_columns.label, previous_columns.description]
        ].drop_duplicates()
        previous_values = [
            ClusterValues(
                label=row[previous_columns.label],
                description=row[previous_columns.description],
            )
            for _, row in previous_records.iterrows()
        ]
        return previous_values

    previous_values = filter_previous_values(result_df, previous_columns)
    if len(previous_values) == 1:
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: previous_values[0].label,
            current_columns.description: previous_values[0].description,
        }
    elif len(previous_values) == 0:
        raise ValueError(f"クラスタ {target_cluster_id} には前のレベルのクラスタが存在しません。")

    current_cluster_data = result_df[result_df[current_columns.id] == target_cluster_id]
    sampling_num = min(
        config["hierarchical_merge_labelling"]["sampling_num"],
        len(current_cluster_data),
    )
    sampled_data = current_cluster_data.sample(sampling_num)
    sampled_argument_text = "\n".join(sampled_data["argument"].values)
    cluster_text = "\n".join([value.to_prompt_text() for value in previous_values])
    messages = [
        {"role": "system", "content": config["hierarchical_merge_labelling"]["prompt"]},
        {
            "role": "user",
            "content": "クラスタラベル\n" + cluster_text + "\n" + "クラスタの意見\n" + sampled_argument_text,
        },
    ]
    try:
        response = request_to_chat_openai(
            messages=messages,
            model=config["hierarchical_merge_labelling"]["model"],
            is_json=True,
        )
        response_json = json.loads(response)
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: response_json.get("label", "エラーでラベル名が取得できませんでした"),
            current_columns.description: response_json.get("description", "エラーで解説が取得できませんでした"),
        }
    except Exception as e:
        print(f"エラーが発生しました: {e}")
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: "エラーでラベル名が取得できませんでした",
            current_columns.description: "エラーで解説が取得できませんでした",
        }


def calculate_cluster_density(melted_df: pd.DataFrame, config: dict):
    """クラスタ内の密度計算"""
    hierarchical_cluster_df = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")

    densities = []
    for level, c_id in zip(melted_df["level"], melted_df["id"], strict=False):
        cluster_embeds = hierarchical_cluster_df[hierarchical_cluster_df[f"cluster-level-{level}-id"] == c_id][
            ["x", "y"]
        ].values
        density = calculate_density(cluster_embeds)
        densities.append(density)

    # 密度のランクを計算
    melted_df["density"] = densities
    melted_df["density_rank"] = melted_df.groupby("level")["density"].rank(ascending=False, method="first")
    melted_df["density_rank_percentile"] = melted_df.groupby("level")["density_rank"].transform(lambda x: x / len(x))
    return melted_df


def calculate_density(embeds: np.ndarray):
    """平均距離に基づいて密度を計算"""
    center = np.mean(embeds, axis=0)
    distances = np.linalg.norm(embeds - center, axis=1)
    avg_distance = np.mean(distances)
    density = 1 / (avg_distance + 1e-10)
    return density
21:T4c0,"""Create summaries for the clusters."""

import pandas as pd

from services.llm import request_to_chat_openai


def hierarchical_overview(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_overview.txt"

    hierarchical_label_df = pd.read_csv(f"outputs/{dataset}/hierarchical_merge_labels.csv")

    prompt = config["hierarchical_overview"]["prompt"]
    model = config["hierarchical_overview"]["model"]

    # TODO: level1で固定にしているが、設定で変えられるようにする
    target_level = 1
    target_records = hierarchical_label_df[hierarchical_label_df["level"] == target_level]
    ids = target_records["id"].to_list()
    labels = target_records["label"].to_list()
    descriptions = target_records["description"].to_list()
    target_records.set_index("id", inplace=True)

    input = ""
    for i, _ in enumerate(ids):
        input += f"# Cluster {i}/{len(ids)}: {labels[i]}\n\n"
        input += descriptions[i] + "\n\n"

    messages = [{"role": "user", "content": prompt}, {"role": "user", "content": input}]
    response = request_to_chat_openai(messages=messages, model=model)

    with open(path, "w") as file:
        file.write(response)
8:[["$","div",null,{"className":"container","children":[["$","$L11",null,{"meta":{"reporter":"テスト環境","message":"これは動作確認のためのテスト用のメタデータです。レポートの作成者に関する情報等を、public/meta/default/metadata.jsonに記載することで、レポート上で情報を表示することができます。","webLink":"https://example.com/","privacyLink":"https://example.com/privacy","termsLink":"https://example.com/terms","brandColor":"#2577B1"}}],["$","$L12",null,{"mx":"auto","maxW":"750px","mb":10,"children":[["$","$L13",null,{"textAlign":"center","fontSize":"xl","mb":5,"children":"Report"}],["$","$L13",null,{"as":"h2","size":"4xl","mb":2,"className":"headingColor","children":"宇多津町_町民アンケート分析_v01.00"}],["$","$L14",null,{"fontWeight":"bold","fontSize":"xl","mb":2,"children":[["$","$L15",null,{"mr":1,"children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}]}],"650","件"]}],["$","p",null,{"children":"宇多津町の地域活性化に関するパブリック・コンサルテーションでは、5つのクラスターが特定されました。クラスター0は商業・観光インフラの強化を通じた経済活性化を目指し、クラスター1は持続可能なコミュニティ開発を通じた地域の魅力向上を提案しています。クラスター2は安全で住みやすい環境の整備を求め、クラスター3は医療や教育の充実を通じた住民生活の向上を目指しています。最後に、クラスター4は行政サービスのデジタル化と住民支援の強化を通じた持続可能な町づくりを提案しています。これらの意見は、宇多津町の持続可能な発展と地域全体の活性化に寄与することを期待しています。"}]]}],["$","$L16",null,{"result":{"arguments":[{"arg_id":"Acsv-1_0","argument":"南部地域での計画的な土地活用と店舗誘致を進めてください。","x":-0.53819436,"y":1.1912706,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-1_1","argument":"南部地域でもゴミ回収を行って欲しいです。","x":1.5204473,"y":-0.56388825,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-2_0","argument":"町役場近くの県道にかかる橋の歩道の補修を希望します。","x":2.585592,"y":1.4518769,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-3_0","argument":"海岸の活用についての提案。","x":0.7882422,"y":0.4426525,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-4_0","argument":"宇多津町内に病院が少なく、医療施設の充実を求める。現在は丸亀市や坂出市まで行かなければならない状況を改善してほしい。","x":-2.9936392,"y":4.45523,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-5_0","argument":"宇多津町が住民にとって暮らしやすい町になることを望む。","x":-1.3154546,"y":2.8268287,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-6_0","argument":"宇多津町の行政に対して、住民が情報を得やすくするために、もっと目に留まる方法で情報提供を行ってほしい。","x":-0.7148869,"y":3.798716,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-7_0","argument":"老後のための福祉施設の充実を望む。","x":2.4905794,"y":4.3995433,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-7_1","argument":"子育てしやすい環境の整備を求める。","x":1.7495933,"y":5.256988,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-7_2","argument":"経済面での支援を期待する。","x":1.0347154,"y":5.499942,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-8_0","argument":"観光地の強化とお土産街の整備を希望します。こんぴらのような食べ歩きスポットを作り、駅周辺の寂しい雰囲気を改善して栄えるようにしてほしいです。","x":-0.35822317,"y":0.62253404,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-8_1","argument":"デートスポットやアスレチック施設の整備を望みます。","x":0.6142305,"y":1.1227372,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-9_0","argument":"水族館で町民優待サービスの導入を希望します。","x":0.3457233,"y":0.46535924,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-10_0","argument":"学校などの送り迎えにコミュニティバスを利用できるようにしてほしい。","x":4.2222533,"y":3.5729654,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-10_1","argument":"学童保育の土日実施や延長時間など、共働き世帯に合わせたサービスを提供してほしい。","x":1.6607999,"y":6.1256247,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-11_0","argument":"宇多津町に20年以上住んでいますが、事故が多い場所の改善を望んでいます。これまでに何度か話をしましたが、対応されずに終わっています。このため、住みにくいと感じており、近隣の方々も引っ越しを考えているようです。","x":-1.4914569,"y":3.250826,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-12_0","argument":"プレミアム商品券の配布方法について、公平性を確保してほしい。","x":-1.3855801,"y":4.916677,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-13_0","argument":"人が集まる施設の設置を希望","x":0.47895342,"y":1.1560332,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-14_0","argument":"宇多津町を実に住みやすい街にしてほしい。","x":-1.7521647,"y":2.7299714,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-15_0","argument":"コロナ禍において、医療、福祉、教育のバランスの取れた推進を望みます。","x":0.5625844,"y":5.4434557,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-15_1","argument":"古民家や古街の家の活用が進んでいないと感じます。","x":2.1609495,"y":3.1461592,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-15_2","argument":"臨海公園の駐車場が水族館の利用者でいっぱいになり、町民が駐車できず公園に行けない状況を改善してほしいです。","x":1.4650273,"y":0.48926237,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-16_0","argument":"コミュニティバスの必要性とその提案者、収支について明らかにしてほしい。","x":4.2272515,"y":3.5197885,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-16_1","argument":"人口減少に対する施策に集中し、町を活性化することが重要。特に現役世代に目を向けた施策が必要。","x":1.3604242,"y":4.464165,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-17_0","argument":"コミュニティバスの利用者が少なく、赤字ではないかと懸念しています。無くても良いのではないでしょうか。","x":4.248196,"y":3.5901227,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-17_1","argument":"コンビニで住民票などの取得ができるようにして欲しいです。窓口で予算がないと言われましたが、マイナンバーカードを作った利点が感じられません。","x":-1.1437311,"y":5.149971,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-17_2","argument":"アンケートで予算を出すのであれば、住民の意見をもっと取り入れて欲しいです。","x":-0.657218,"y":5.0217624,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-18_0","argument":"行政に相談した際、説明が分かりにくく、書類も専門用語が多いため、一般的な言葉で簡潔にしてほしい。窓口の職員には、初めて相談に来る人の立場を理解して対応してほしい。","x":-0.26945806,"y":4.623726,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-18_1","argument":"税金が高すぎると感じる。","x":-0.47704643,"y":6.4413266,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-19_0","argument":"町役場などの入社試験を適切に行うこと。","x":-0.15777807,"y":4.5171447,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-19_1","argument":"有名飲食店の誘致を進めること。","x":-0.9831799,"y":0.72612435,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-19_2","argument":"受付業務のデジタル化による人件費の削減。","x":-0.44145107,"y":4.900823,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-19_3","argument":"電車の本数を増やすこと。","x":3.9212012,"y":2.6622386,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-19_4","argument":"歩道の草をきれいに刈ること。","x":2.5752223,"y":0.73834294,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-20_0","argument":"宇多津町に高松にない店舗を誘致して欲しい。具体的には、バーガーキングのようなファストフード店や、成城石井やカルディのようなスーパーを出店して欲しい。","x":-1.7427403,"y":1.3081168,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-21_0","argument":"議員の方々には、当選した自覚を持ち、宇多津町を良くするという決意で行政に臨んでほしい。","x":-0.45347884,"y":3.9121106,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-21_1","argument":"SDGs推進の観点から、行政窓口のデジタル化を早急に進め、紙によるアンケートを廃止し、期間限定のアンケートページの立ち上げなどで対応してほしい。","x":-0.5223164,"y":4.9873705,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-22_0","argument":"高齢者にとって便利な町づくりを進めてほしい。","x":2.4695272,"y":4.180868,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-22_1","argument":"災害に強い街づくりを推進してほしい。","x":1.6601789,"y":2.6886818,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-23_0","argument":"学生奨学金の充実を図り、学生がより学びやすい環境を整えてほしい。特にコロナ禍での学生の負担を軽減するため、臨時の給付金支給や食料支援を行う自治体の取り組みを参考にしてほしい。","x":0.76728815,"y":5.903451,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-23_1","argument":"旧町内の景観を将来にわたって保存してほしい。","x":-0.28982496,"y":2.246744,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-24_0","argument":"宇多津町の緑化を進めてほしい。他の町より気温が高いと感じるため、緑化による気温緩和を期待しています。","x":-1.0155187,"y":2.8390687,"p":0,"cluster_ids":["0","1_1","2_49"]},{"arg_id":"Acsv-24_1","argument":"住民に寄り添った行政を望みます。コロナ禍での支給品は助かりましたが、今後も住民のニーズに応じた対応をお願いします。","x":0.40780798,"y":5.3468437,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-25_0","argument":"高齢者が不自由なく暮らせる街づくりを望む。","x":2.391646,"y":4.0655212,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-26_0","argument":"次代を担う子供への投資として、医療費助成を18歳まで拡大するなど、子育て環境の充実を図ることが必要です。これにより、若い夫婦の移住定着を促進し、町の財政にも貢献することが期待されます。","x":1.7620438,"y":5.1944156,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-27_0","argument":"子どもやお年寄りが住みやすい街づくりを希望します。","x":1.9846654,"y":4.2247405,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-28_0","argument":"地震などの防災対策として、住民の交流の場を増やすことを望みます。","x":0.5963999,"y":3.2934697,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-28_1","argument":"活力ある商工業の復興を望みます。","x":-0.68602926,"y":1.417741,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-29_0","argument":"宇多津町において、兵庫県明石市のような子育て世代への支援や投資をしっかりと行ってほしい。","x":-2.0419438,"y":3.5526242,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-30_0","argument":"古さや素朴さを残しつつ、町づくりを進めてほしい。","x":1.7805084,"y":3.6233509,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-31_0","argument":"宇多津町は他の市町村に比べて美しく清掃されており、昔の街並みと近代的な街並みが良いバランスで成り立っている。この宇多津らしさを維持してほしい。","x":-1.1978091,"y":2.6753802,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-32_0","argument":"アンケートの集計にはMicrosoft FormやGoogle Formを利用し、即時集計を行うことで時間とコストを削減し、結果の分析や今後の展開に注力してほしいです。","x":-0.5839657,"y":4.9222507,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-32_1","argument":"年配の方々も時代の変化に対応できるため、デジタルツールの利用を進めるべきです。","x":-0.32917064,"y":5.057865,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-32_2","argument":"働き手が減少する中で、行政が生産性やサービスの向上を先導してほしいです。","x":0.15409616,"y":4.596753,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-33_0","argument":"高齢者に優しい街づくりを期待しています。特に、介護保険を利用していない元気で自立した高齢者の居場所作りをお願いします。誰でも気軽に利用できる施設やサービスが必要です。","x":2.5800405,"y":4.2355757,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-34_0","argument":"行政はインフラ整備に税金を使い、イベントや団体への支出を控えてほしい。税金は町民全体に利益をもたらすべきであり、一部の利益に偏らないようにすることが重要である。町長や議員、職員はこの点を誤解しないようにしてほしい。","x":-0.37004894,"y":6.029084,"p":0,"cluster_ids":["0","1_2","2_5"]},{"arg_id":"Acsv-35_0","argument":"災害対策の強化: 町民が安心して過ごせるよう、災害時の情報提供や河川の整備などを進めてほしい。","x":1.6239804,"y":2.5512652,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-36_0","argument":"宇多津町には医療機関が少なく、大きな総合病院がないため、住民が他市を選ぶことがある。特に産婦人科がないため、子育て世代の流出が懸念される。","x":-3.0362198,"y":4.378613,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-37_0","argument":"宇多津町の公共施設を利用した音楽ライブなどのイベント開催をもっと緩和し、住民が楽しめるようにしてほしい。他市と比較して規制が厳しいと感じるため、もっと人が集まるようにしてほしい。","x":-0.96007246,"y":2.9314475,"p":0,"cluster_ids":["0","1_1","2_49"]},{"arg_id":"Acsv-38_0","argument":"宇多津町には小児科が1つしかなく、病児保育施設がないため、これらの医療サービスの充実を望みます。特に病児保育は近隣でも受け入れ人数が少ないため、町内での設置を希望します。","x":-2.9394798,"y":4.3964972,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-38_1","argument":"宇多津町には産婦人科がないため、産婦人科の設置を望みます。","x":-3.0245082,"y":4.3880486,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-39_0","argument":"子どもの医療費を18歳まで無料にしてほしい。","x":1.4534073,"y":6.844432,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-39_1","argument":"古くなったマンションや民家を再生利用してほしい。","x":2.1545613,"y":3.1457162,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-40_0","argument":"宇多津町でマイナンバーカードを利用してコンビニの複合機から住民票や印鑑証明を取得できるようにしてほしい。過去に住んだ関東や九州の大都市ではこのサービスが利用できて便利だったため、宇多津町でも導入を希望する。","x":-1.2896457,"y":5.0334325,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-41_0","argument":"住民税の減額を希望します。特に居住年収に応じた減額を検討してほしいです。","x":-0.5525283,"y":6.310264,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-41_1","argument":"角山プールの改修を行い、さらに減額された料金で利用できるトレーニングジムの新設を希望します。","x":0.75211734,"y":1.9263036,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-41_2","argument":"かもでん川の改修を完了させてほしいです。","x":2.2894127,"y":1.8058958,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-42_0","argument":"古街の空き家を間貸しするなど、空き家を活用してほしい。","x":2.2615123,"y":2.9821498,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-43_0","argument":"税金を安くしてほしい。","x":-0.50028586,"y":6.4236937,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-44_0","argument":"宇多津町をDX活用先進町のモデルケースにし、住民が安心して働き、ゆとりをもって暮らせる環境を整備することを望みます。住民アンケートをペーパーレス化し、スマホやPCで回答できるようにし、スピーディな集計と行政への反映を行い、事務処理の時間を削減して、町の発展に専念してください。","x":-0.9709695,"y":3.7983527,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-44_1","argument":"ふるさと納税の見直しを希望します。設定が高額すぎるため、魅力的な品ぞろえを提供し、新たな名物作りや売り込み方の工夫を行ってください。また、返礼品対応の新たな雇用を創出し、水族館貸切りの時間を延長することを提案します。","x":0.27874622,"y":0.43025216,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-44_2","argument":"水族館をシンポジウム開催など学術的な情報発信基地として活用し、研究結果を海の環境保全や養殖技術に生かしてください。水族館周辺の観光整備を進め、地元の人もリピーターになるような海鮮食堂や観光市場を設置し、若者が1次産業に安心して従事できる環境を整えてください。","x":0.47241986,"y":0.4028805,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-44_3","argument":"漫画やアニメの舞台誘致を行い、タイアップ企画や聖地巡礼の観光客を呼び込むことを提案します。","x":0.10254373,"y":0.6293087,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-44_4","argument":"不用品の無料交換会を実施し、まだ使える物を必要とする方に譲る機会を作り、ゴミ処理代を削減してください。","x":1.5955695,"y":-0.625333,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-44_5","argument":"観光シーズン限定で、駅・水族館・札所・飲食店・宿などを巡る観光マイクロバスを運行し、観光客の利便性を向上させてください。隣接の市とタイアップすることで、魅力度をアップさせることも可能です。","x":0.12399941,"y":0.55928636,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-44_6","argument":"味の時計台とたち吉（スタバ）の間の信号機に矢印信号を設置してください。マンションが増え、電車通勤利用者が増加しているため、JRの車両を増やし、宇多津⇔高松の快速電車を希望します。","x":3.7155662,"y":2.5575154,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-45_0","argument":"宇多津町にはスーパーが多く、便利である。","x":-1.8558748,"y":1.4670933,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-46_0","argument":"宇多津町での生活に基本的に満足しています。子育て支援をさらに充実してもらえると、より満足度が上がります。","x":-2.0569582,"y":3.4721959,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-47_0","argument":"宇多津駅南に長距離バスや観光バスの専用停車場を設けてほしい。","x":3.9742668,"y":2.973648,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-47_1","argument":"青の山山頂の整備を進めてほしい（道路整備を含む）。","x":2.5548286,"y":1.3533137,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-48_0","argument":"四国水族館の駐車場とゴールドタワーの横に横断歩道を設置してほしい。特に子連れの家族や杖をついた方が安全に渡れるようにするため、連休など人が多く来る時には警備員を配置してほしい。","x":1.8207445,"y":0.4857521,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-49_0","argument":"無駄な経費を削減し、特に郵送費などのコストを抑えることを望む。","x":-0.3243635,"y":5.4726977,"p":0,"cluster_ids":["0","1_2","2_5"]},{"arg_id":"Acsv-50_0","argument":"交通ルールとマナーの改善のため、一時停止や路上駐車に対する取り締まりの強化をお願いします。","x":3.1516948,"y":2.197787,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-50_1","argument":"JR高架下の有効利用を検討してください。例えば、東京の中央線のような活用方法があります。","x":3.6570468,"y":2.4006834,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-51_0","argument":"河川の改修をお願いしたい。特に鴨田川の改修が途中で中断しているため、豪雨時の安全性が不安です。","x":2.2554395,"y":1.8598639,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-52_0","argument":"学校の放課後に運動場や体育館を開放し、地域交流を深めることを提案します。","x":0.54622054,"y":2.0628984,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-53_0","argument":"公園に子どもが水遊びできる場所を設置してほしい。","x":1.2077042,"y":1.0785351,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-53_1","argument":"図書館の蔵書が少ないと感じるので、読みたい本がないことが多い。マンガや雑誌の貸出しもできるようにしてほしい。","x":0.12743315,"y":2.6626692,"p":0,"cluster_ids":["0","1_3","2_41"]},{"arg_id":"Acsv-53_2","argument":"道路の雑草刈りや樹木の手入れの頻度を増やしてほしい。運転中に草が視界を妨げることがある。","x":2.9759684,"y":0.8186312,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-53_3","argument":"町内に自転車屋が1軒しかなく、店主が高齢であるため、将来的に不安がある。自転車生活をサポートする体制を整えてほしい。","x":2.8817863,"y":3.9931962,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-53_4","argument":"子どもの発熱時に町内で診てもらえる小児科がないため不便。自転車生活者にとって、近隣の病院は遠く、町内で診療できる施設が必要。","x":-2.911839,"y":4.5585766,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-54_0","argument":"コミュニティバスの運行ルートを広報うたづに詳しく説明してほしい。","x":4.235032,"y":3.4022033,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-56_0","argument":"住民税を安くしてほしい。高い割にはサービスを受けている感じがしない。","x":-0.5246192,"y":6.369462,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-57_0","argument":"補助金は本当に必要な人だけに提供し、予算を集中して大きな事業に使って欲しい。具体的には、宇多津小学校の校舎の建てかえを希望します。","x":0.9532255,"y":5.907799,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-58_0","argument":"子どもへのワクチン接種を坂出だけでなく、丸亀でも可能にしてほしい。","x":1.5477163,"y":6.78276,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-58_1","argument":"空き家の増加や道路整備の怠りが治安悪化につながるため、町の景観をきれいに維持することに力を入れてほしい。","x":1.768897,"y":1.6853164,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-59_0","argument":"宇多津町の地域商品券が抽選制になってから当たらないため、切手代が無駄になっている。全員が平等に購入できるようにしてほしい。","x":-1.4599552,"y":4.7222795,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-59_1","argument":"道路のカーブミラーの整備をしてほしい。特に、木が伸びてカーブミラーが見えない時があり危険なので、カーブミラーにかかる木を切ってほしい。","x":3.0928125,"y":0.86544555,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-60_0","argument":"インターネットを活用した調査回答の推進を希望します。ネットを使えない住民もいるかもしれませんが、IOTやDXについての回答にはネット利用が不可欠です。","x":-0.6839044,"y":4.4717035,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-60_1","argument":"町役場の窓口対応について、親切な職員もいる一方で冷たいと感じることもあります。対応のスタンダードを意識してほしいです。","x":-0.089359894,"y":4.6387854,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-60_2","argument":"行政は弱者や被差別者の保護が重要ですが、過剰な優遇は避け、逆差別にならないように注意してほしいです。","x":2.0545332,"y":5.150664,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-60_3","argument":"理不尽な要求で役場の業務を妨害する者には厳しく対処してほしいです。","x":0.15831251,"y":4.4720483,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-60_4","argument":"住民票や戸籍の簡単な請求手続きをコンビニでできるようにしてほしいです。全国的に進められている仕組みなので、遅れを取り戻してほしいです。","x":-0.8746147,"y":5.2327886,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-60_5","argument":"道路のマンホールが飛び出している箇所があり、危険なので補修をお願いします。","x":2.7753692,"y":1.634933,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-60_6","argument":"LINEで不具合箇所を報告する仕組みを導入してほしいです。PC等からもフォームで送信できると良いです。","x":-0.13180143,"y":4.6954794,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-60_7","argument":"臨海部に魅力的な商業施設が少ないため、他地域からも人が来るような商業施設を誘致してほしいです。","x":-1.0226685,"y":1.0020674,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-60_8","argument":"社会人がハイレベルに学問できる場所がほしいです。図書館も充実させてほしいです。","x":0.19529241,"y":2.7474074,"p":0,"cluster_ids":["0","1_3","2_41"]},{"arg_id":"Acsv-61_0","argument":"庭での喫煙禁止を町の条例に盛り込み、受動喫煙を防止してほしい。","x":2.4218884,"y":2.8343053,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-61_1","argument":"非常食や飲料の購入・保管に関わる費用は町が負担し、自治会費と分ける形にして公平にしてほしい。","x":-0.1934156,"y":5.9560385,"p":0,"cluster_ids":["0","1_2","2_5"]},{"arg_id":"Acsv-61_2","argument":"交差点の歩道側に堅固なガードレールを設置し、信号待ちする学生を守れるようにしてほしい。","x":3.3588634,"y":1.4264215,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-62_0","argument":"四国水族館の名称を宇多津水族館に変更してほしい。","x":-1.141877,"y":1.7194234,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-63_0","argument":"子育てしやすい環境づくりのために、公園を増やしてほしい。","x":1.3893013,"y":1.2028433,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-64_0","argument":"中讃地区の中心都市となるために、宇多津町の北部と南部のさらなる発展を期待します。","x":-1.6541028,"y":2.4037166,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-65_0","argument":"行政手続きの電子化とデジタル化を進めてほしい。","x":-0.29774514,"y":5.1085134,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-65_1","argument":"情報発信の強化を望む。","x":-0.00024118183,"y":4.339057,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-65_2","argument":"休日や平日夜間でも手続きができるようにしてほしい。","x":-0.37080717,"y":5.0340595,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-65_3","argument":"南部地域の通学路の安全確保を求める。（特に県道の歩道が狭い点）","x":2.8134208,"y":1.5924586,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-65_4","argument":"坂出北ICのフルIC化の早期実現を希望する。","x":1.6220783,"y":-0.09642702,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-66_0","argument":"長縄手付近のスーパーマーケットの不足問題を解消してほしい。","x":-1.4616531,"y":1.0055268,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-66_1","argument":"圧倒的に病院が不足しているので、医療施設の充実を望む。","x":-2.9450366,"y":4.6243286,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-67_0","argument":"高齢化が進む中で、免許返納後も利用できるコミュニティバスの整備を進め、住みやすい街を維持してほしい。","x":2.9372282,"y":3.9733665,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-68_0","argument":"空き家の活用を進めて欲しい。","x":2.1360354,"y":2.8891943,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-69_0","argument":"子育て世代に対する行政サービスの改善を望む。特に、学童の手続きや制限に関して、より親しみやすく、柔軟な対応が求められる。","x":1.6851743,"y":5.3876047,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-69_1","argument":"南部地域の放課後学童施設の整備が遅れているため、早急な改善が必要である。","x":1.8185346,"y":1.6685766,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-69_2","argument":"住宅の増加に伴い、街灯などのインフラが不足している可能性があるため、住環境の整備を進めてほしい。","x":2.0520952,"y":1.4722549,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-69_3","argument":"若い子育て世代が期待を裏切られないような住環境の整備を望む。","x":1.7380557,"y":5.131516,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-70_0","argument":"水族館近くの空き地やベルコの駐車場周辺の活性化を希望します。観光客が多く訪れる場所なので、もっと賑やかにしてほしいです。","x":0.6847071,"y":0.39808354,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-70_1","argument":"瀬戸内海の美しさを楽しんでもらうために、ゴールドタワーの活用を促進してほしいです。","x":0.25506693,"y":-0.37420177,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-71_0","argument":"住民税の引き下げを希望します。","x":-0.5381507,"y":6.292144,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-72_0","argument":"子ども達が安心して過ごせる町づくりを進めてほしい。具体的には、公立保育所や幼稚園の数が不足しており、施設も古くなっているため、新しい施設の整備を希望する。","x":1.4084295,"y":4.9898434,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-72_1","argument":"小学校で学ぶ子ども達の教育に力を入れてほしい。特に、特別支援学校を必要とする子、不登校の子、外国から転入してきた子、ひとり親家庭への支援を充実させるために、支援者の数と質の向上を求める。","x":1.2718735,"y":5.880465,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-72_2","argument":"町が小さい分、町民の意見を積極的に取り入れ、子ども達が宇多津で育ったことを誇れるような町づくりを進めてほしい。","x":-0.5204392,"y":3.2127578,"p":0,"cluster_ids":["0","1_1","2_49"]},{"arg_id":"Acsv-73_0","argument":"児童手当や高校無償化の所得制限を撤廃してほしい。","x":1.3313429,"y":6.711112,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-73_1","argument":"空き家や空き店舗を有効に活用する方法を考えてほしい。","x":2.1270485,"y":2.9310086,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-74_0","argument":"観光客向けにおしゃれな外資系のホテルを誘致してほしい。県外からの乗客に寂れたビジネスホテルしかないとよく言われるため、観光の魅力を高めるためにも新しいホテルの誘致が必要です。","x":-0.9289742,"y":0.9100592,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-75_0","argument":"給食費の無料化を望んでいます。","x":1.2271805,"y":6.7100816,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-75_1","argument":"学童保育の料金体系を柔軟にしてほしい。特に、利用日数に応じた日割り計算を導入し、お盆などの特定期間の料金負担を軽減してほしい。","x":1.5250587,"y":6.546237,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-76_0","argument":"無駄な投資をやめ、歩道の整備を進めてほしい。","x":2.3471465,"y":1.0878595,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-77_0","argument":"南部地域における安全な公園の増設を希望します。","x":1.2675115,"y":1.2581854,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-79_0","argument":"宇多津町のイメージ改善のため、大きなパチンコ屋の存在を見直すべき。","x":-1.334072,"y":2.143078,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-79_1","argument":"利便性の高い交通機関を活かし、四国内や本州からの人を呼び込む施策が必要。","x":-0.28848425,"y":1.0761307,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-79_2","argument":"大学の誘致やスポーツ施設の新設を通じて、多様な人材を集めることを提案。","x":0.2501319,"y":2.1864471,"p":0,"cluster_ids":["0","1_3","2_41"]},{"arg_id":"Acsv-80_0","argument":"住民と行政が密に連携を取り、より良い町になることを望みます。","x":0.5483821,"y":3.9156563,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-80_1","argument":"新宇多津都市の観光資源が中途半端なので、魅力を増してほしいです。","x":-1.4268714,"y":2.014102,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-81_0","argument":"宇多津町の穏やかな環境が持続するような行政運営を期待します。","x":-0.8195133,"y":3.4286692,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-82_0","argument":"自治会活動の必要性を見直してほしい。","x":0.17987898,"y":3.7809234,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-83_0","argument":"財政の健全化を図り、安定した町運営を願う。","x":0.9683394,"y":4.109311,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-84_0","argument":"コミュニティバスのバス停が遠く、利用しにくい。バス停をもう少し細かく設置してほしい。","x":4.2040834,"y":3.3861554,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-85_0","argument":"子育て支援の充実を望みます。","x":1.6637233,"y":5.6915436,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-87_0","argument":"四国水族館と臨海公園の景色、特に夕日がきれいであることを活かした街づくりを望む。","x":0.86879647,"y":0.38949022,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-88_0","argument":"臨海公園の整備や活用を進めてほしい。歩いていると心が安らぐ場所であるため。","x":1.5372331,"y":0.5601469,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-88_1","argument":"秋の祭りや歩行者天国の再開を希望。コロナが収まったら、活気があって楽しいイベントをまた開催してほしい。","x":-0.0887662,"y":1.5034128,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-88_2","argument":"駅の近くに多くの店があり、電車で来た人にとって便利であるため、商業施設の充実を維持してほしい。","x":-0.58496916,"y":0.5292097,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-89_0","argument":"現在の行政運営に非常に満足しており、現状を維持して進めてほしい。","x":0.17182711,"y":4.6618986,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-90_0","argument":"駅の設備を改善し、駅周辺の開発を進めてほしい。","x":-0.17802079,"y":0.5727191,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-91_0","argument":"少子高齢化が進む中で、高齢者が住みやすい町にしてほしい。","x":2.2460763,"y":4.2712603,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-91_1","argument":"若者が楽しめる施設を作ってほしい。","x":0.430858,"y":1.3098781,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-91_2","argument":"宇多津の古い町並みを残す取り組みをしてほしい。","x":-0.9105626,"y":2.3847857,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-92_0","argument":"宇多津町が村から町へ、そして市へと発展していくことを望む。","x":-1.6461978,"y":2.7051418,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-93_0","argument":"農業支援のために、税金をもっと活用してほしい。","x":-0.46922448,"y":6.281685,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-94_0","argument":"住民が自分のことと捉えられる町づくりを推進してほしい。","x":0.7620651,"y":3.846727,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-95_0","argument":"ゴミ問題に対する過度な執着を減らすこと。","x":1.4796375,"y":-0.74102384,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-95_1","argument":"高齢者や子供に偏りすぎない行政サービスの提供。","x":2.1886334,"y":4.8847938,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-95_2","argument":"生き物を大切にする施策の推進。","x":1.0311463,"y":2.2639918,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-96_0","argument":"夜間の暴走車両（車・バイク）の取り締まりを強化してほしい。","x":3.039663,"y":2.3067217,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-97_0","argument":"町外で働く者にとって、水曜日の夜に役場を利用できることは大変助かっています。しかし、支払いなどを電子マネーで行えるようにし、わざわざ役場に出向かなくても済むようにしてほしいです。","x":-0.3852617,"y":5.0062866,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-98_0","argument":"宇多津町に水族館を設置してほしい。","x":-1.3045764,"y":1.7702323,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-99_0","argument":"浜辺をもっと遊び場として活用し、臨海公園にBBQ施設や産直店を設置して1日楽しめる場所にすることを提案します。","x":0.8780524,"y":0.63638175,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-99_1","argument":"スケボー施設やサイクリングコースの整備を提案します。","x":0.70810145,"y":1.1211613,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-100_0","argument":"宇多津町役場などでフードドライブを常設してほしい。不要な加工食品を持ち込める場所があると便利で、賞味期限が3カ月以上ある食品を受け取ってもらえるとありがたい。","x":-2.0222666,"y":1.8113253,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-101_0","argument":"自主防災やイベントへの住民の協力が不足している。特に新宇多津地区では、他県・他町からの移住者が多く、町の行政に対する関心が薄いと感じる。","x":-1.2241881,"y":3.6235766,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-101_1","argument":"宇多津町の学童保育の料金が他の地域と比べて非常に高い。料金の見直しを希望する。","x":-2.3445172,"y":3.1526961,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-101_2","argument":"保育園の先生の教育をしっかりしてほしい。延長料金を払っているのに文句を言われることがあると聞いている。","x":1.7009757,"y":6.2908387,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-102_0","argument":"宇多津町で子どもを生んで育てたいので、子育て支援を充実させてほしい。","x":-2.2125082,"y":3.5314937,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-103_0","argument":"子育て支援の強化をお願いしたいです。","x":1.7273847,"y":5.692966,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-104_0","argument":"議員の活動が住民に見えにくいので、選挙時に掲げた活動の結果や実績をもっと住民に伝えてほしいです。議員の人数が多いと感じるので、一人一人の活動が見えるようにしてほしいです。","x":0.14477536,"y":3.826774,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-104_1","argument":"ゴールドタワーをもっと活性化させ、日本で6番目に高いタワーとして誇りに思い、水族館との相乗効果を期待しています。","x":0.20810077,"y":-0.38867915,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-105_0","argument":"保育園の欠席連絡や日頃の様子、行事連絡などができるアプリの制作を希望します。","x":1.8682511,"y":5.750256,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-105_1","argument":"水族館ができてから車通りが増えたため、見通しの悪い交差点や一時停止しない車に対する注意喚起の表示をお願いします。","x":2.9743567,"y":1.0804664,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-106_0","argument":"宇多津町にコストコとIKEAを誘致してほしい。","x":-1.6436893,"y":1.118636,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-107_0","argument":"宇多津町に商業施設の誘致を進め、四国の玄関口としての魅力を高めてほしい。","x":-1.1624876,"y":1.3742906,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-107_1","argument":"高齢者になった時に車に頼らず、徒歩や公共交通機関で生活できる街づくりを求める。","x":2.714963,"y":4.044741,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-107_2","argument":"町内に総合病院がないことが不安であり、医療施設の充実を望む。","x":-2.89684,"y":4.5827546,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-107_3","argument":"警察署がないことが不安であり、安全面の強化を求める。","x":0.16215116,"y":4.045852,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-108_0","argument":"南部地域での急速な住宅建設に伴い、道路や水路などの住環境の整備を進めるべきです。特に、既存の道路では車の対向が難しいため、拡張が必要です。また、水害対応のための水路整備も重要です。","x":2.1317258,"y":1.6651819,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-109_0","argument":"全世代が安心・安全に暮らせる町づくりを進めてほしい。特に、誰一人取り残されないように配慮してほしい。","x":1.8116704,"y":3.960263,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-109_1","argument":"子どもの部活動費用を一部または全部、町が支援してほしい。","x":1.0871804,"y":6.517539,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-111_0","argument":"子どもの増加に伴い、教育に力を入れることが重要です。","x":1.4664979,"y":5.7051315,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-112_0","argument":"子育て世帯への支援を増やしてほしい。具体的には、オムツの補助券の提供や、気軽に訪問相談ができる体制を整えてほしい。特に、保険センターでの相談時に子どもが泣いてしまい、正確な話ができないことがあるため、改善を求める。","x":1.6487588,"y":5.6332107,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-113_0","argument":"町内の道路に生えている草をきれいにすることを望む。","x":2.6960568,"y":0.83428013,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-114_0","argument":"住民票において、マンション名と部屋番号を非表示にしてほしい。","x":-0.96021557,"y":5.499882,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-115_0","argument":"古代米の栽培や普及を進めてほしい。","x":-0.5157846,"y":1.871527,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-116_0","argument":"宇多津町内の交通の便を改善し、運行時間を再検討してほしい。","x":3.671347,"y":2.7043753,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-117_0","argument":"南部地域に公園を設置し、コミュニティの充実を図ってほしい。","x":1.1074717,"y":1.199578,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-118_0","argument":"津の郷近辺では新しい住宅が増えているが、自治会に入っていないためか、地域の情報が得られず、孤立感を感じる。特に一人暮らしの高齢者やUターン者にとっては、地域とのつながりが重要であるため、自治会への参加促進や情報共有の仕組みが必要である。","x":-0.051757526,"y":3.4077315,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-118_1","argument":"津の郷周辺に直産店やお惣菜屋さんが出店することで、一人暮らしの高齢者や子育て世帯が便利に利用できるようになると考える。特に、少量購入が可能な店舗があると、経済的にも助かる。また、配達サービスの選択肢を増やし、個人の好みに合った食品を選べるようにすることで、食品の無駄を減らすことができる。","x":-2.0886538,"y":1.7782083,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-118_2","argument":"大店舗の便乗値上げが見られるため、地域の小規模店舗の活性化を図り、消費者が選択肢を持てるようにすることが重要である。","x":-0.6856434,"y":0.60699594,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-119_0","argument":"水族館周辺の活性化が必要。現在はにぎわいがなく、活用されていない。","x":0.6072472,"y":0.47460717,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-119_1","argument":"古街の活性化が必要。ひな祭りの時期以外は活気がない。","x":-0.3059349,"y":0.82664174,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-119_2","argument":"藻塩アイスがどこで食べられるか不明であり、塩の街としての特色を生かしきれていない。","x":-1.6580968,"y":1.509139,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-119_3","argument":"子どもたちが宇多津を愛するためには教育の質の向上が必要。親や教員の質が問題と感じる。","x":-2.2805502,"y":3.1017118,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-119_4","argument":"草が生え放題で街が汚く見えるため、清掃や管理が必要。","x":2.6375928,"y":0.783045,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-119_5","argument":"空き地の有効活用がされていない。","x":2.2748935,"y":2.837487,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-120_0","argument":"町内のボランティア活動の実態を知りたい。ボランティアを通して社会の役に立ちたい。","x":0.17880702,"y":3.6961029,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-120_1","argument":"高齢者の健康促進のための施設が保険センターしかないように思うが、使用できない時が多々あるため、代替施設または専用施設がほしい。","x":2.6054518,"y":4.326799,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-122_0","argument":"宇多津町の特殊出生率が高いことをPRするべき。","x":-1.5355732,"y":2.7996354,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-123_0","argument":"ゴールドタワー周辺に、神戸のモザイクのような複合施設を誘致し、人が集まる仕組みを作ることを提案します。","x":0.14685819,"y":-0.4219659,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-123_1","argument":"三豊市のように産学官金連携を行い、教育、観光、行政に力を入れることを提案します。","x":-0.69691455,"y":2.0642612,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-123_2","argument":"宇多津町プレミアム商品券をデジタル化し、Mitopayやコトカのように地域通貨として活用することを提案します。","x":-1.4295341,"y":4.81326,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-124_0","argument":"街灯を増やして道を明るくしてほしい。特に土手のエリアでの改善を希望。","x":1.9853535,"y":1.3188322,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-125_0","argument":"情報入手手段の多様化を希望。広報以外にテレビでのデータ送信の活用を提案。","x":-0.47443485,"y":4.6830325,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-125_1","argument":"防災ラジオの音量調整機能の改善を希望。現在は音量調整ができず、常にオフにしている。","x":1.1808822,"y":2.7611485,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-126_0","argument":"宇多津町に高級志向の商品を取り扱う店舗を増やし、町内で多様な商品が揃うようにしてほしい。","x":-1.7314676,"y":1.5204263,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-127_0","argument":"宇多津町は自然が豊かで利便性が良く、歴史もある住みやすい町です。海や山の自然を大切にしつつ、人口増加や観光にも力を入れ、発展と調和を大切にした町づくりを望みます。","x":-1.3620049,"y":2.699485,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-127_1","argument":"神社や仏閣を中心とした町並みを守るべきです。","x":-0.4407376,"y":2.33828,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-127_2","argument":"南部交流センターができて子育て世代の支援が充実し始めたと感じます。さらに、子育て世代の相談機能（発達支援を含む）の充実を希望します。","x":1.6805124,"y":5.621631,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-128_0","argument":"子どもへの支援が過剰であると感じる。裕福な家庭が多い中で、定年が近づき生活が苦しい世代への支援が不足していると感じる。不公平な町だと感じる。","x":1.540242,"y":5.589258,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-128_1","argument":"コミュニティバスが空のまま走っているのを見かけることが多く、無駄だと感じる。SDGsを考慮した効率的な運用を望む。","x":4.2916574,"y":3.583247,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-129_0","argument":"新都市は充実しているが、子どもが多く遊ぶ場所が少ないと感じる。","x":0.56871784,"y":1.3678241,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-129_1","argument":"子どもが増えている中で、保育園は多いが、小学校2校と中学校1校で対応できるか不安。","x":1.5468065,"y":5.700574,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-129_2","argument":"小学生の頃から宇多津で育ったので、今後も生涯お世話になると思う。","x":-2.2455435,"y":3.2259796,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-130_0","argument":"宇多津町のおいしい物を考える。","x":-1.8337018,"y":1.6911166,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-130_1","argument":"宇多津町民が一日中楽しめる施設の建設。","x":-1.0229625,"y":2.3604758,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-130_2","argument":"宇多津町と神社仏閣の協働活動。","x":-0.76172197,"y":2.3229246,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-130_3","argument":"円通寺の上の三ツ岩のPR。","x":-0.6676415,"y":2.3253984,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-131_0","argument":"駅前の活性化を望む。","x":-0.38544753,"y":0.5862392,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-132_0","argument":"宇多津町の新都市、市街地、南部の各地域に警察の派出所を設置することを提案します。現在の警察官の人数が人口に対して少なすぎるため、警察署の設置も検討すべきです。","x":-1.1063309,"y":3.4231613,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-133_0","argument":"水族館周辺でのイベントやお祭りを開催し、若者をターゲットに集客を図ることを提案します。具体的には、手作り作家の作品展示やフリーマーケットスペース、子どもが体験できるスペースを設けることが考えられます。","x":0.4121352,"y":0.65431833,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-134_0","argument":"自治会に入っていない世帯にも広報を配布してほしい。","x":0.12643993,"y":3.717657,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-135_0","argument":"宇多津町に無料で利用できる学習施設を作ってほしい。ユープラザうたづの勉強スペースは座席数が少なく、試験期間中は特に利用が難しい。丸亀市のマルタスのような、お洒落で学習に適した施設があると良い。学生はカフェに行く余裕がないため、無料で利用できる学習スペースの設置を検討してほしい。","x":-2.2842808,"y":2.6313746,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-136_0","argument":"人口が増えても、一人一人が住みやすい町になってほしい。具体的には、景観の向上や福祉サービスの充実を望む。","x":1.5264039,"y":4.0106874,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-137_0","argument":"イオンモールのような、いろんなお店が入っている施設を坂出市寄りの浜海道に作ってください。","x":-1.3637043,"y":1.1963279,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-137_1","argument":"ゴールドタワーの中に目玉となる施設を増やしてください。","x":0.15908508,"y":-0.46138597,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-137_2","argument":"駅周辺に居酒屋を増やしてください。","x":-0.5566542,"y":0.4792441,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-138_0","argument":"災害に備えて、町役場の場所を変更したり、耐震化を進める必要があるのではないか。特に川の横にあるため、いざという時に機能するのか心配である。","x":1.8219275,"y":2.4616716,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-138_1","argument":"ボランティア活動に参加したいが、詳しい情報が少なく、他の市町村に比べて数が少ないと感じる。","x":0.16055173,"y":3.6784854,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-138_2","argument":"住民票をコンビニなどで取得できるようにしてほしい。","x":-1.0289072,"y":5.275397,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-138_3","argument":"まんのう町のように、町主体のイベントを増やしてほしい。具体的には、寺町歩き、塩作り体験、古代米などの珍しい品の栽培体験を提案する。","x":-0.88064253,"y":1.8905017,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-139_0","argument":"選択と集中を重視したまちづくりを進めるべきです。","x":1.2864449,"y":4.1299706,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-139_1","argument":"住民と行政が共に汗をかきながら、協力してまちづくりを進めることが重要です。","x":0.62407196,"y":3.919299,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-139_2","argument":"町を動かす起爆人材である30代から50代の人々がまちづくりに関わる仕組みが必要です。多くの人が町外で働いている可能性があります。","x":-0.5831657,"y":3.0106645,"p":0,"cluster_ids":["0","1_1","2_49"]},{"arg_id":"Acsv-139_3","argument":"町の人口を年代別、性別だけでなく、多面的に分析し、町の特徴を把握することで新たな発見があるかもしれません。","x":-0.68262744,"y":3.0344594,"p":0,"cluster_ids":["0","1_1","2_49"]},{"arg_id":"Acsv-140_0","argument":"宇多津町でも坂出市のように議会のケーブルテレビ中継を行ってほしい。","x":-0.92022574,"y":3.6065235,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-141_0","argument":"デュアルスポーツセンター武道場へのエアコンの設置を希望します。","x":0.5043957,"y":1.1676699,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-142_0","argument":"宇多津町にコストコを誘致してほしい。","x":-1.7234284,"y":1.2112455,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-142_1","argument":"宇多津町に大型書店を設置してほしい。","x":-1.8667139,"y":1.4586599,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-143_0","argument":"宇多津町にコストコの誘致を希望します。","x":-1.641432,"y":1.1386887,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-144_0","argument":"宇多津町を子育てに強い町として県内外に広め、住民増加を目指す魅力あるまちづくりに努力してほしい。","x":-1.4050533,"y":2.888257,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-145_0","argument":"商業施設の誘致を希望します。特にコストコやIKEAなどの有名な施設を誘致することで、他の町や県から人を呼び込み、住みやすくにぎやかな町にしてほしいです。","x":-1.2671895,"y":0.88642406,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-146_0","argument":"宇多津町の行政職員の教育を強化し、公僕としての意識を高めるべきである。","x":-0.5438875,"y":3.9500382,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-147_0","argument":"大束川沿いの土手を通る道での安全対策を求めます。自転車通行中に車が横切ることがあり、落下の危険性があります。特に川側が危険で、柵の取り付けなどの落下防止策をお願いします。","x":2.8992915,"y":1.5649159,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-148_0","argument":"住民税を含む税金の引き下げを希望します。","x":-0.51364666,"y":6.299522,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-149_0","argument":"デジタル化において、不器用な人や高齢者でも利用できる体制を整えてほしい。","x":2.1643913,"y":4.5643187,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-150_0","argument":"空家や空き地の整備をお願いします。","x":2.2371318,"y":2.7097461,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-151_0","argument":"ゴミの収集方法は全国的にきめ細やかであると感じています。民政関係の住民サービスの提供と維持が最も重要であり、箱物の建設はほどほどにして、維持管理にどれだけ行政資源を投入できるかがポイントだと思います。","x":1.5182672,"y":-0.67481464,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-152_0","argument":"高齢者が安心・安全に暮らせる町づくりを希望します。","x":2.2495682,"y":4.0927095,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-153_0","argument":"道路整備の計画を迅速に実行に移し、計画だけで終わらせないようにしてほしい。","x":2.3669558,"y":1.3292221,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-154_0","argument":"子育て支援を通じて人口維持を図り、高齢化対策を行うことを望む。","x":1.9728793,"y":5.2221036,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-155_0","argument":"警察による取り締まりが意地悪に感じる。特にコープ宇多津横での一旦停止や駅前の横断歩道での取り締まりが改善されていないことに不満がある。左折後のUターンが混雑して危険であり、取り締まりが数稼ぎの印象を受ける。","x":3.1721342,"y":2.4105113,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-155_1","argument":"中高年向けの生涯学習がもっと参加しやすくなると良い。町の歴史紹介ツアーなどを行ってほしい。","x":2.391245,"y":4.0811377,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-156_0","argument":"宇多津町の強みや都市機能の強化、商業の振興に注力してほしい。無駄な計画や総表的な政策は不必要で、行政の効率化を目指してほしい。","x":-0.77896935,"y":3.4515846,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-157_0","argument":"住民が協力し合い、プロフェッショナルが技を出し合うまちづくりを推進してほしい。","x":0.7344012,"y":3.8467135,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-157_1","argument":"住民同士が普段から交流し、情報を広く共有できる環境を整備してほしい。","x":0.6204803,"y":3.4010167,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-157_2","argument":"子どもたちが笑顔で前向きに努力できる環境を整えてほしい。","x":1.6231985,"y":5.1912,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-157_3","argument":"子どもたちにもアンケートを実施して意見を取り入れてほしい。","x":-0.60196185,"y":4.930276,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-158_0","argument":"宇多津町の住みやすさはトップレベルであり、テレワークの推進により、県外からの転入者も増える可能性があります。町の魅力を発信し、就業機会の確保と福祉の充実を図ることで、さらに多くの人々が住みたいと思う町になるでしょう。","x":-1.5624247,"y":2.9602408,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-159_0","argument":"海と川の水質改善をお願いします。","x":2.1745381,"y":1.8773257,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-159_1","argument":"水族館周辺の公園にごみ箱を設置して、清潔を保ってください。","x":1.252318,"y":0.3798154,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-159_2","argument":"駅のICカードのチャージ機の数を増やしてください。","x":3.9201581,"y":2.6493216,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-159_3","argument":"宇多津小学校周辺の畑での肥料使用について、臭い対策を考慮してください。","x":-2.4091582,"y":2.9598517,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-160_0","argument":"イオン宇多津の店内をイオン綾川のように充実させてほしい。","x":-1.7393937,"y":1.3001155,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-161_0","argument":"子育て支援にもっと力を入れてほしい。坂出市のようにおむつ支援のようなものがあれば助かる。","x":1.7543131,"y":5.6875753,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-162_0","argument":"退職した高齢者が転居しやすいように、ハード面（インフラ整備）とソフト面（サービス提供）の両方で施策を考えてほしい。","x":2.4124007,"y":4.410677,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-163_0","argument":"中央公園や宇多津北小学校周辺の遊歩道は整備されているが、木が多すぎて暗く、スズメバチに遭遇することがあり怖い。手入れができないのであれば、木を少し減らしてほしい。","x":2.7357757,"y":1.1487603,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-164_0","argument":"木の植樹は良いが、適切な手入れを行ってほしい。手入れ不足で木が邪魔になり、事故の危険がある。","x":2.9362373,"y":0.7385253,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-165_0","argument":"香川県の他市の成功事例を参考にし、宇多津町の活性化に役立ててほしい。","x":-1.3422768,"y":2.2087462,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-165_1","argument":"ゴールドタワーの活用方法を再検討し、町の収入増加につなげてほしい。例えば、サスケの競技場のような新しいアイデアを考慮してほしい。","x":0.22295733,"y":-0.3999146,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-165_2","argument":"宇多津町が日本で一番になるよう、収入面の改善に努めてほしい。","x":-1.6269649,"y":2.817289,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-166_0","argument":"観光地の増加を希望します。","x":-0.058380343,"y":0.7513823,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-167_0","argument":"宇多津町コミュニティバスの運行地域を拡大し、運行回数を増やしてほしい。","x":3.943233,"y":3.0274622,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-168_0","argument":"空家を回収して貸す、または売る仕組みを作り、空家を無くす努力をしてほしい。情緒ある街並みに手つかずの空家が点在するのは景観的に残念である。","x":2.228903,"y":2.898771,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-169_0","argument":"宇多津町の祭り後のゴミ問題について、住民の家の前にゴミが残されることが多く、改善を求めています。近隣住民と相談して申し立てを行っても変化がないため、行政からの意見や返答を求めています。将来の街づくりに期待していますが、改善が見られない場合は失望します。","x":-1.1834673,"y":3.4001544,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-170_0","argument":"県営団地から宇多津のマルナカ周辺で、大雨時に増水して道路が通れなくなる問題を解決してほしい。","x":2.5654478,"y":1.8505024,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-170_1","argument":"宇多津町のどこに『古街』の雰囲気があるのか教えてほしい。","x":-1.2165109,"y":2.337618,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-171_0","argument":"町民の意見を迅速に取り組むことを望む。特に、町長が辛口の意見にも耳を傾けることが重要である。","x":-0.36799312,"y":4.1954355,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-172_0","argument":"親子の関わりを深めるための支援を充実させてほしい。特に仕事をしている保護者が子どもとゆっくり関われる取り組みを希望します。","x":1.7067603,"y":5.640296,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-172_1","argument":"独身の町民への支援が少ないと感じる。税金だけが取られているように感じるので、独身者への支援を充実させてほしい。","x":-0.28482744,"y":6.453756,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-172_2","argument":"保育者や介護職員の賃金支援を行ってほしい。","x":1.7586839,"y":6.177631,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-173_0","argument":"歩道と車道の間に植えられている植物が伸びすぎて運転に支障をきたしているため、特にコスモスから郵便局、docomoからキムラに抜ける所では、高さ30cm以上になったら早めに剪定してほしい。","x":2.9256291,"y":0.7661606,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-173_1","argument":"歩道が広いため、特に駅周辺で車が歩道に駐車していることが多く困っている。車が歩道に入れないように、横断歩道の所にポールを設置してほしい。","x":2.2077959,"y":0.67442656,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-174_0","argument":"防災行政無線の音声がこもっていて聞き取りにくいので、改善を望みます。","x":1.0732379,"y":2.8843672,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-175_0","argument":"コミュニティバスの試行運転について、利用状況を精査し、本当に必要かどうかを検討してほしい。乗客が乗っているのを見たことがないため。","x":4.2771726,"y":3.5575323,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-176_0","argument":"教育の格差対策として、無料塾の設置を希望します。特に高校が無い町なので、教育支援が重要です。","x":0.98430437,"y":6.190231,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-176_1","argument":"アンケートのIT化を進めることで、手入力の手間を省き、職員の負担を軽減し、効率的な業務が可能になると思います。","x":-0.553617,"y":4.949872,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-177_0","argument":"宇多津町内に総合病院を設置してほしい。これにより、住民の安心感が増す。","x":-2.8814733,"y":4.356641,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-177_1","argument":"町内にホームセンターを誘致してほしい。","x":-1.4305569,"y":0.7457047,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-177_2","argument":"短期的な利益ではなく、長期的な視点でまちづくりに取り組んでほしい。","x":1.2154697,"y":4.0981464,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-178_0","argument":"宇多津町を活気のある町にするために、他の地域にない独自の店舗を誘致してほしい。","x":-1.6410298,"y":1.6591374,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-179_0","argument":"自治会や町会議員の若年化を進めることが必要です。","x":0.4612489,"y":4.0907755,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-179_1","argument":"自治会や町会議員の倫理観の向上が求められます。","x":0.34577087,"y":4.0135655,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-180_0","argument":"臨海公園からの景色が美しいことを活かした観光資源の開発を望む。","x":1.0777696,"y":0.39999723,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-181_0","argument":"河川の整備を強化してほしい。特に、災害レベルの大雨が増えているため、定期的な土砂撤去や堤防の整備を実施してほしい。","x":2.0506964,"y":2.0303493,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-181_1","argument":"防犯対策として、防犯カメラの設置を拡大してほしい。","x":1.6979456,"y":1.9605067,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-181_2","argument":"交通安全のために、カーブミラーを大きくし、橋の欄干の見直しをしてほしい。","x":3.2574484,"y":1.0729276,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-181_3","argument":"公園の草抜きやフェンスの破損など、定期的な整備を実施してほしい。","x":1.6985193,"y":0.98115444,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-182_0","argument":"香川県外への人口流出が増加しているため、宇多津町には若者が魅力を感じる企業が不足しているという意見があります。町として積極的に企業誘致を進めてください。","x":-1.4210327,"y":2.4574661,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-183_0","argument":"住民票などの行政手続きを電子申請で行えるようにしてほしい。平日に仕事の合間で役場に行くことが困難なため。","x":-0.6038067,"y":5.187488,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-184_0","argument":"宇多津新都市は若者に人気のあるオシャレなイメージを持っているため、今後もオシャレな雰囲気の町づくりを進めて宇多津をさらに向上させてほしい。","x":-1.362996,"y":2.405152,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-185_0","argument":"新宇多津都市に自転車店の誘致を希望します。かつては自転車店がありましたが、現在は既成市街地にしかなく、少し遠距離です。","x":-1.7916449,"y":1.8312312,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-186_0","argument":"宇多津町の新都市と南部（11号沿い）での格差を是正してほしい。税金は同じ額を払っているのに、南部に住む者としては恩恵を感じられない。特に公園が少なく、子どもにとって良い環境ではないため、改善を求める。","x":-2.0389116,"y":2.840158,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-187_0","argument":"宇多津町において、特に小児科を含む病院の増設を希望します。これにより、子育て世帯を含む住民の増加が期待できると考えます。","x":-2.9078083,"y":4.34383,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-188_0","argument":"交通の便の向上を望む。","x":3.7908154,"y":2.5199978,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-189_0","argument":"コミュニティバスを近隣の病院（回生病院、労災病院、坂出市立病院など）に行くようにしてほしい。","x":4.2240176,"y":3.5491812,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-189_1","argument":"宇多津駅にタイムカーシェアのような時間で借りられるレンタカーやカーシェアがあれば、車を持たずに生活できる環境になると思う。","x":3.6454904,"y":3.3923354,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-190_0","argument":"雨の日や暑い夏でも子どもが遊べるように、体育館が併設された子育て支援センターを設置してほしい。曜日に関係なく毎日利用できる施設が望ましい。","x":0.81742144,"y":1.4052818,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-191_0","argument":"全ての年齢層が住みやすい町づくりを望む。","x":1.9492543,"y":4.0511928,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-192_0","argument":"高齢者が住みやすい町づくりを進めてほしい。","x":2.2617466,"y":4.2185273,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-194_0","argument":"空き家対策を進めてほしい。","x":2.0876045,"y":2.8462095,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-194_1","argument":"年寄りにやさしい町づくりを望む。","x":1.8471714,"y":3.8879259,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-195_0","argument":"宇多津町だけでなく、周辺の市町とも連携して街づくりを進めるべきです。特に、香川県全体で水の質を改善し、住みやすさを向上させることが重要です。","x":-1.5140989,"y":2.7244868,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-196_0","argument":"コロナワクチン接種時のスムースな対応に安心しました。今後も迅速な行政対応を望みます。","x":0.4162072,"y":5.403379,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-197_0","argument":"宇多津町は他市町の人々から注目されており、新しい企画でさらに注目を集めている。","x":-1.38472,"y":2.6282415,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-198_0","argument":"南部の景観を保護するために農林業を推奨・振興し、新都市部では利便性を高めてさらなる都市化を図ってほしい。","x":-0.34219038,"y":1.4411848,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-198_1","argument":"旧町内の神社仏閣を活用した観光都市化を進めてほしい。","x":-0.5461062,"y":2.2722912,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-199_0","argument":"宇多津町にはお店が多いが、病院が少ないため、メディカルモールのような病院の誘致に力を入れてほしい。特に、小児科が近くにあるかどうかと、病児保育を有する病院の設置を検討してもらいたい。","x":-3.0059633,"y":4.404674,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-200_0","argument":"宇多津町が県外からの観光客を増やすために、水族館周辺で大型のマルシェを開催したり、古民家を活用したイベントを企画することを提案します。","x":-0.99043715,"y":1.8783898,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-200_1","argument":"シェルメールと協力して全国から応募できるお見合いイベントを開催し、参加者がそのまま移住することを促進するアイデアがあります。シェルメールからの割引ポイントを提供することで、参加者の興味を引くことができるでしょう。","x":0.3140463,"y":2.5228999,"p":0,"cluster_ids":["0","1_3","2_41"]},{"arg_id":"Acsv-200_2","argument":"宇多津町は若い世代が多く、人口減少と無縁のイメージがあるため、香川県全体を元気にする役割を果たしてほしいです。","x":-1.5146013,"y":2.57433,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-201_0","argument":"防災無線のわかりづらさを改善してほしい。","x":1.210793,"y":2.8239436,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-202_0","argument":"宇多津町の小学校や中学校の教育環境を改善し、教育にもっと力を入れてほしい。現状では、町内の学校に通わせることに不安があり、私立への進学を検討せざるを得ない。","x":-2.363948,"y":2.9075773,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-203_0","argument":"企業誘致を進めてほしい。","x":-0.9830427,"y":1.0407163,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-203_1","argument":"ふるさと納税の返礼品を拡大し、税収を確保してほしい。","x":-0.5161911,"y":6.331421,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-204_0","argument":"行政は税金を住民個人でできないこと（道路整備やゴミ収集など）に使い、町を改善してほしい。","x":-0.3534671,"y":5.96662,"p":0,"cluster_ids":["0","1_2","2_5"]},{"arg_id":"Acsv-204_1","argument":"1万円を全員に配る施策はコロナ改善に効果がなく、目的があいまいである。生活に困っている人に手厚く支援するべき。","x":0.49331295,"y":5.524898,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-204_2","argument":"町長は行政としてのリーダーシップをもっと発揮してほしい。","x":-0.073129095,"y":4.120651,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-205_0","argument":"臨海部付近での開発が進み、活気のある町だが、持続可能な町政運営を望む。特に、給付金などのばらまき政策を控え、財政面の健全性を維持してほしい。","x":1.0494988,"y":4.0167184,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-206_0","argument":"水不足対策を強化してほしい。","x":1.6924229,"y":2.4409962,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-207_0","argument":"特産品の開発を進めてほしい。","x":-0.48064697,"y":1.3540969,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-207_1","argument":"車がなくても生活できる社会を実現してほしい。現在は車がないと生活が難しいため、レンタルや自転車の利用を促進してほしい。","x":3.101062,"y":3.8992367,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-208_0","argument":"みんなのおでかけバスの運賃が1回200円は高いので、料金の見直しを希望します。","x":4.397956,"y":3.4117227,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-208_1","argument":"大規模ショッピングモールの誘致を希望します。具体的には「ゆめタウン高松」や「イオン綾川」のような施設を求めています。","x":-1.4934087,"y":0.97728384,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-209_0","argument":"公園に影のあるベンチを設置してほしい。","x":1.359609,"y":1.0538235,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-209_1","argument":"田んぼが減っているため緑が少なくなっているので、街路樹などの整備をしてほしい。","x":2.395372,"y":1.0273123,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-209_2","argument":"虫とのふれあいや温暖化緩和のために緑化を進めてほしい。","x":1.1608783,"y":2.0811775,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-210_0","argument":"宇多津町において、何か1つ秀でたものを大々的に宣伝し、町の活性化を図ることを提案します。","x":-1.1441942,"y":1.9511297,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-211_0","argument":"真面目に働いて税金を支払っている人が損をしないようにしてほしい。特に、1人親と称しながら実際にはパートナーがいるケースが多いので、行政はこれを細かく注意して監視すべきである。","x":-0.34978786,"y":6.53136,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-212_0","argument":"病院の充実を望みます。","x":-2.8593345,"y":4.721905,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-213_0","argument":"下水道の整備を進めてほしい。","x":2.2861853,"y":1.7262162,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-213_1","argument":"途中で中止になっている道路を完成させてほしい。","x":2.5345724,"y":1.3434463,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-213_2","argument":"子どもの医療費を18歳まで補助してほしい。","x":1.4832128,"y":6.8039083,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-213_3","argument":"3歳未満の保育費を無料にしてほしい。","x":1.5816162,"y":6.5652843,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-214_0","argument":"子どもの医療費無料化を中学生までから高校生までに拡大してほしい。","x":1.40486,"y":6.829501,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-215_0","argument":"鍋谷方面の公共交通機関の充実を望みます。","x":3.9652183,"y":2.6547875,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-216_0","argument":"宇多津町に転入した理由は、スーパーマーケットの充実と子育てしやすい環境です。不満は特にありませんが、テレビの受信が悪い点に驚きました。","x":-1.852906,"y":3.2108028,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-217_0","argument":"青の山に山野草を増やし、紅葉を登山道に植えることで、11月末から12月初めにかけての名所として宇多津町をアピールすることを提案します。","x":-1.2179683,"y":2.0735734,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-218_0","argument":"高齢者が増加する中で、一人暮らしの高齢者への支援を強化してほしい。特に、子どもがいない高齢者に対するサポートが必要です。","x":2.1237671,"y":5.1886263,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-219_0","argument":"おでかけバスの利用者が少ないのはもったいない。車を利用する人が多く、バスだと目的地まで時間がかかるため、利用が難しい。効率の良い方法を検討してほしい。","x":4.281175,"y":3.4149728,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-219_1","argument":"公園のトイレがきれいになり、子ども達が安心して利用できるようになっているのは嬉しい。遊具の点検・修理を早めに行い、安全を確保してほしい。","x":1.4467909,"y":1.0415957,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-219_2","argument":"防犯カメラを公園に増設してほしい。不審者が多く、死角をなくすことで子ども達が安心できる環境を整えてほしい。","x":1.4866492,"y":1.2263421,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-220_0","argument":"人口増加に伴い、住宅開発が進んでいるが、交通量の増加により騒音が増している。特に夜間の交通量が増え、静かな環境が損なわれている。高齢者や学生のことを考慮し、交通整備を行うべきである。住民にとって不快に感じることがないよう、常識的な行動ができる町づくりを望む。","x":1.9981811,"y":3.5858922,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-222_0","argument":"宇多津町の人口増加に伴う住宅開発により、交通量が増加し、騒音や交通事故の危険性が高まっています。特に自宅前の道路でのスピード違反や抜け道としての利用が問題です。高齢者や学生の安全を考慮した交通整備と住宅開発の見直しを求めます。住民が住み良い町になるよう、日常の改善を進めてください。","x":-1.3327901,"y":2.9140785,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-223_0","argument":"他市町村の成功事例を参考に、モール型、アウトレット、百貨店などの核となる企業誘致を望みます。スーパーマーケットの乱立は不要です。","x":-1.6345897,"y":1.0424367,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-224_0","argument":"子育て世代が多いため、保育所の充実を望みます。","x":1.7665194,"y":5.736232,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-225_0","argument":"宇多津町の良さである安全で綺麗な町、ロケーションの良さ、秋祭りやお寺・古街などの文化をもっと知る機会を増やしてほしい。","x":-1.1430976,"y":2.2665381,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-225_1","argument":"イベント開催時に、宇多津町や地元業者に経済効果をもたらす工夫をしてほしい。","x":-0.93320125,"y":1.948385,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-225_2","argument":"リアル謎解きイベントやスタンプラリーなど、子どもが楽しめるイベントを増やしてほしい。","x":0.12050079,"y":1.5577246,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-225_3","argument":"移住者や起業者を増やすために、宇多津町の良さを広め、人口増加や企業誘致で町を活性化させてほしい。","x":-1.1803255,"y":2.3039439,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-226_0","argument":"路線バスの導入を希望します。","x":4.133723,"y":3.019504,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-227_0","argument":"南部地域に産直市場を設置してほしい。","x":-0.82809347,"y":1.1807647,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-228_0","argument":"通学路の監視を強化し、子どもの交通事故を回避する対策を求めます。","x":3.2949946,"y":2.0189276,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-228_1","argument":"時間指定の一方通行の取締りを強化してほしいです。","x":3.1465023,"y":2.3156369,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-229_0","argument":"宇多津町に住んでおり、丸亀市で企業しました。瀬戸内シリコンバレーの形成や、瀬戸内の産業都市の中心を目指してほしいです。瀬戸大橋があるため、アメリカのシリコンバレーであるサンフランシスコを参考にすることができると思います。","x":-1.8102593,"y":2.8164587,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-230_0","argument":"町民に還元するために、無駄な支出を削減し、根拠のない支出を見直してほしい。","x":-0.29110003,"y":5.8866568,"p":0,"cluster_ids":["0","1_2","2_5"]},{"arg_id":"Acsv-232_0","argument":"宇多津町の行政には、短期的な施策ではなく、長期的な視野で公金を使ってほしい。具体的には、全町民への一時的な給付やタクシー券の無料配布など、選挙票獲得を目的とした短絡的な事業を減らし、持続可能なまちづくりに注力してほしい。","x":-0.934419,"y":3.9534087,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-233_0","argument":"独り暮らしでも安心して住める町づくりを望みます。","x":1.7578378,"y":3.915552,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-234_0","argument":"観光をもっと発展させてほしい。","x":-0.16170888,"y":1.0174063,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-235_0","argument":"若者の雇用機会を増やし、安心して生活や子育てができる町づくりを望む。","x":1.565778,"y":4.509857,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-236_0","argument":"子どもの医療費を高校3年生まで無料にしてほしい。中学生まで無料だが、高校生からは自費になり、学費や教育費が高額になるため、負担を減らしたい。","x":1.3692642,"y":6.8704767,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-237_0","argument":"宇多津町にスポーツ施設を新設してほしい。ヴィスポコやひらのような施設があれば、人々の交流が盛んになり、住民の健康向上にも役立つ。また、水族館の近くに設置することで、観光客の連泊を促進する可能性もある。","x":-0.9469484,"y":1.9570526,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-238_0","argument":"高齢化社会において、介護保険の対象外の高齢者が安心して生活できるシステムの開発が必要です。地域での生活を支えるために、行政と住民が共同で取り組むことが望ましいです。","x":2.423266,"y":4.5653987,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-240_0","argument":"小さな子どもがいる家庭のために、夏でも遊びやすい公園の整備を希望します。木陰や噴水など水遊びができる場所があると嬉しいです。","x":1.2615781,"y":1.1882174,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-240_1","argument":"家庭用生ゴミ処理機の助成金制度を設けてほしいです。","x":1.6182623,"y":-0.63234377,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-240_2","argument":"宇多津駅前（南）に信号を設置してほしいです。小学生が車道を見ずに飛び出す場面を見たことがあり、危険を感じました。","x":3.429383,"y":1.4031378,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-240_3","argument":"新宇多津都市にも中学校を設置してほしいです。通学がしやすくなります。","x":-2.1789005,"y":2.3733695,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-241_0","argument":"宇多津町の下水道管理についての意見: 大橋、浜街道から11号線へ出る道の下水道が土で埋まっており、草が生えているため、雨水が流れにくくなっています。10年前までは定期的に掃除が行われていましたが、現在は行われていないようです。水道代や下水道代を支払っているので、下水道の掃除を再開し、雨水が適切に流れるようにしてほしいです。","x":-1.4585925,"y":3.359992,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-242_0","argument":"高校生までの医療費無償化を希望します。","x":1.3488452,"y":6.8838444,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-242_1","argument":"保育園の2人目の子どもの無償化を提案します。","x":1.8215142,"y":6.112763,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-242_2","argument":"小中学校の給食費無償化を求めます。","x":1.2303927,"y":6.68141,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-243_0","argument":"宇多津町の水道代とゴミ袋代が安く、住民にとって経済的負担が少ないことが嬉しい。","x":-1.6376295,"y":3.4129329,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-243_1","argument":"町役場の職員がどの課でも優しく丁寧に対応してくれる点が良い。","x":-0.1546758,"y":4.6727686,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-244_0","argument":"宇多津町内を走る暴走族やうるさいバイクが多く、住みやすい町にするために警察と連携して徹底的に排除してほしい。","x":-1.2971512,"y":3.0753665,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-245_0","argument":"空き家が増えていることに不安を感じる。","x":2.019033,"y":2.8990512,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-246_0","argument":"小児科を含む医療サービスの充実を望む。","x":-2.8268228,"y":4.759555,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-246_1","argument":"保育料の無料化を希望する。","x":1.5993514,"y":6.477658,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-246_2","argument":"オムツ代の補助を求める。","x":1.1705712,"y":5.745951,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-247_0","argument":"観光客が増えているが、メインの通りがなく、大人が楽しめる場所が少ない。店舗がバラバラで、活力ある街になっていない。街づくりの成功例を参考に、統一感のある通りを作るべき。","x":-0.42470047,"y":0.84567857,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-248_0","argument":"子育て関連の充実を望む。","x":1.8872036,"y":5.705368,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-249_0","argument":"商業施設の充実を図り、中讃地区のセンター的役割を担う位置づけを目指す。","x":-0.781398,"y":1.084434,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-249_1","argument":"公園や緑地帯の充実を進め、交通安全に配慮した町づくりを行う。","x":1.962137,"y":1.2431856,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-250_0","argument":"下水道料金の値下げを希望します。","x":-0.4443491,"y":6.2739186,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-251_0","argument":"宇多津町の旧町内の活性化のために、空き家を利用して宇多津太鼓台を展示することを提案します。1年ごとに各町の太鼓台を展示し、郷照寺の遍路などと合わせて観光資源として活用することで、旧町内の活気を取り戻したいです。","x":-1.0099145,"y":2.167618,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-252_0","argument":"安全、安心な町づくりを望みます。","x":1.6705419,"y":3.8663752,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-253_0","argument":"移住による町民の増加は歓迎すべきですが、旧町内での近所付き合いが薄くなっていることに寂しさと怖さを感じます。自治会加入の促進や防災訓練への積極的な参加を通じて、住民同士が顔見知りになれるような取り組みを望みます。","x":0.25532562,"y":3.5146952,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-255_0","argument":"長縄寺地区の宅地化により遊水地が減少しているため、鴨田川の改修を急ぐべきです。","x":2.1534207,"y":1.8076907,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-255_1","argument":"ゴミ処理施設について、将来を見据えた計画を坂出市との協議を通じて進めるべきです。","x":1.5884367,"y":-0.42342564,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-255_2","argument":"新宇多津都市という名称の再考を求めます。","x":-1.674511,"y":2.2032142,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-255_3","argument":"浜地区における公共施設の国土調査を行うべきです。","x":1.8519826,"y":1.4609902,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-256_0","argument":"宇多津町の財政を強化するために、企業誘致ではなく観光やサービス業を大規模に発展させてほしい。新宇多津都市において得られた財源を、町の環境保全や防災の安全性確保、子どもたちの教育環境、保健、医療福祉に活用してほしい。","x":-1.1827843,"y":3.097248,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-256_1","argument":"町の魅力を映画やドラマのロケ地として広報し、多くの人々に訪れてもらい、経済効果を生む仕組みを行政が作ることを期待する。","x":-0.88465405,"y":1.656315,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-257_0","argument":"特定健康診査の受診年齢を現状の69歳から、後期高齢者となる75歳未満（74歳まで）に延長してほしい。丸亀市では74歳まで補助があるため、宇多津町でも同様の対応を望む。健康は本人にとっても行政にとっても重要である。","x":2.378142,"y":4.506131,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-258_0","argument":"計画性のある町づくりを進めてほしい。具体的には、住宅地と農業地が共存できるようなバランスの取れた開発を望む。","x":1.4108021,"y":3.9557605,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-259_0","argument":"宇多津町には病院や消防の拠点が少ないことに不安を感じる。坂出駅周辺と比較してしまうためかもしれないが、町内のユープラザや水族館などの施設には努力が見られ、概ね満足している。","x":-3.0186272,"y":4.307752,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-260_0","argument":"南地区の住宅増加に伴い、若い世代の家族が増えているが、共働き家庭が多い中で放課後児童クラブの定員が不足している。特に小学校1年生から4年生までの対応が不十分で、働く親が就業時間を短縮せざるを得ない状況がある。若い共働き世代が安心して子育てできる環境を整えてから住宅供給を進めるべきだと思う。","x":1.5064905,"y":5.520453,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-260_1","argument":"電話対応において、特に男性職員の対応に不満を感じたことがある。顔が見えない分、しっかりとした対応を求めたい。","x":-0.03692391,"y":4.571318,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-260_2","argument":"ホームセンターが町内にあれば、町から出ずに買い物が済むので便利だと感じている。","x":-1.5232263,"y":0.7311002,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-261_0","argument":"宇多津町の行政には、SNSでの情報発信を強化してほしい。特に坂出市のように、ツイッターを活用して火事などの速報や観光情報を提供することで、住民や観光客にとって役立つ情報を発信してほしい。","x":-0.79609656,"y":3.7355492,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-262_0","argument":"宇多津町に引っ越してきて良かったという感想。","x":-1.8581256,"y":3.0193012,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-263_0","argument":"すくすくスクエアーの利用者が少ないため、高齢者や子ども達、地域の人々が集まれる行事を開催してほしい。具体的には、展示会や経済、災害に関するイベントなどが考えられる。","x":0.3328062,"y":1.3834838,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-263_1","argument":"コミュニティバスの利用者が少ないことが気になる。ルート上で手を上げると乗降できるシステムがあれば、高齢者にとって便利だと思う。","x":4.1990128,"y":3.6232564,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-264_0","argument":"さぬき浜街道北側の活用についての提案。","x":0.87609905,"y":0.41249767,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-264_1","argument":"駅周辺にファミリーレストランの出店を希望。（行政の直接の関与ではないが、地域活性化の一環として考慮してほしい。）","x":-0.56954,"y":0.5139185,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-265_0","argument":"大雨時の浸水対策として河川の整備を望む。","x":2.2590153,"y":1.8673388,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-266_0","argument":"ゴールドタワー周辺でのお祭りの復活を希望します。","x":0.1935514,"y":-0.41445458,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-267_0","argument":"毎週日曜日の放送が聞こえないため、町長の声が聞こえず、非常時に困る。改善を求める。自治会を通じて周知してほしい。","x":-0.55263734,"y":3.7020807,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-268_0","argument":"行政の体制強化のために、正職員を増やすことを望みます。","x":0.09325481,"y":4.362773,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-269_0","argument":"若者と高齢者の両方が住みやすい町づくりを希望します。","x":2.1073415,"y":4.185081,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-270_0","argument":"四国水族館の開業に伴い、浜街道および沿道での渋滞や治安の悪化、交通ルールを守らない車両の増加が見られる。これに対して、警察の取り締まりが強化され、休日や夜間のパトカーの出動率が高くなっている。サイレンの音が頻繁に聞こえることに不安を感じる。","x":2.2509785,"y":2.3351386,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-271_0","argument":"宇多津町の南部や北浦地域の誘致と開発を進めてほしい。","x":-1.4037657,"y":1.874365,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-272_0","argument":"自転車での移動が多いので、新宇多津都市のように市街地や南部地域の道路も整備してほしい。","x":-1.7338947,"y":2.545878,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-272_1","argument":"新宇多津都市以外にも整備された公園を増やし、子育て世代が身近に遊べる場所を提供してほしい。","x":0.8856324,"y":1.2958249,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-272_2","argument":"コロナ禍で地域の人間関係が希薄になっているため、価値観の合う人々との出会いやつながりを促進する地域作りを期待している。行政と地域と住民が一体となった取り組みを望む。","x":0.5354711,"y":3.5593946,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-273_0","argument":"鴨田川の氾濫対策を強化し、警報が出る前に安全を確保できるようにしてほしい。","x":1.9973661,"y":2.3630972,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-273_1","argument":"自治会の参加人数が少ないため、参加するメリットを明確にし、参加を促進する施策を考えてほしい。","x":0.18274958,"y":3.8031487,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-273_2","argument":"ゴミの分別がリサイクルにどのように活用されているのか、具体的な情報を提供してほしい。また、リサイクルを促進するための分別方法を教えてほしい。","x":1.5752512,"y":-0.6390588,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-273_3","argument":"ゴミのポイ捨てが多いので、ポイ捨て防止のための対策を強化してほしい。","x":1.526717,"y":-0.5533567,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-274_0","argument":"宇多津町のコミュニティバスの運行ルートをわかりやすくし、運行本数を増やしてほしいです。また、バス停に椅子を設置してほしいです。","x":4.0502663,"y":3.3273165,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-275_0","argument":"意見が不明確であるため、具体的な要望や提案がありません。","x":-0.3426051,"y":4.313269,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-276_0","argument":"子ども向け、中堅住民、高齢者向けに分けて、それぞれのニーズに応じた行政施策を考えてほしい。","x":2.0542338,"y":5.079353,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-277_0","argument":"宇多津町において、入院が可能な大きな病院などの医療施設の充実を望む。","x":-3.0675526,"y":4.4600105,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-278_0","argument":"駅付近の充実を図ってほしい。四国の玄関口としての役割を果たすため。","x":-0.34194025,"y":0.6914796,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-278_1","argument":"住宅地エリアの道路整備、街灯、公園整備を進めてほしい。","x":2.1144168,"y":1.4011136,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-279_0","argument":"宇多津町は新しい部分と昔からある部分が両立しているのが魅力的なので、今後もその両方が輝く街であってほしい。","x":-1.2165396,"y":2.4288511,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-279_1","argument":"ゴールドタワーは宇多津町のシンボルであり、築年数が気になるが、今後も維持できるようにしてほしい。","x":0.15944742,"y":-0.49844453,"p":0,"cluster_ids":["0","1_5","2_25"]},{"arg_id":"Acsv-280_0","argument":"子育て支援の充実を望む。具体的には、どのような支援があるのかを知りたい。","x":1.7296919,"y":5.6953454,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-280_1","argument":"空き家のリノベーションに関する情報提供を希望する。","x":2.0467913,"y":2.8972101,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-281_0","argument":"現状、子どもの医療費助成や支援センター、公園の充実など、子育てしやすい環境が整っていると実感しています。今後もこのような子育て支援をさらに充実させ、より良い行政を目指してほしいです。","x":1.6531518,"y":5.59256,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-282_0","argument":"兵庫県明石市のような子育て支援を宇多津町でも導入してほしい。これにより、住民が長く住みたいと思うようになり、多くの人が移住してくるきっかけになると考えます。","x":-1.9671702,"y":3.3924947,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-283_0","argument":"宇多津幼稚園の園児数が減少しているため、町立幼稚園として広報活動を強化し、インターネットや町役場を通じて積極的にアピールして園児を増やしてほしい。特に、バス通園が可能であることや延長保育、長期休み中の預かり保育があることをしっかりと伝えるシステムを確立してほしい。","x":1.2767648,"y":5.1972313,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-284_0","argument":"宇多津駅の南口広場において、自動車で右折する際に植物が視界を遮り、西側の見通しが悪いので改善を希望します。","x":3.435451,"y":1.4338763,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-284_1","argument":"宇多津駅の線路の左右で、自動車による南北のアクセスが悪く、特にコープや宇多津クリニック側を通らないと抜けられないため、通り抜けが可能になるよう改善を望みます。","x":3.4869783,"y":1.6614485,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-284_2","argument":"役場入口の加湿器がカビ臭いので、交換を希望します。","x":1.5876257,"y":1.1584885,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-285_0","argument":"福祉課の対応に恐いと感じる職員がいるため、対応の改善を望む。","x":0.2958381,"y":4.8833885,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-286_0","argument":"若者が住み良い環境を整えるために、特に子育て支援の拡充を望みます。","x":1.7617697,"y":5.4832835,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-286_1","argument":"子どもから大人まで休日に足を運びたくなるような商業施設を増やし、県内外からの人の流れを作り、町全体がにぎわう仕組みを生み出してほしいです。","x":-0.1470344,"y":1.1249272,"p":0,"cluster_ids":["0","1_4","2_16"]},{"arg_id":"Acsv-286_2","argument":"学生の勉学や大人のリモートワークに対応でき、地域の人とのつながりを持てるコミュニティセンターやカフェの拡充を希望します。","x":0.5125189,"y":2.9773881,"p":0,"cluster_ids":["0","1_3","2_41"]},{"arg_id":"Acsv-287_0","argument":"宇多津町に大きな総合病院を設置してほしい。かかりつけ医がない患者もすぐに受け入れられる体制を整えてほしい。","x":-2.9564896,"y":4.4826283,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-287_1","argument":"コロナ給付金を増額してほしい。特にコロナに感染し、10日以上休むことになった人に対して生活費の支援が必要。","x":0.41597813,"y":5.5501757,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-287_2","argument":"コロナの発熱外来の電話回線を増やしてほしい。現在の一回線ではつながりにくい。","x":0.9631571,"y":3.000791,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-287_3","argument":"コロナ関連の支援情報を毎月の広報に掲載してほしい。特に食糧支援などの情報は重要。","x":0.41200864,"y":5.4566355,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-287_4","argument":"高齢者や体調不良時に利用しやすいタクシーサービスを提供してほしい。特にバス停まで歩くのが難しい場合や買い物の際に利用できるサービスが必要。","x":3.3114169,"y":3.9081416,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-288_0","argument":"住民の意見を行政がもっと聞いてほしい。","x":-0.411921,"y":4.319371,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-288_1","argument":"中学生の卓球部がプールの床で活動しているため、運動施設の充実を望む。","x":0.65746063,"y":1.9776071,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-288_2","argument":"TSUTAYAの駐車場が夜間に暗く、地面がさびれているため、改善を求める。","x":1.9551538,"y":1.2000837,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-288_3","argument":"社協の活動が他の地域に比べて小規模で不安があるため、強化を望む。","x":0.3355791,"y":3.6107152,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-288_4","argument":"ネットを活用することで、町議員の人数を減らせるのではないかと考える。","x":0.17270654,"y":4.5775023,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-289_0","argument":"青の山トンネルから国道11号に出る道について、11号線から青の山トンネル方面への右折のみの時間帯に、青の山からR11への左折も可能にすることで、週末の混雑を緩和できると考えます。","x":3.2146225,"y":1.2896672,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-290_0","argument":"街灯を増やしてほしい。","x":2.0528066,"y":1.3202226,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-291_0","argument":"ゴミの持込み制限が厳しく、出せるゴミの種類が少ないため、改善を望みます。特に粗大ゴミ以外の受け入れを増やしてほしいです。","x":1.535945,"y":-0.64849794,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-292_0","argument":"宇多津JR駅前周辺の深夜のパトロールを強化してほしい。改造車の爆音走車や大声で騒ぐ声が迷惑。","x":3.2677305,"y":2.4945834,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-292_1","argument":"高齢者向けの軽運動が出来る施設を作ってほしい。","x":2.6789894,"y":4.172987,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-292_2","argument":"宇多津町役場から発信される放送が聞き取り難い。","x":-0.8754574,"y":3.6460712,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-293_0","argument":"歩道の植栽について、歯の抜けたような箇所が多々あるため、捕植をしていただきたい。","x":2.5309997,"y":0.73379254,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-294_0","argument":"遊歩道の整備を希望します。","x":2.3601637,"y":0.9240986,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-294_1","argument":"一旦停止や進入禁止の道路標識をわかりやすくしてほしいです。","x":3.0666962,"y":1.1642562,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-295_0","argument":"現在の行政サービスや取り組みを継続してほしい。","x":0.14159909,"y":4.7720957,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-296_0","argument":"役場前の信号に右折矢印をつけてほしい。","x":3.4925983,"y":1.2763706,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-296_1","argument":"スーパーセンター前の信号に右折矢印をつけてほしい。","x":3.4363818,"y":1.2123618,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-296_2","argument":"大束川沿いのT字路にカーブミラーを設置してほしい。","x":3.3045204,"y":1.0033839,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-296_3","argument":"大束川沿いから浜街道に出る信号に右折矢印をつけてほしい。","x":3.462957,"y":1.1622299,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-296_4","argument":"家の前の街路樹の草刈りの回数を増やしてほしい。草が伸びすぎて車庫入れの邪魔になるため、もっときれいにする対策をしてほしい。","x":2.8755994,"y":0.70118684,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-297_0","argument":"車を運転する人が多いため、運転しやすい道路の整備をお願いします。","x":2.7983336,"y":1.4675045,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-298_0","argument":"宇多津町の行政に若い人が積極的に参加し、活気あるまちづくりを進めてほしい。","x":-0.78537184,"y":3.4065444,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-299_0","argument":"不燃ゴミや粗大ゴミを自分で捨てに行ける場所が欲しい。坂出市や丸亀市と協力しても良い。","x":1.5847791,"y":-0.57492787,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-299_1","argument":"サークル活動や公民館活動の情報をもっと提供してほしい。","x":0.21388161,"y":3.5028832,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-299_2","argument":"宇多津町の商品券について、善通寺市のように5,000円程度の付加価値があれば購入を検討したい。","x":-1.5191312,"y":4.542753,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-299_3","argument":"水族館の年間パスがあれば購入したい。また、町民割引を導入し、一緒に来た人も割引料金にしてほしい。","x":0.3637129,"y":0.49196687,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-300_0","argument":"保育園の待機児童ゼロを目指し、0歳児から誰でも入れるようにしてほしい。","x":1.7559899,"y":6.110724,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-300_1","argument":"土日も子どもを預かってくれる保育園を増やしてほしい。","x":1.7367401,"y":5.9716673,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-300_2","argument":"小児科が1つしかないので、増やしてほしい。","x":-2.786665,"y":4.797781,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-300_3","argument":"県外からの転入者が増えているので、学童保育を充実させてほしい。","x":1.6051402,"y":5.836013,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-300_4","argument":"イケアやコストコのような大型店舗の誘致を希望します。","x":-1.5709261,"y":0.8205681,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-300_5","argument":"ハワイアンな町づくりを推進してほしい。","x":1.140821,"y":3.7502415,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-301_0","argument":"物価上昇と円安の影響で町民の消費が減少する可能性があるため、宇多津町内での経済活動を活発化させるために商品券やクーポンの発行を検討してほしい。また、他県の人々からも消費してもらえるような施策を考えるべきである。経済活動が活発化すれば、住みやすさや治安の向上にもつながるため、早急な対策が望ましい。","x":-1.3450888,"y":4.178077,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-303_0","argument":"少子化が進む中でも、子どもは将来の人材であるため、子どもの教育、福祉、医療を充実させることが重要です。これが将来の町のリソースとなります。","x":1.6990411,"y":4.8608036,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-304_0","argument":"高齢化に伴い、車での買い物が難しくなるため、駅前広場で市場やキッチンカーによるお弁当販売を開催してほしい。特に夏は暑さの問題があるが、こうした取り組みがあるとありがたい。","x":2.9415512,"y":3.9892046,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-305_0","argument":"宇多津町の町中の美化が以前よりも低下しており、草が伸び放題になっていることが残念です。シルバー人材センターへの依頼が減っているのではないかと懸念しています。町の美化活動の強化を望みます。","x":-0.99957013,"y":2.8417962,"p":0,"cluster_ids":["0","1_1","2_49"]},{"arg_id":"Acsv-306_0","argument":"河川法面の整備を進めてほしい。","x":2.297043,"y":1.745756,"p":0,"cluster_ids":["0","1_3","2_38"]},{"arg_id":"Acsv-307_0","argument":"宇多津町内に子どもたちが帰ってきても働ける企業が少ないため、県外での就職が増えている。地元に企業を誘致し、雇用機会を増やすことが必要です。","x":-1.5076954,"y":2.8482888,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-307_1","argument":"四国に新幹線が乗り入れると、他の路線がJRから外される可能性があり、地元での路線維持が経済的負担となる懸念があります。","x":3.7376456,"y":2.4381742,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-308_0","argument":"街並みや景観を守るために、マンション同士が近くにならないようにしてほしい。","x":1.5493958,"y":2.0651667,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-308_1","argument":"住民票や印鑑証明をコンビニなどでいつでも発行できるようにしてほしい。","x":-1.0448798,"y":5.192808,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-309_0","argument":"宇多津町のコミュニティバスを廃止し、高齢者向けにタクシー券を増額することを提案します。高齢者にとってバス停までの移動や待ち時間が負担になるためです。","x":3.972331,"y":3.567523,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-309_1","argument":"田園が減少していることにより、食料自給率が低下していると感じます。食育についてもっと考えるべきです。","x":0.96352035,"y":2.1416488,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-310_0","argument":"古いしきたりに縛られない行政運営を望む。","x":0.31204998,"y":4.57241,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-311_0","argument":"住環境の整備を望む。","x":1.8443294,"y":3.2883565,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-312_0","argument":"若い人材や女性の人材を積極的に育成し、経験豊かな職員がバックアップすることで、町民も含めた話し合いができる開かれた行政を目指してほしい。","x":0.29761612,"y":4.0511594,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-313_0","argument":"現町長のパフォーマンス的な姿勢は不要であり、もっと実直に町政に取り組む人をトップに据えたい。組織票に阻まれているが、次の町長選には現町長が立候補しないことを望む。","x":-0.21710621,"y":4.0069294,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-314_0","argument":"健康で快適に暮らせる町づくりを望む。","x":1.7742155,"y":3.9186869,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-315_0","argument":"宇多津町に公立の高校と大学を設立してほしい。","x":-2.2521555,"y":2.4262848,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-316_0","argument":"JR宇多津駅の南出口、北出口周辺の再開発を希望します。訪れた人々が降り立った瞬間に素敵な町と感じるような広場を設け、イベントや観光案内、コミュニティが集積され、各地の観光資源と有機的に結びつくことを望みます。","x":-0.8718551,"y":1.5940616,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-316_1","argument":"駅前や観光地に人気の飲食店を増やしてほしいです。","x":-0.6358778,"y":0.51155454,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-317_0","argument":"行政と住民が協調・協力してまちづくりを行うことを望む。","x":0.6090672,"y":3.959029,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-318_1","argument":"公園のポイ捨てがなくなるようにしてほしい。","x":1.4869374,"y":0.82134855,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-319_0","argument":"宇多津町の行政は、言葉を発しない町民の声にも耳を傾けるべきです。満足していると決めつけず、なぜ声を上げないのかを考え、全町民の意見を拾い上げる努力をしてください。行政が町民の声を聞きたがっていることをアピールし、血税の使い道を丁寧に考えてください。また、横のつながりを持ちたくても持てない町民や、心の弱い町民の声も大切にする行政を目指してください。","x":-0.6546646,"y":3.9651031,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-320_0","argument":"土日の行政対応日の設定を希望します。","x":-0.0248847,"y":5.0248513,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-320_1","argument":"子育てや移住者、若者だけでなく、高齢者や障害者への支援を手厚くしてほしいです。","x":2.0690193,"y":5.2579184,"p":0,"cluster_ids":["0","1_2","2_12"]},{"arg_id":"Acsv-320_2","argument":"自治会に加入していない世帯への活動の場や防災活動の提供を求めます。","x":0.18171164,"y":3.684647,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-320_3","argument":"ぐるっとバス（丸亀）や坂出のバスとの連携を強化し、便やルートの充実を図ってほしいです。","x":4.11592,"y":2.9901984,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-320_4","argument":"191号線を40㎞規制にし、スピード違反対策としてオービス等の導入を検討してほしいです。特に子どもの登下校時の安全確保が必要です。","x":3.3152683,"y":2.0474153,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-321_0","argument":"若者が楽しめるイベントを開催し、宇多津を楽しい街にしてほしい。","x":-0.37113446,"y":1.7573026,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-322_0","argument":"宇多津町にホームセンターが無くなったため、住民にとって不便である。ホームセンターの再設置を望む。","x":-1.4168582,"y":3.4451756,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-323_0","argument":"おでかけバスの運転マナーが悪く、信号無視や割り込み、一時停止をしないことがあるため、運営を停止すべきです。","x":4.349797,"y":3.2488315,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-323_1","argument":"高齢者の運転が危険であるため、70歳になったら運転免許を強制返納する条例を作るべきです。","x":2.8379288,"y":3.910111,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-323_2","argument":"中学生の自転車マナーが悪く、クラクションを鳴らしても避けないため、学校に改善を求めましたが効果が見られません。","x":3.2018695,"y":2.3337524,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-323_3","argument":"中学校付近の水路が狭く、大雨時に道路が冠水するため、もう少し広げてほしいです。","x":2.622887,"y":1.6605189,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-324_0","argument":"宇多津町の音声放送が聞き取りにくい。特に災害や緊急時のアナウンスが響いたりこもって聞こえるため、内容がはっきりと聞こえるよう改善してほしい。","x":-0.67073315,"y":3.5592992,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-325_0","argument":"宇多津町を若者が集まる町として発展させてほしい。海やお寺などの観光資源を活かし、新旧の魅力を融合させて外国人観光客を増やしてほしい。","x":-1.2394992,"y":2.2106311,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-325_1","argument":"70歳以上の健康な高齢者の意見を積極的に取り入れ、町づくりに活かしてほしい。","x":2.491219,"y":4.264191,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-326_0","argument":"出生率が伸びていることと住みやすさを維持し続けてほしい。","x":1.771716,"y":4.551385,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-327_0","argument":"ホームセンターとケンタッキーの誘致を希望します。","x":-1.4077338,"y":0.6622839,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-327_1","argument":"宇多津町の日本一の特徴を全国にもっとアピールするべきです。","x":-1.4698161,"y":2.5641668,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-328_0","argument":"宇多津町に住み始めて1年が経ち、とても住みやすいと感じています。コロナの影響で地元の行事がないのが残念です。新しい街並みと歴史ある町並みの両方があると聞いており、もっと地元の方との交流をしたいです。","x":-1.739082,"y":3.1110077,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-329_0","argument":"高校生までの医療費を所得制限なしで無償化してほしい。","x":1.3482314,"y":6.9290066,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-329_1","argument":"海外の人との交流を促進してほしい。","x":0.71959585,"y":2.8203542,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-329_2","argument":"長穐田地区にドラッグストアやスーパーを設置してほしい。","x":-1.5200984,"y":1.0267191,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-329_3","argument":"子どもが遊べる施設（例：ゴールドタワーのようなもの）を作ってほしい。","x":0.68218946,"y":1.1746848,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-329_4","argument":"将来の子どもたちが大人になっても住みたいと思えるような、子育てしやすい町づくりを進めてほしい。","x":1.8426588,"y":4.52189,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-330_0","argument":"道路脇の植木を低くして、左右の車が見えやすくしてほしい。","x":3.113144,"y":0.8601239,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-330_1","argument":"植木をこまめにカットしてほしい。","x":2.9394531,"y":0.7107997,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-331_0","argument":"消防のサイレンを鳴らすのを止めてほしい。","x":1.7482722,"y":2.515821,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-332_0","argument":"現状に概ね満足しているが、今後も美しい自然と街並みが維持され、静かで穏やかな町であってほしい。","x":1.6390162,"y":3.706356,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-333_0","argument":"狭い道が多いので、道路の拡張や改善を望む。","x":2.648955,"y":1.533375,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-334_0","argument":"宇多津町の安心安全の町づくりを推進するために、行政、職員、住民が協力して取り組むことを望みます。","x":-0.9802819,"y":3.4392834,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-335_0","argument":"宇多津町が「小さいながらも輝く町」としての魅力を維持し続けてほしい。","x":-1.1162107,"y":2.4997993,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-336_0","argument":"行政窓口のデジタル化と行政手続きのオンライン化を進めてほしい。また、行政に関する情報を全てオンラインで確認できるようにしてほしい。","x":-0.41514292,"y":5.0259824,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-337_0","argument":"宇多津町コミュニティバスの運転マナーを改善してほしい。","x":4.0003643,"y":3.1533916,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-337_1","argument":"お祭りの際に、お客様へのトイレ案内をしっかり行ってほしい。","x":1.2591367,"y":0.9108953,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-338_0","argument":"子宮ガン検診を無料、もしくは低額で医療機関にて受けられる制度を導入してほしい。","x":1.3319341,"y":6.9702163,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-338_1","argument":"胃ガン検診の負担額を他地域と同じくらいにしてほしい。","x":1.2142053,"y":6.9758487,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-338_2","argument":"税負担の見直しを求める。","x":-0.5651582,"y":6.4881215,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-339_0","argument":"谷川町長の手厚い支援と助成に感謝しており、宇多津町での生活に満足しています。","x":-1.9344524,"y":3.4321015,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-340_0","argument":"学童保育の預かり時間を延長し、費用を下げることを希望します。","x":1.5278031,"y":6.5354185,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-341_0","argument":"まちづくりの全ての要素が重要であり、全てがより良くなることを期待しています。集めた意見をしっかりと見て、活動としてだけでなく、これからの子どもたちのためにより良い町になるように行動に移してほしいです。","x":1.377328,"y":4.265286,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-342_0","argument":"将来の高齢者の一人暮らし世帯の増加を見据え、協力し合い安心して暮らせる町づくりを進めてほしい。","x":2.125316,"y":4.1752124,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-343_0","argument":"資源ゴミを可燃ゴミのように収集してほしい。年をとったら、町役場まで持っていくのが困難になるため。","x":1.5606123,"y":-0.64098436,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-344_1","argument":"医療機関をもっと充実させてほしいです。","x":-2.8112154,"y":4.791666,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-344_2","argument":"自然食品店（有機野菜やオーガニック食品等）を展開してほしいです。","x":-1.2316397,"y":1.0791384,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-345_0","argument":"すくすくスクエアを一般の人が利用しやすくすることを望みます。","x":0.5678962,"y":1.511546,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-346_0","argument":"公園や遊歩道の整備を強化してほしい。草が生い茂り、枝が伸び放題の状態を改善し、シルバー人材による清掃頻度を増やしてほしい。公共の場所が美しいと心も豊かになると考える。","x":1.6679319,"y":0.8735942,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-347_0","argument":"思いやりのあるあたたかい町にしてほしい。","x":1.6881409,"y":3.756398,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-348_0","argument":"給食費を無料にしてほしい。特に、別の町の学校に通っている場合でも適用されるようにしてほしい。","x":1.1271365,"y":6.6282973,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-348_1","argument":"一人親家庭の子ども手当を、2人目以降の子どもに対して増額してほしい。","x":1.6622155,"y":6.1003714,"p":0,"cluster_ids":["0","1_2","2_35"]},{"arg_id":"Acsv-349_0","argument":"予約制のバスをもっと手軽に利用できるようにしてほしい。車を持たない人にとって、自転車での移動や旅行時、高速バスのバス停へのアクセスが不便である。","x":4.1005754,"y":3.4028106,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-350_0","argument":"宇多津町のホームページが見にくく、特にコロナ関連情報が分かりにくい。他の自治体を参考に改善してほしい。","x":-0.9972409,"y":3.680529,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-350_1","argument":"アンケートのデジタル化を推進すべきであり、紙での配布は無駄なコストがかかるため、他の方法で意見を集めるべき。","x":-0.64789456,"y":5.030607,"p":0,"cluster_ids":["0","1_2","2_44"]},{"arg_id":"Acsv-351_0","argument":"高齢者が車を使わずに買い物に行きやすい環境を整備してほしい。","x":2.9496534,"y":3.9958522,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-352_0","argument":"駅近で新たな分譲地の開発を希望します。","x":-0.34867746,"y":0.6116867,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-352_1","argument":"コロナが落ち着いたら、お祭りなどのイベントを積極的に開催してほしいです。","x":0.50219923,"y":5.451726,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-353_0","argument":"外国人の不法流入に対する注意を強化する。","x":1.3229564,"y":2.8715572,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-353_1","argument":"マイナンバーカードの活用法を充実させ、利便性を向上させる。","x":-1.305614,"y":5.0481544,"p":0,"cluster_ids":["0","1_2","2_20"]},{"arg_id":"Acsv-354_0","argument":"南方の農業地域を保護し、開発を抑制してほしい。住宅の増加は良いが、農業地域が失われるのは寂しい。","x":-0.15748826,"y":1.4945383,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-355_0","argument":"宇多津町の新宇多津都市の発展は著しいので、今後もその発展を期待しています。しかし、郷照寺周辺や商店街には廃れた建物や店が多く見受けられます。商店街が復活すれば、新都市感と神社や寺の風情ある街並みを楽しめる二面性を持った魅力的な街になると思います。","x":-1.4477569,"y":2.4111903,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-356_0","argument":"宇多津町の美しい寺町、街並み、田園風景を保護し、壊さないでほしい。","x":-0.7596915,"y":2.3798368,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-357_0","argument":"宇多津町の空家対策と災害対策を強化し、宇多津独自のモデルを確立してほしい。","x":-1.1416546,"y":3.2073023,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-357_1","argument":"宇多津町から発信できる特産品（野菜、果物など）を作ることを提案します。","x":-1.514389,"y":1.7671176,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-358_0","argument":"宇多津町は県内でも最先端で動いていると感じています。","x":-1.7636794,"y":2.9624684,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-359_0","argument":"宇多津町の現在のにぎわいと明るさを維持してほしい。","x":-1.0858483,"y":2.559809,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-360_0","argument":"宇多津町には生活に必要な物が揃っているため、利便性が高いと感じています。","x":-1.9090098,"y":2.95727,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-361_0","argument":"旧町民優先の取組が多く、新しい住民に対する配慮が不足していると感じる。","x":0.21968375,"y":3.4630928,"p":0,"cluster_ids":["0","1_2","2_8"]},{"arg_id":"Acsv-361_1","argument":"駅周辺の道路の夜間照明の明るさを確認し、改善が必要であれば対応してほしい。","x":1.9729662,"y":1.2752672,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-362_0","argument":"コンパクトで何でもすぐ手に届く街づくりを望む。","x":1.8064932,"y":3.760501,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-362_1","argument":"古い団地の建て替えを行い、新規流入者に好まれる街にすることを提案する。","x":1.9264406,"y":3.4352586,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-363_0","argument":"美しい街並みを維持すること。","x":1.5474203,"y":1.8875208,"p":0,"cluster_ids":["0","1_3","2_13"]},{"arg_id":"Acsv-363_1","argument":"交通安全の向上：車、バイク、自転車の安全運転の徹底と交通ルールの遵守。","x":3.2664566,"y":2.2113488,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-363_2","argument":"小学校・中学校の教育の質の向上。","x":1.075187,"y":6.0129814,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-363_3","argument":"子育て世代やシニア世代が安心して住める街づくり。","x":2.2348447,"y":4.13614,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-363_4","argument":"おでかけバスの需要の見直し。","x":4.3767533,"y":3.234903,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-363_5","argument":"健康促進につながる安全で清潔な遊歩道の整備。他の自治体の手本となるような散歩道の整備。","x":2.1122868,"y":0.8666431,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-363_6","argument":"バイクの遊歩道での走行禁止。","x":2.8012013,"y":1.1614587,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-363_7","argument":"愛犬家によるゴミの持ち帰りの徹底とポイ捨て禁止。","x":1.5697826,"y":-0.5337534,"p":0,"cluster_ids":["0","1_5","2_9"]},{"arg_id":"Acsv-363_8","argument":"桜などの樹木を切る行為の禁止。","x":2.8390656,"y":0.66586107,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-364_0","argument":"宇多津町のホームページのリニューアルやSNSを活用して、町の情報発信を強化してほしい。","x":-0.93942416,"y":3.6491358,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-364_1","argument":"アンケート回答者から『宇多津町総合計画』に参加する人を募集し、町民の意見を反映させる場を設けてほしい。","x":-0.74282175,"y":4.110161,"p":0,"cluster_ids":["0","1_2","2_34"]},{"arg_id":"Acsv-365_0","argument":"子どもの生活を最優先に考え、コロナ禍での制約を見直してほしい。","x":0.65751415,"y":5.588508,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-365_1","argument":"医療費無料や金銭的支援ではなく、根本的に健康や幸せを感じられる施策を求める。","x":1.3133334,"y":6.9738183,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-365_2","argument":"食べ物や水、給食をオーガニックにするなど、生活の質を向上させる取り組みをしてほしい。","x":1.0481861,"y":2.4568965,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-366_0","argument":"商業施設の充実や観光、グルメなどを含めた魅力的な町を維持してほしい。","x":-0.65088016,"y":1.1006227,"p":0,"cluster_ids":["0","1_4","2_6"]},{"arg_id":"Acsv-367_0","argument":"新都市は準工業地域で工場や運送会社が多く、騒音が問題となっているため、静かな環境で暮らしたいと考えています。こうした地域にマンションを建設するのは避けてほしいです。特にセントベイヒルズの跡地をマンションや分譲地にするのはやめてほしいです。","x":1.854889,"y":3.570681,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-368_0","argument":"中学校周辺の川の土手道路の整備を望む。","x":2.694244,"y":1.6264901,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-368_1","argument":"南部地域の開発を進めてほしい。","x":-0.3436579,"y":1.4064928,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-369_0","argument":"コミュニティバスの運行について、乗車率が低いように感じるが、幼稚園児の送迎に利用されていることは良い点である。片道100円にすることで乗車率が増える可能性があるため、料金の見直しを検討してほしい。","x":4.282725,"y":3.536896,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-370_0","argument":"宇多津町はとても良い街だが、若い人が少ないと感じる。SNSを活用して町の良さを広めることで、若者を引き寄せることができると思う。","x":-1.3417944,"y":2.5782824,"p":0,"cluster_ids":["0","1_1","2_43"]},{"arg_id":"Acsv-371_0","argument":"地区のコミュニケーションを複雑でなく、スムーズにしてほしい。","x":0.72392434,"y":3.374201,"p":0,"cluster_ids":["0","1_3","2_36"]},{"arg_id":"Acsv-371_1","argument":"1人で利用できる飲食店を増やしてほしい。","x":-0.7324862,"y":0.5424756,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-372_0","argument":"宇多津北小学校区の放課後児童クラブの受入れ人数が不足しており、施設が狭く、指導力にムラがあるとの声がある。未就学児の子育て支援とともに、小学校への支援を強化してほしい。","x":-2.4740005,"y":3.4877348,"p":0,"cluster_ids":["0","1_1","2_48"]},{"arg_id":"Acsv-373_0","argument":"子どもは重要な資源であり、子育て支援や教育環境の充実が必要です。","x":1.4499967,"y":5.72329,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-374_0","argument":"臨海公園のゴミ問題を改善し、観光客が訪れる場所として常に清潔に保つことを望みます。","x":1.3731141,"y":0.46231768,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-374_1","argument":"四国水族館の良さをもっとPRして、口コミの改善を図ってほしいです。","x":0.32098433,"y":0.4128992,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-375_0","argument":"田んぼや畑が少なくなっていることに寂しさを感じており、これらの風景を次世代に残すために、若者に農業を教える機会を増やしてほしい。","x":0.82799697,"y":2.1133986,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-376_0","argument":"バスを坂出駅まで運行してほしい。","x":4.197444,"y":3.074292,"p":0,"cluster_ids":["0","1_3","2_31"]},{"arg_id":"Acsv-376_1","argument":"南の方に医療施設を作ってほしい。","x":-2.9697492,"y":4.475852,"p":0,"cluster_ids":["0","1_1","2_10"]},{"arg_id":"Acsv-377_0","argument":"町の東側、大束川の流域における道路の安全性向上を求めます。特に、歩道が狭い、または歩道がないスクールゾーンでの危険性が高いため、道路の拡幅や車の速度を抑制する対策を講じてください。","x":2.8904357,"y":1.5340291,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-378_0","argument":"宇多津町に歴史を学べる施設を設置し、町の歴史や文化を学べる場を提供してほしい。具体的には、昔の生活様式や伝統的な食べ物、老舗のお店、寺社などを紹介する場所が望ましい。語り部の存在もあると良い。","x":-1.1485971,"y":2.2327576,"p":0,"cluster_ids":["0","1_4","2_11"]},{"arg_id":"Acsv-378_1","argument":"住民参画型のコミュニティを形成し、町民が生き甲斐を感じられるような場を作ってほしい。住んでいる町について知識を深めることが重要であり、誰でも参加できることが大切。人間関係が偏らないようにするためには、適切なリーダーシップが必要である。","x":0.53117764,"y":3.7874162,"p":0,"cluster_ids":["0","1_2","2_27"]},{"arg_id":"Acsv-379_0","argument":"医療の無料クーポン（子宮頸がんなど）を利用できる病院を増やしてほしい。","x":1.3576643,"y":6.921375,"p":0,"cluster_ids":["0","1_2","2_1"]},{"arg_id":"Acsv-379_1","argument":"子育て支援が充実しているのは良いことだが、子育てが終わった町民全員にも不公平なく支援があると嬉しい。","x":1.449112,"y":5.785282,"p":0,"cluster_ids":["0","1_2","2_26"]},{"arg_id":"Acsv-380_0","argument":"すくすくスクエアを子どもや親だけでなく、一般の人も使いやすいように手続きを簡素化してほしいです。大人の自習スペースも設けていただけると嬉しいです。","x":0.5131689,"y":1.6279228,"p":0,"cluster_ids":["0","1_5","2_0"]},{"arg_id":"Acsv-381_0","argument":"宇多津町が教育の街になることを望んでいます。特に、小学生からIT教育を導入し、世界に遅れを取らないようにする必要があります。現代の子どもたちに必要な力は、現在の教育とは異なっており、教える人材を外部から招いたり育成したりすることが重要です。例えば、東京のライフイズテックを招いて先生の指導を手伝ってもらったり、中高生のIT技術の育成に取り組むことが考えられます。宇多津町が教育の進んだ町として認識されれば、人が集まり、町が若返るでしょう。","x":-2.2142386,"y":2.9654372,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-382_0","argument":"宇多津町の防災対策についての要望: 東分に住んでいますが、避難所がなく不安です。現在の避難所である津の郷コミュニティは小さく、新しい住民を収容できるとは思えません。自治会に入っていないため、避難所の利用に不安があります。自治会活動には参加しづらいですが、町民として参加できる防災活動には参加したいと考えています。自治会に依存しない避難所の整備をお願いします。","x":-1.3224756,"y":3.4799516,"p":0,"cluster_ids":["0","1_1","2_37"]},{"arg_id":"Acsv-383_0","argument":"子ども達が新幹線に興味を持っていることを考慮し、交通インフラや教育に関連した施策を検討してほしい。","x":3.6826062,"y":2.359227,"p":0,"cluster_ids":["0","1_3","2_2"]},{"arg_id":"Acsv-383_1","argument":"マンションの増加が将来的に問題を引き起こさないか、都市計画の観点から検討してほしい。","x":1.5544276,"y":3.8906934,"p":0,"cluster_ids":["0","1_3","2_4"]},{"arg_id":"Acsv-383_2","argument":"私たちや観光客のために、外国人の自転車のマナー向上を図る施策を実施してほしい。","x":2.9060266,"y":2.5777307,"p":0,"cluster_ids":["0","1_3","2_32"]},{"arg_id":"Acsv-383_3","argument":"給料が安いのに住民税が高い現状を改善するための税制改革を検討してほしい。","x":-0.6011422,"y":6.445266,"p":0,"cluster_ids":["0","1_2","2_29"]},{"arg_id":"Acsv-383_4","argument":"旧宇多津の田園や自然を大切に残すための環境保護施策を推進してほしい。","x":-0.45435888,"y":2.3098872,"p":0,"cluster_ids":["0","1_4","2_30"]},{"arg_id":"Acsv-384_0","argument":"コロナで仕事を失った人に対して、年金制度の処理を役場でしっかりと行ってほしい。書類を提出したのに年金の請求が続いており、対応が難しい。","x":0.10102275,"y":5.397557,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-385_0","argument":"公共トイレの清掃と照明の改善を望みます。くもの巣がある場所や日中でも薄暗い場所があり、手を洗うのを躊躇してしまうためです。","x":1.5968295,"y":1.057128,"p":0,"cluster_ids":["0","1_5","2_28"]},{"arg_id":"Acsv-386_0","argument":"宇多津町にしかない独自でユニークな個性あるお店が増えてほしい。","x":-1.6418295,"y":1.6343194,"p":0,"cluster_ids":["0","1_4","2_19"]},{"arg_id":"Acsv-386_1","argument":"駅周辺の更なる活性化を望む。","x":-0.368802,"y":0.59065807,"p":0,"cluster_ids":["0","1_4","2_39"]},{"arg_id":"Acsv-386_2","argument":"図書館の更なる活性化を望む。","x":0.09131128,"y":2.6838484,"p":0,"cluster_ids":["0","1_3","2_41"]},{"arg_id":"Acsv-387_0","argument":"宇多津町に進学校の高校を設立してほしい。","x":-2.330595,"y":2.5576727,"p":0,"cluster_ids":["0","1_1","2_46"]},{"arg_id":"Acsv-388_0","argument":"害虫駆除に力を入れたまちづくりを希望します。特にゴキブリの対策を強化してほしいです。","x":1.1853606,"y":2.0573761,"p":0,"cluster_ids":["0","1_3","2_23"]},{"arg_id":"Acsv-389_0","argument":"空き家対策の強化を求めます。特に古い家屋は台風時にトタンや瓦が飛んでくる危険があり、安全対策が必要です。","x":1.9859638,"y":2.8326178,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-389_1","argument":"ホームセンターの誘致を希望します。DIY用品を購入するために隣市まで行く必要があり、不便です。","x":-1.5753248,"y":0.82910985,"p":0,"cluster_ids":["0","1_4","2_33"]},{"arg_id":"Acsv-389_2","argument":"青の山から鍋谷交差点にかけての渋滞緩和策を求めます。","x":3.0030973,"y":1.4146518,"p":0,"cluster_ids":["0","1_3","2_7"]},{"arg_id":"Acsv-389_3","argument":"新しい役場の窓口が分かりにくいので、案内表示の改善をお願いします。","x":-0.040480215,"y":4.5292635,"p":0,"cluster_ids":["0","1_2","2_15"]},{"arg_id":"Acsv-390_0","argument":"福祉サービスのさらなる充実を希望します。","x":0.6886147,"y":5.160976,"p":0,"cluster_ids":["0","1_2","2_47"]},{"arg_id":"Acsv-391_0","argument":"宇多津町が安全で住みやすい町であり続けることを望む。","x":-1.48466,"y":3.048413,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-392_0","argument":"水族館を活用した観光誘致において、中讃エリア全体で協力し、広域的な誘致を行い、各エリアでの滞在時間を延ばす取り組みをしてほしい。","x":0.4731924,"y":0.3621749,"p":0,"cluster_ids":["0","1_5","2_45"]},{"arg_id":"Acsv-392_1","argument":"宇多津町は県内で唯一人口が増加している町であるため、今後も人口増加に向けたサービスの充実に取り組んでほしい。","x":-1.4845126,"y":3.0018845,"p":0,"cluster_ids":["0","1_1","2_3"]},{"arg_id":"Acsv-393_0","argument":"旧町の空家対策を進めてほしい。","x":2.0633876,"y":2.850412,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-393_1","argument":"横断歩道の白線を塗りなおしてほしい。","x":3.110962,"y":1.0906506,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-393_2","argument":"青の山トンネルや浜街道の道の草を除去してほしい。","x":2.7173598,"y":0.93979293,"p":0,"cluster_ids":["0","1_3","2_21"]},{"arg_id":"Acsv-393_3","argument":"高齢者の自転車のマナー改善を促進してほしい。","x":2.9455452,"y":3.7956069,"p":0,"cluster_ids":["0","1_3","2_24"]},{"arg_id":"Acsv-393_4","argument":"信号の無い横断歩道を渡る人の意志が見えるように教育を行ってほしい。","x":3.3023639,"y":1.2683561,"p":0,"cluster_ids":["0","1_3","2_40"]},{"arg_id":"Acsv-393_5","argument":"夜間、街灯が無く暗い場所が多いので改善してほしい。","x":1.9884727,"y":1.2897947,"p":0,"cluster_ids":["0","1_3","2_17"]},{"arg_id":"Acsv-394_0","argument":"どの年代の人も住みやすい街づくりを目指し、デジタル化を進める際にはお年寄りにも分かりやすいシステムを導入してほしい。特に飲食店や病院で困っているお年寄りを見かけるため、シンプルで分かりやすいシステムが必要です。","x":2.2143419,"y":4.364919,"p":0,"cluster_ids":["0","1_3","2_14"]},{"arg_id":"Acsv-394_1","argument":"古いものや残した方がいいものを大切にしながら、住みやすく安全な街づくりを進めてほしい。","x":2.0039482,"y":3.4414868,"p":0,"cluster_ids":["0","1_3","2_42"]},{"arg_id":"Acsv-394_2","argument":"運動のためのウォーキングを安心して行えるように、人通りが少なくても安全に歩ける広めの公園を整備してほしい。駐車場もあると良いです。","x":1.9022576,"y":0.7266388,"p":0,"cluster_ids":["0","1_5","2_22"]},{"arg_id":"Acsv-395_0","argument":"宇多津町の行政は、コロナ感染時に迅速に支援物資を提供してくれた。住民が不安な時に迅速に対応してくれる姿勢に感動し、職員の方々に感謝している。このまま良い町であり続けることを応援している。","x":-1.1039042,"y":3.807624,"p":0,"cluster_ids":["0","1_1","2_18"]},{"arg_id":"Acsv-396_0","argument":"宇多津町の住民間の交流を促進し、特に新しく移住してきた人々が地域社会に溶け込みやすくなるような取り組みを期待します。","x":-0.78977275,"y":2.9319606,"p":0,"cluster_ids":["0","1_1","2_49"]}],"clusters":[{"level":0,"id":"0","label":"全体","takeaway":"","value":650,"parent":"","density_rank_percentile":0},{"level":1,"id":"1_4","label":"宇多津町の地域魅力と経済活性化戦略","takeaway":"このクラスタは、宇多津町の商業・観光インフラの強化を通じて地域の魅力を高め、経済活性化を図るための多様な提案を集約しています。住民や訪問者にとって魅力的で便利な町づくりを目指し、独自の店舗誘致や歴史・文化の保護、観光資源の活用、商業施設の増設、イベント開催などが提案されています。これらの施策は、宇多津町を四国の玄関口としての役割を強化し、地域全体の活力を高めることを目的としています。","value":98,"parent":"0","density_rank_percentile":0.2},{"level":1,"id":"1_5","label":"地域活性化と持続可能なコミュニティ開発","takeaway":"このクラスタは、地域の活性化と持続可能なコミュニティ開発に関する多様な意見を集約しています。住民は、ゴミ問題の解決や公園の整備、観光施設の活性化を通じて、地域全体の魅力向上と住民の生活の質の向上を求めています。具体的には、ゴミのポイ捨て防止やリサイクル促進、臨海公園や水族館周辺の整備、ゴールドタワーを中心とした観光誘致、そして多目的施設の充実を通じて、地域の持続可能な発展を目指す声が反映されています。","value":67,"parent":"0","density_rank_percentile":0.4},{"level":1,"id":"1_3","label":"地域の安全性と住環境の向上","takeaway":"このクラスタは、地域住民が安心して暮らせる環境を整えるための具体的な要望を集約しています。交通安全の向上、道路インフラの改善、災害対策の強化、そして美しい街並みの維持が求められています。また、全世代が住みやすい町づくりを目指し、高齢者支援や公共交通機関の整備、空き家の有効活用など、持続可能な地域社会の実現に向けた多様な意見が反映されています。","value":214,"parent":"0","density_rank_percentile":1},{"level":1,"id":"1_1","label":"宇多津町の持続可能な発展と住民生活の向上","takeaway":"このクラスタは、宇多津町における医療施設の充実、住みやすさの向上、行政の改善、住民参加型のまちづくり、子育て支援、教育環境の改善など、住民の生活の質を向上させるための多様な意見を集約しています。住民は、医療や教育の充実、交通や住宅開発の見直し、地域の魅力発信、行政の効率化を通じて、安心して暮らせる環境の整備を求めています。これらの意見は、宇多津町が持続可能で魅力的な地域として発展し、香川県全体の活性化に寄与することを期待しています。","value":99,"parent":"0","density_rank_percentile":0.6},{"level":1,"id":"1_2","label":"住民支援と行政サービスのデジタル化による持続可能な町づくり","takeaway":"このクラスタは、住民の多様なニーズに応じた支援と、行政サービスのデジタル化を通じた効率化を求める意見を集約しています。特に、子育て支援の充実や高齢者・障害者への支援強化、教育環境の改善が強調されています。また、行政手続きのオンライン化やデジタルツールの活用による住民参加の促進、税金の効率的利用と公平な負担の実現が期待されています。住民と行政が協力し、持続可能で活気ある町づくりを目指す声が反映されています。","value":172,"parent":"0","density_rank_percentile":0.8},{"level":2,"id":"2_6","label":"宇多津町の商業・観光インフラの強化と地域活性化","takeaway":"このクラスタは、宇多津町の商業施設や観光インフラの充実を通じて、地域の魅力を高め、経済活性化を図ることを望む意見が集まっています。具体的には、駅周辺の再開発や商業施設の誘致、観光資源の活用、企業誘致、特産品の開発などが挙げられています。これにより、訪れる人々にとって魅力的な町を作り出し、四国の玄関口としての役割を強化し、地域全体の活力を高めることを目指しています。","value":13,"parent":"1_4","density_rank_percentile":0.9},{"level":2,"id":"2_9","label":"地域のゴミ問題とその解決策に関する要望","takeaway":"このクラスタには、地域のゴミ問題に対する具体的な要望や提案が集まっています。住民は、ゴミのポイ捨て防止や収集方法の改善、ゴミ処理施設の計画、リサイクルの促進など、さまざまな視点からゴミ問題の解決を求めています。また、坂出市や丸亀市との協力、助成金制度の導入、不用品の交換会の実施など、地域全体での取り組みを通じて、持続可能なゴミ処理システムの構築を期待しています。","value":13,"parent":"1_5","density_rank_percentile":0.06},{"level":2,"id":"2_7","label":"地域の道路インフラと安全性向上への要望","takeaway":"このクラスタには、地域の道路インフラに関する具体的な改善要望が集まっています。特に、道路の狭さや冠水、マンホールの飛び出し、歩道の不足など、交通の安全性に関わる問題が指摘されています。これらの要望は、通学路やスクールゾーン、主要な交通路における安全性の向上を目的としており、地域住民の生活の質を高めるための具体的なインフラ整備の必要性を訴えています。","value":12,"parent":"1_3","density_rank_percentile":0.22},{"level":2,"id":"2_45","label":"水族館とその周辺地域の活性化と観光促進","takeaway":"このクラスタには、水族館を中心とした地域の活性化と観光促進に関する提案が集まっています。具体的には、水族館の年間パスや町民割引の導入、周辺地域でのイベント開催、浜辺や臨海公園の活用、観光施設の整備、そして地域全体での観光誘致の強化が挙げられています。これらの提案は、水族館を訪れる人々の満足度を高め、地域経済の活性化を図ることを目的としています。また、地元住民や観光客が長時間滞在し、楽しめる環境を整えることで、地域全体の魅力を向上させることを目指しています。","value":13,"parent":"1_5","density_rank_percentile":0.5},{"level":2,"id":"2_10","label":"宇多津町における医療施設の充実への強い要望","takeaway":"このクラスタには、宇多津町における医療施設の不足に対する住民の強い不安と改善要求が集まっています。特に、小児科や産婦人科の不足、大きな総合病院の不在が指摘されており、住民はこれらの医療サービスの充実を強く望んでいます。これにより、住民の安心感が増し、子育て世代の流出を防ぎ、地域の人口増加にも寄与することが期待されています。","value":18,"parent":"1_1","density_rank_percentile":0.18},{"level":2,"id":"2_43","label":"宇多津町の発展と住みやすさ向上への期待","takeaway":"このクラスタには、宇多津町の発展と住みやすさを向上させるための様々な意見が集まっています。人口流出を防ぐための企業誘致や雇用機会の増加、交通整備や住宅開発の見直し、商店街の復活、自然環境の保護と観光の推進、SNSを活用した町の魅力の発信など、多岐にわたる提案が含まれています。住民が暮らしやすく、若者が魅力を感じる町づくりを進めることで、宇多津町がさらに発展し、香川県全体を元気にする役割を果たすことが期待されています。","value":19,"parent":"1_1","density_rank_percentile":0.42},{"level":2,"id":"2_18","label":"宇多津町の行政改善と持続可能なまちづくりへの期待","takeaway":"このクラスタには、宇多津町の行政に対する具体的な改善要望と、持続可能なまちづくりへの期待が集まっています。住民は、短期的な施策ではなく、長期的な視野での公金の使い方を求め、DXの活用や情報発信の強化、行政の効率化を通じて、住民が安心して暮らせる環境の整備を望んでいます。また、情報提供の改善や、若者の積極的な参加を促すことで、活気ある町づくりを進めることを期待しています。","value":16,"parent":"1_1","density_rank_percentile":0.56},{"level":2,"id":"2_14","label":"全世代が住みやすい町づくりと高齢者支援の充実","takeaway":"このクラスタには、少子高齢化社会において、全ての世代が安心して暮らせる町づくりを求める意見が集まっています。特に高齢者に対する支援の充実が強調されており、福祉施設の充実やデジタル化の際の配慮、健康促進施設の整備などが求められています。また、子育て世代や若者にとっても住みやすい環境を整えることが重要視されており、行政サービスのバランスやインフラ整備、住民参加型の町づくりが期待されています。","value":22,"parent":"1_3","density_rank_percentile":0.82},{"level":2,"id":"2_12","label":"多様な世代に対応した住環境と子育て支援の充実","takeaway":"このクラスタには、若い子育て世代を中心に、様々な世代に対する住環境や支援の充実を求める意見が集まっています。特に、子育て支援の拡充や、共働き家庭が安心して子育てできる環境の整備、保育所や学童の充実、親子の関わりを深めるための取り組みが求められています。また、高齢者や障害者への支援の強化、不公平感の是正、行政サービスの改善など、多様なニーズに応じた施策の必要性が強調されています。これにより、住民全体が安心して暮らせる町づくりが期待されています。","value":28,"parent":"1_2","density_rank_percentile":0.96},{"level":2,"id":"2_26","label":"教育と子育て支援の充実と公平性の追求","takeaway":"このクラスタには、教育の質の向上や子育て支援の充実を求める意見が集まっています。特に、教育格差の是正や特別支援が必要な子どもたちへの支援、経済的支援の充実が強調されています。また、子育て支援が充実していることを評価しつつ、子育てが終わった町民にも公平な支援を求める声もあります。具体的な施策として、無料塾の設置、奨学金の充実、校舎の建て替え、オムツ代の補助などが挙げられ、これらを通じて子どもたちの教育環境の改善と地域全体の支援の公平性を追求しています。","value":10,"parent":"1_2","density_rank_percentile":0.86},{"level":2,"id":"2_39","label":"駅周辺の商業活性化と観光地整備による地域振興","takeaway":"このクラスタには、駅周辺の商業施設や観光地の整備を通じて地域の活性化を図ることを望む意見が集まっています。具体的には、駅近の分譲地開発や居酒屋、ファミリーレストランの増設、観光地の強化とお土産街の整備、統一感のある通りの創出などが挙げられています。これらの施策により、観光客や地元住民にとって魅力的で便利な街づくりを進め、地域の経済活性化を目指しています。","value":12,"parent":"1_4","density_rank_percentile":0.2},{"level":2,"id":"2_0","label":"地域住民が利用しやすい多目的施設とイベントの充実","takeaway":"このクラスタには、地域住民が気軽に利用できる多目的施設の整備や、幅広い年齢層が楽しめるイベントの開催を望む意見が集まっています。具体的には、すくすくスクエアやデュアルスポーツセンター武道場の利用促進、高齢者や子ども、若者が集まれる行事の開催、子育て支援センターの設置、スケボー施設やサイクリングコースの整備などが挙げられています。これらの提案は、地域の人々が集まりやすく、日常的に利用できる環境を整えることで、地域コミュニティの活性化を図ることを目的としています。","value":13,"parent":"1_5","density_rank_percentile":0.6},{"level":2,"id":"2_31","label":"宇多津町コミュニティバスの運行と利用状況に関する課題と改善提案","takeaway":"このクラスタには、宇多津町のコミュニティバスに関する様々な意見が集まっています。主な課題として、利用者が少ないこと、運賃が高いこと、運行ルートや運行本数の不便さ、運転マナーの問題が挙げられています。また、バスの必要性や収支についての疑問も示されています。改善提案としては、運賃の見直し、運行ルートの改善、他の交通手段との連携強化、バス停の増設、運転マナーの向上、そして高齢者向けのタクシー券の増額などが提案されています。これらの意見は、コミュニティバスの効率的な運用と利用者の利便性向上を目指したものであり、地域住民のニーズに応えるための具体的な改善策を求めています。","value":22,"parent":"1_3","density_rank_percentile":0.52},{"level":2,"id":"2_35","label":"子育て支援と保育サービスの充実","takeaway":"このクラスタには、子育て世帯が直面する課題に対する具体的な支援策や改善要望が集まっています。土日保育や学童保育の充実、保育園の待機児童問題の解消、保育者の教育や賃金支援、一人親家庭への手当増額など、共働き世帯や転入者、一人親家庭にとっての利便性向上を目指した提案が含まれています。これらの意見は、子育て環境の改善と保育サービスの質向上を求める声を反映しています。","value":8,"parent":"1_2","density_rank_percentile":0.08},{"level":2,"id":"2_37","label":"宇多津町の住民生活向上と安全対策への要望","takeaway":"このクラスタには、宇多津町の住民が抱える生活環境や安全に関する具体的な要望が集まっています。避難所の整備や防災活動への参加、警察との連携による治安維持、事故多発地帯の改善、ホームセンターの再設置、下水道管理の再開、祭り後のゴミ問題の解決など、住民が安心して暮らせる町づくりを求める声が多く見られます。また、財政強化のための観光やサービス業の発展を通じて、町の環境保全や防災、安全性の確保、教育環境の向上を図ることを期待しています。これらの要望は、住民の生活の質を向上させ、宇多津町をより住みやすい場所にするための具体的な提案を含んでいます。","value":11,"parent":"1_1","density_rank_percentile":0.48},{"level":2,"id":"2_20","label":"宇多津町における行政サービスと地域商品券の改善要望","takeaway":"このクラスタには、宇多津町の住民が行政サービスの利便性向上と地域商品券の配布方法改善を求める意見が集まっています。住民票や印鑑証明のコンビニ発行サービスの導入を希望する声が多く、マイナンバーカードの活用を通じて、他地域での便利なサービスを宇多津町でも実現してほしいという要望が見られます。また、地域商品券については、公平な配布方法や付加価値のある商品券の提供を求める意見があり、デジタル化による地域通貨としての活用提案も含まれています。","value":11,"parent":"1_2","density_rank_percentile":0.92},{"level":2,"id":"2_3","label":"宇多津町の住みやすさと発展への期待","takeaway":"このクラスタには、宇多津町の住みやすさや利便性に対する高い評価と、今後の発展への期待が集まっています。住民は、町の歴史ある町並みと新しい街並みの調和、生活に必要な物が揃っていること、子育てしやすい環境などを評価しています。また、人口増加に伴うサービスの充実や、収入面の改善、就業機会の確保、福祉の充実を通じて、さらに住みやすい町になることを望んでいます。さらに、瀬戸内シリコンバレーの形成や産業都市としての発展を期待する声もあり、町の魅力を発信し続けることが重要とされています。","value":11,"parent":"1_1","density_rank_percentile":0.3},{"level":2,"id":"2_47","label":"コロナ禍における行政サービスと支援の充実への期待","takeaway":"このクラスタには、コロナ禍における行政の対応や支援策に対する市民の期待や要望が集まっています。福祉サービスの充実や迅速な行政対応、特に生活に困っている人々への手厚い支援が求められています。また、コロナ関連の支援情報の提供や、子どもや生活困窮者への配慮、イベントの再開など、住民の生活を支えるための具体的な施策が期待されています。これらの意見は、住民に寄り添った行政の実現を目指す声を反映しています。","value":10,"parent":"1_2","density_rank_percentile":0.16},{"level":2,"id":"2_42","label":"空き家・空き地の有効活用と住環境の整備","takeaway":"このクラスタには、空き家や空き地の増加に対する不安や、それらの有効活用を求める声が集まっています。住環境の整備や安全対策の強化を通じて、地域の景観や安全性を向上させることが期待されています。具体的には、空き家のリノベーションや間貸し、古い建物の再生利用などを通じて、情緒ある街並みを保ちながらも住みやすい環境を作ることが求められています。また、受動喫煙防止のための条例制定など、住民の健康や安全に配慮した街づくりも提案されています。","value":17,"parent":"1_3","density_rank_percentile":0.54},{"level":2,"id":"2_22","label":"臨海公園とその周辺の整備と活用の改善","takeaway":"このクラスタには、臨海公園とその周辺地域の整備や活用に関する要望が集まっています。具体的には、公園の清潔さを保つためのごみ箱の設置や、駐車場の利用状況の改善、観光資源としての開発、安心してウォーキングができる環境の整備、そして安全な横断歩道の設置などが挙げられています。これらの要望は、地域住民や観光客が快適に過ごせる環境を提供し、臨海公園をより魅力的な場所にすることを目的としています。","value":7,"parent":"1_5","density_rank_percentile":0.72},{"level":2,"id":"2_4","label":"全世代が安心して暮らせる持続可能な町づくりへの期待","takeaway":"このクラスタには、全ての年齢層が安心して暮らせる町づくりに対する期待が集まっています。特に、高齢者や学生、現役世代、若者など、様々な世代に配慮した施策が求められています。騒音問題や交通整備、景観の向上、福祉サービスの充実など、具体的な課題に対する解決策が望まれています。また、短期的な利益ではなく、長期的な視点での持続可能な開発や、古さや素朴さを残しつつの町づくりが求められています。全ての住民が住みやすい環境を維持し、誰一人取り残されないような配慮が重要視されています。","value":21,"parent":"1_3","density_rank_percentile":0.98},{"level":2,"id":"2_44","label":"行政手続きと住民参加のデジタル化推進","takeaway":"このクラスタには、行政手続きや住民参加のプロセスをデジタル化することへの強い要望が集まっています。年配の方々を含む住民が時代の変化に対応できるよう、デジタルツールの利用を促進し、行政窓口のデジタル化やオンライン化を進めることが求められています。また、アンケートのデジタル化による効率化やコスト削減、住民の意見をより反映させるためのIT活用が提案されています。これにより、住民の利便性向上や行政の効率化が期待されています。","value":14,"parent":"1_2","density_rank_percentile":0.1},{"level":2,"id":"2_15","label":"町役場の行政サービスと対応の改善・維持に関する意見","takeaway":"このクラスタには、町役場の行政サービスや職員の対応に関する様々な意見が集まっています。住民は、職員の対応の丁寧さや親切さを評価する一方で、改善が必要な点についても指摘しています。具体的には、窓口や電話対応の質の向上、案内表示の改善、行政の生産性向上、情報発信の強化、そして新しい技術の導入による効率化を求める声があります。また、現状の行政サービスに満足しているという意見もあり、良い部分の維持を望む声も含まれています。","value":17,"parent":"1_2","density_rank_percentile":0.44},{"level":2,"id":"2_29","label":"税制改革と住民支援の要望","takeaway":"このクラスタには、税金に関する不満や改善要望が集まっています。特に住民税の高さに対する不満が多く、居住年収に応じた減額や税制改革を求める声が強いです。また、農業支援や独身者支援の充実、ふるさと納税の返礼品拡大など、税金の使い道に関する具体的な提案も含まれています。全体として、税負担の軽減と公平な税制の実現を求める意見が多く見られます。","value":13,"parent":"1_2","density_rank_percentile":0.04},{"level":2,"id":"2_2","label":"地域交通インフラの改善と拡充への要望","takeaway":"このクラスタには、地域の交通インフラの改善や拡充に関する具体的な要望が集まっています。住民は、交通の便を向上させるための施策として、公共交通機関の充実、運行時間や地域の見直し、信号機の設置、電車やバスの本数の増加、ICカードチャージ機の増設などを求めています。また、子どもたちの教育的観点から新幹線への興味を考慮した施策や、地域経済への影響を懸念した新幹線の導入に関する意見も含まれています。これらの要望は、地域住民の生活の質を向上させ、交通の利便性を高めることを目的としています。","value":11,"parent":"1_3","density_rank_percentile":0.46},{"level":2,"id":"2_21","label":"町内の道路と歩道の整備と管理に関する要望","takeaway":"このクラスタには、町内の道路や歩道に関する整備と管理についての具体的な要望が集まっています。住民は、草や樹木の手入れ不足による視界の妨げや安全性の懸念を訴え、定期的な清掃や剪定の頻度を増やすことを求めています。また、遊歩道の整備や植栽の管理、無駄な投資を避けた効率的なインフラ整備を希望しています。さらに、歩道の不適切な利用を防ぐための対策も求められています。","value":17,"parent":"1_3","density_rank_percentile":0.8},{"level":2,"id":"2_19","label":"宇多津町の地域活性化と利便性向上への提案","takeaway":"このクラスタには、宇多津町の地域活性化と住民の利便性向上を目指した多様な提案が集まっています。具体的には、直産店やお惣菜屋の出店による高齢者や子育て世帯の支援、独自性のある店舗や高級志向の商品を取り扱う店舗の誘致、配達サービスの充実による食品ロスの削減、特産品の開発、フードドライブの常設などが挙げられます。これらの提案は、宇多津町をより魅力的で活気ある地域にするための具体的なアイデアを提供しています。","value":15,"parent":"1_4","density_rank_percentile":0.7},{"level":2,"id":"2_34","label":"宇多津町の行政に対する住民の期待と改善要望","takeaway":"このクラスタには、宇多津町の行政に対する住民の期待や改善要望が集まっています。住民は、町長や議員に対してリーダーシップを発揮し、住民の意見を積極的に取り入れる姿勢を求めています。また、行政が町民の声を丁寧に拾い上げ、具体的な政策に反映させることを期待しています。さらに、インターネットを活用した意見収集や、行政職員の教育強化を通じて、公僕としての意識を高めることが求められています。住民は、行政が透明性を持ち、全町民の声を大切にすることを望んでいます。","value":10,"parent":"1_2","density_rank_percentile":0.78},{"level":2,"id":"2_13","label":"安全で美しい街づくりへの要望","takeaway":"このクラスタには、地域住民が安心して暮らせるようにするための防災・防犯対策の強化と、美しい街並みを維持するための要望が集まっています。具体的には、災害時の情報提供や河川の整備、町役場の耐震化、防犯カメラの設置拡大などの安全対策が求められています。また、街並みや景観を守るために、マンションの配置に配慮することや、消防サイレンの使用を控えることなど、美観に関する要望も含まれています。これらの意見は、住民が安心して暮らせる環境と美しい街並みの両立を目指したものです。","value":9,"parent":"1_3","density_rank_percentile":0.88},{"level":2,"id":"2_30","label":"地域活性化と伝統・自然の保護","takeaway":"このクラスタには、地域の活性化と伝統的な景観や自然の保護を両立させるための提案が集まっています。秋の祭りや歩行者天国の再開、若者向けのイベント開催など、地域の活気を取り戻すためのイベント開催を希望する声があります。また、産学官金連携による教育、観光、行政の強化や、旧町内の神社仏閣を活用した観光都市化の推進、南部地域の開発と景観保護のバランスを取るための農林業振興など、地域の持続可能な発展を目指す意見が含まれています。これらの提案は、地域の伝統や自然を守りつつ、住民や訪問者にとって魅力的な街づくりを目指しています。","value":11,"parent":"1_4","density_rank_percentile":1},{"level":2,"id":"2_49","label":"宇多津町の住民参加型まちづくりと地域活性化への期待","takeaway":"このクラスタには、宇多津町の住民が主体的に関わることで、地域の魅力を高め、住民が誇りを持てる町づくりを進めることへの期待が集まっています。特に、30代から50代の起爆人材の活用や、移住者の地域社会への溶け込みを促進する取り組みが求められています。また、町の美化や緑化、公共施設の活用によるイベント開催の緩和など、住民が快適に暮らせる環境づくりが重要視されています。これらの意見は、町の多面的な分析を通じて新たな発見を促し、地域の活性化につながることを期待しています。","value":7,"parent":"1_1","density_rank_percentile":0.38},{"level":2,"id":"2_36","label":"地域コミュニケーションと防災対策の改善","takeaway":"このクラスタには、地域社会におけるコミュニケーションの改善と防災対策の強化に関する要望が集まっています。防災行政無線や防災ラジオの音声の聞き取りやすさの向上、住民間の交流の場の増設、発熱外来の電話回線の増設など、具体的な改善点が挙げられています。また、外国人との交流促進や不法流入への注意強化といった、地域の安全と多様性を考慮したコミュニケーションの円滑化も求められています。","value":8,"parent":"1_3","density_rank_percentile":0.94},{"level":2,"id":"2_48","label":"宇多津町における子育て支援と教育環境の改善への期待","takeaway":"このクラスタには、宇多津町での生活に対する満足感を示しつつ、特に子育て支援や教育環境の改善を求める声が集まっています。住民は、子育て世代への支援を充実させることで、地域の魅力を高め、住民の定住意欲を促進することを期待しています。また、教育の質の向上や学童保育の料金見直し、施設の拡充など、具体的な改善点が挙げられています。これらの意見は、宇多津町がより住みやすい地域となるための提案として、町の政策に反映されることを望んでいます。","value":9,"parent":"1_1","density_rank_percentile":0.58},{"level":2,"id":"2_5","label":"行政の効率的な税金利用と公平な負担の実現","takeaway":"このクラスタには、行政が税金を効率的かつ公平に利用することを求める意見が集まっています。具体的には、非常食や飲料の購入・保管費用を町が負担し、自治会費と分けることで公平性を保つことや、無駄な経費、特に郵送費などの削減を望む声があります。また、税金は町民全体に利益をもたらすべきであり、インフラ整備など住民個人ではできないことに使うべきだという意見が強調されています。これにより、行政が町民に還元し、町全体の改善を図ることが期待されています。","value":5,"parent":"1_2","density_rank_percentile":0.26},{"level":2,"id":"2_1","label":"子どもと家庭への経済的支援と健康施策の拡充","takeaway":"このクラスタには、子どもや家庭に対する経済的負担を軽減するための具体的な施策を求める意見が集まっています。特に、医療費や給食費、保育費の無料化や補助を拡大することにより、家庭の経済的負担を減らし、子どもたちが健康で幸せに育つ環境を整えることを期待しています。また、医療や教育に関する所得制限の撤廃や、地域間でのサービスの均等化を求める声もあり、全体として子どもと家庭の生活の質を向上させるための包括的な支援を求めています。","value":20,"parent":"1_2","density_rank_percentile":0.36},{"level":2,"id":"2_23","label":"地域の生活環境と教育の向上に向けた取り組み","takeaway":"このクラスタには、地域の生活環境や教育の質を向上させるための具体的な提案が集まっています。田園の減少や食料自給率の低下に対する懸念から、食育やオーガニック食品の導入、緑化の推進など、持続可能な生活環境の構築を目指す意見が含まれています。また、若者への農業教育や生き物を大切にする施策、害虫駆除の強化など、地域の自然環境と調和した生活を促進する提案もあります。さらに、運動施設の充実や地域交流の場の提供を通じて、地域住民の健康と交流を促進することが期待されています。","value":9,"parent":"1_3","density_rank_percentile":0.62},{"level":2,"id":"2_38","label":"地域のインフラ整備と災害対策の強化","takeaway":"このクラスタには、地域のインフラ整備、特に河川や下水道の整備、道路の拡張、水質改善などに関する要望が集まっています。特に、近年の大雨による災害リスクの増加に対する懸念が強く、河川の改修や堤防の整備、浸水対策が求められています。また、急速な住宅開発に伴う住環境の整備や、交通渋滞や治安の悪化に対する対策も重要視されています。これらの要望は、地域住民の安全と快適な生活環境の確保を目的としています。","value":11,"parent":"1_3","density_rank_percentile":0.24},{"level":2,"id":"2_16","label":"地域活性化と観光振興のための施策提案","takeaway":"このクラスタには、地域の観光振興と活性化を目指した具体的な施策提案が集まっています。漫画やアニメの舞台誘致による観光客の呼び込み、駅や交通機関の利便性向上、古街の活性化、商業施設の増設など、地域全体の魅力を高めるための多角的なアプローチが示されています。これらの提案は、地域内外からの人の流れを促進し、町全体のにぎわいを創出することを目的としています。","value":8,"parent":"1_4","density_rank_percentile":0.76},{"level":2,"id":"2_32","label":"交通安全とマナー向上に向けた取り締まりと施策の強化","takeaway":"このクラスタには、交通安全の向上とマナー改善を目的とした取り締まりや施策の強化を求める意見が集まっています。具体的には、通学路の安全確保、夜間の暴走車両の取り締まり、交通ルールの遵守、スピード違反対策、時間指定の一方通行の取り締まり、中学生や外国人の自転車マナーの改善、深夜のパトロール強化などが挙げられています。これらの意見は、地域住民や観光客の安全と快適な生活環境を守るための具体的な対策を求めるものです。","value":10,"parent":"1_3","density_rank_percentile":0.28},{"level":2,"id":"2_28","label":"南部地域の公園整備とコミュニティ環境の向上","takeaway":"このクラスタには、南部地域における公園の設置や整備を通じて、コミュニティの充実と安全性の向上を図る意見が集まっています。具体的には、公園のポイ捨て防止や公共トイレの清掃、照明の改善、草木の手入れ、防犯カメラの増設など、公共の場を美しく安全に保つための提案が含まれています。また、子育てしやすい環境づくりや、夏でも快適に過ごせる公園の整備、影のあるベンチや水遊び場の設置など、家族や子どもたちが安心して楽しめる空間の提供を求める声も多く見られます。これらの意見は、地域住民が心豊かに暮らせる環境を目指すものであり、地域の活性化と住民の生活の質の向上に寄与することを期待しています。","value":14,"parent":"1_5","density_rank_percentile":0.4},{"level":2,"id":"2_41","label":"地域活性化と住民の学び・交流の場の充実","takeaway":"このクラスタには、地域の活性化を目指し、住民や移住者が学びや交流を深めるための施設やイベントの充実を求める意見が集まっています。お見合いイベントやシェルメールの割引ポイントを活用した移住促進策、学生やリモートワーカーが利用できるコミュニティセンターやカフェの拡充、図書館の蔵書やサービスの充実、社会人の学びの場の提供、大学やスポーツ施設の誘致など、多様な人材を集め、地域の魅力を高めるための具体的な提案が含まれています。","value":6,"parent":"1_3","density_rank_percentile":0.64},{"level":2,"id":"2_24","label":"高齢者のための車に依存しない生活環境の整備","takeaway":"このクラスタは、高齢化社会において高齢者が車に頼らずに生活できるようにするためのインフラやサービスの整備を求める意見が集まっています。具体的には、徒歩や公共交通機関を利用しやすい街づくり、コミュニティバスの整備、駅前広場での市場やキッチンカーの活用、自転車生活のサポート、タクシーサービスの提供、軽運動施設の設置、運転免許の返納制度の導入などが挙げられています。これらの取り組みは、高齢者が安全で快適に生活できる社会を実現するための重要な要素とされています。","value":10,"parent":"1_3","density_rank_percentile":0.14},{"level":2,"id":"2_17","label":"地域インフラと公共施設の整備による住環境の改善","takeaway":"このクラスタには、地域の住環境を向上させるための具体的なインフラ整備や公共施設の充実に関する要望が集まっています。特に、夜間の街灯不足による安全性の懸念や、道路整備の遅れ、公共施設の不足が指摘されており、これらの改善を通じて住民の安全と快適な生活環境を確保することが求められています。また、公園や緑地帯の充実、健康促進のための遊歩道の整備など、地域の景観や住民の健康に配慮した町づくりへの期待も含まれています。","value":13,"parent":"1_3","density_rank_percentile":0.34},{"level":2,"id":"2_40","label":"交通安全と道路インフラの改善要望","takeaway":"このクラスタには、交通安全の向上と道路インフラの改善に関する具体的な要望が集まっています。水族館の開業による交通量の増加や、見通しの悪い交差点、信号の設置、カーブミラーの整備、道路標識の明確化、植木の剪定など、地域住民が日常的に感じている交通の危険性を軽減するための提案が含まれています。これらの要望は、地域の安全性を高め、交通の円滑化を図ることを目的としています。","value":16,"parent":"1_3","density_rank_percentile":0.68},{"level":2,"id":"2_11","label":"宇多津町の魅力と活性化への提案","takeaway":"このクラスタには、宇多津町の魅力を引き出し、町の活性化を図るための様々な提案が集まっています。具体的には、歴史的な町並みや文化を保護しつつ、新しい観光資源やイベントを通じて町の魅力を高めることが求められています。水族館の名称変更や観光資源の活用、スポーツ施設の新設、町のイメージ改善など、多岐にわたる提案があり、これらを通じて宇多津町が「小さいながらも輝く町」として発展し続けることが期待されています。","value":24,"parent":"1_4","density_rank_percentile":0.84},{"level":2,"id":"2_33","label":"宇多津町の商業施設誘致への期待","takeaway":"このクラスタには、宇多津町における商業施設の誘致に対する強い期待が集まっています。住民は、コストコやIKEAのような大型店舗や、ホームセンター、ドラッグストア、自然食品店などの多様な商業施設の設置を望んでいます。これにより、町内での買い物の利便性が向上し、他市町村からの集客も期待されています。また、スーパーマーケットの乱立を避けつつ、モール型やアウトレット、百貨店などの核となる企業の誘致を通じて、町の活性化と住みやすさの向上を目指しています。","value":15,"parent":"1_4","density_rank_percentile":0.32},{"level":2,"id":"2_25","label":"ゴールドタワーの活性化と地域振興への期待","takeaway":"このクラスタには、ゴールドタワーを中心とした地域の活性化と振興に対する期待が集まっています。参加者は、タワーの活用方法を再検討し、町の収入増加や観光客の誘致につながる新しいアイデアを求めています。具体的には、祭りの復活や新しい施設の導入、複合施設の誘致などを通じて、ゴールドタワーを地域のシンボルとして誇りに思い、瀬戸内海の美しさを楽しむための拠点としての役割を強化することを提案しています。これにより、地域全体の活性化と持続可能な発展を目指しています。","value":7,"parent":"1_5","density_rank_percentile":0.02},{"level":2,"id":"2_27","label":"住民と行政が協力する持続可能な町づくり","takeaway":"このクラスタには、住民と行政が協力し合い、持続可能で活気ある町づくりを目指す意見が集まっています。住民参画型のコミュニティ形成や、若年層や女性の積極的な参画、倫理観の向上、財政の健全化など、具体的な施策が求められています。住民が自分のことと捉えられる町づくりを推進し、地域の人間関係を深め、価値観の合う人々とのつながりを促進することが期待されています。","value":13,"parent":"1_2","density_rank_percentile":0.74},{"level":2,"id":"2_8","label":"地域コミュニティの活性化と住民間のつながり強化","takeaway":"このクラスタには、地域社会における住民間のつながりの希薄化や新旧住民間の配慮不足に対する懸念が集まっています。住民は、自治会やボランティア活動を通じて地域の情報共有や防災訓練の参加を促進し、住民同士が顔見知りになれるような取り組みを望んでいます。また、警察署の不在による安全面の不安や、議員活動の透明性向上を求める声もあり、地域全体でのコミュニケーションと協力体制の強化が求められています。","value":13,"parent":"1_2","density_rank_percentile":0.12},{"level":2,"id":"2_46","label":"宇多津町の教育環境と地域格差の改善への要望","takeaway":"このクラスタには、宇多津町における教育環境の改善と地域格差の是正を求める意見が集まっています。特に、南部地域の住民は公共サービスの恩恵を感じにくいとし、公園の整備や教育施設の充実を求めています。また、町全体として教育の質を向上させるために、進学校の設立やIT教育の導入、無料の学習施設の設置などが提案されています。これらの改善が実現すれば、宇多津町は教育の進んだ町として認識され、住民の満足度が向上し、地域の活性化につながると期待されています。","value":8,"parent":"1_1","density_rank_percentile":0.66}],"comments":{},"propertyMap":{},"translations":{},"overview":"宇多津町の地域活性化に関するパブリック・コンサルテーションでは、5つのクラスターが特定されました。クラスター0は商業・観光インフラの強化を通じた経済活性化を目指し、クラスター1は持続可能なコミュニティ開発を通じた地域の魅力向上を提案しています。クラスター2は安全で住みやすい環境の整備を求め、クラスター3は医療や教育の充実を通じた住民生活の向上を目指しています。最後に、クラスター4は行政サービスのデジタル化と住民支援の強化を通じた持続可能な町づくりを提案しています。これらの意見は、宇多津町の持続可能な発展と地域全体の活性化に寄与することを期待しています。","config":{"name":"824d66ab-fdae-4865-80b0-db35e46cf2de","input":"824d66ab-fdae-4865-80b0-db35e46cf2de","question":"宇多津町_町民アンケート分析_v01.00","intro":"町民アンケートの結果の全体像を可視化しています（問29：あなたが将来に向けて宇多津町の行政に望むことやまちづくりに関するご意見、ご提案などがあれば、自由にご記入ください。）\n分析対象となったデータの件数は396件で、これらのデータに対してOpenAI APIを用いて650件の意見（議論）を抽出し、クラスタリングを行った。\n","model":"gpt-4o","is_pubcom":true,"extraction":{"prompt":"/system\n\nあなたはプロのリサーチ・アシスタントで、私の仕事を手伝うことがあなたの仕事です。\n私の仕事は、論点を整理したきれいなデータセットを作成することです。\n\nこれから与える投稿をより簡潔で読みやすい意見にするのを手伝ってください。\n本当に必要な場合は、2つ以上の別々の意見に分けることもできるが、1つのトピックを返すのが最善であることも多いと思います。\n\n今回の分析トピックは「あなたが将来に向けて宇多津町の行政に望むことや街づくりに関するご意見、ご提案などがあれば自由にご記入ください」という質問に関する意見です。\n・入力された意見について、トピックや自治体への要望内容が具体的にわかるように整理してください。\n・明らかにトピックと無関係な内容は除外するようににしてください。\n\n結果は、必ず日本語で記述し、きちんとフォーマットされた文字列形式（strings）のJSONリストにして返してください。","workers":10,"limit":396,"properties":[],"categories":{},"category_batch_size":5,"source_code":"$17","model":"gpt-4o"},"hierarchical_clustering":{"cluster_nums":[5,50],"source_code":"$18"},"hierarchical_initial_labelling":{"prompt":"あなたはKJ法が得意なデータ分析者です。userのinputはグループに集まったラベルです。なぜそのラベルが一つのグループであるか解説して、それから表札をつけてください。\n出力はJSONとし、フォーマットは以下のサンプルを参考にしてください。\n\n# サンプルの入出力\n## 入力例\n最近、AIアシスタントが医療診断サポートの実用化に向けた具体的な成果を発表し、医療現場の未来に明るい希望が見えてきました。患者として、この技術進歩に感謝しています。\nAI医療支援システムが、学会でもしっかり議論されるようになり、開発者が医療従事者の本当のニーズに応える姿勢に期待しています。\n技術カンファレンスを通じて、AIエンジニアが医療分野に全力で取り組む姿勢が伝わってきます。具体的な応用事例を目にするたび、医療の未来への希望が膨らみます。\n\n## 出力例\n{{\n   \"label\": \"医療現場を支えるAI技術の具体的応用への期待\",\n   \"description\": \"このクラスタには、医療診断や患者支援など、実際の医療課題に対してAI技術が具体的かつ効果的に貢献する可能性を支持する前向きな意見が集まっています。利用者は、学会や技術カンファレンスを通じて、現場のニーズに即したAIソリューションや支援システムが実現されることを期待し、医療の未来の発展に向けた技術革新を応援しています。\"\n}}\n","sampling_num":30,"workers":10,"source_code":"$19","model":"gpt-4o"},"hierarchical_merge_labelling":{"prompt":"分割されすぎたクラスタを統合する必要があるので、統合後の名称を考えて出力して。\n\n# 指示\n* 統合前のクラスタの名称・説明および統合後のクラスタに属するデータ点のサンプルを与えるので、これらに基づいて統合後のクラスタの名称を出力してください\n   * 統合後のクラスタ名において、統合前のクラスタ名をそのまま使うことは避けてください。\n* 出力例に記載したJSONのフォーマットに従って出力してください\n\n# サンプルの入出力\n## 入力例（クラスタラベル:説明文）\n- AI技術の環境影響に関する懸念: このクラスタは、AI技術の開発・運用に伴う環境負荷に対する批判的な意見を集約したものです。市民からは、大規模モデルの学習時のエネルギー消費や、データセンターの冷却システムによる環境負荷などに対する強い懸念が表明されています。\n- AI開発の持続可能性への疑問: このクラスタは、AI技術開発全般における持続可能性に対する疑問を示す意見をまとめたものです。エネルギー消費の増大や資源利用の効率性に疑問を持つ声が多く、より環境に配慮した技術開発アプローチを求める意見が特徴です。\n- AI運用の炭素排出量: このクラスタは、AIシステムの運用時における炭素排出量が予想以上に大きい点に対する懸念や不満を反映しています。クラウドサービスの利用拡大やモデル推論時のエネルギー消費、そしてそれに伴う環境への長期的影響が強調されています。\n## 出力例\n{{\n   \"label\": \"AI技術のエネルギー効率と環境持続可能性\",\n   \"description\": \"このクラスタは、AI技術の開発・運用における環境への影響と持続可能性に対する懸念を集約しています。市民は、技術革新の議論の中で、エネルギー効率と炭素排出削減を最優先すべきだとの期待と、現行のAI開発手法に対する環境面での改善要求を強く表明しており、より持続可能で環境に配慮したAI技術の発展を求める声が反映されています。\"\n}}\n","sampling_num":30,"workers":10,"source_code":"$1a","model":"gpt-4o"},"hierarchical_overview":{"prompt":"/system \n\nあなたはシンクタンクで働く専門のリサーチアシスタントです。\nチームは特定のテーマに関してパブリック・コンサルテーションを実施し、異なる選択肢のクラスターを分析し始めています。\nこれからクラスターのリストとその簡単な分析が提供されます。\nあなたの仕事は、調査結果の簡潔な要約を返すことです。要約は非常に簡潔に（最大で1段落、最大4文）まとめ、無意味な言葉を避けてください。\n出力は日本語で行ってください。\n","source_code":"$1b","model":"gpt-4o"},"hierarchical_aggregation":{"sampling_num":10,"hidden_properties":{},"source_code":"$1c"},"output_dir":"824d66ab-fdae-4865-80b0-db35e46cf2de","skip-interaction":true,"without-html":true,"embedding":{"model":"text-embedding-3-small","source_code":"import pandas as pd\nfrom tqdm import tqdm\n\nfrom services.llm import request_to_embed\n\n\ndef embedding(config):\n    model = config[\"embedding\"][\"model\"]\n\n    dataset = config[\"output_dir\"]\n    path = f\"outputs/{dataset}/embeddings.pkl\"\n    arguments = pd.read_csv(f\"outputs/{dataset}/args.csv\", usecols=[\"arg-id\", \"argument\"])\n    embeddings = []\n    batch_size = 1000\n    for i in tqdm(range(0, len(arguments), batch_size)):\n        args = arguments[\"argument\"].tolist()[i : i + batch_size]\n        embeds = request_to_embed(args, model)\n        embeddings.extend(embeds)\n    df = pd.DataFrame([{\"arg-id\": arguments.iloc[i][\"arg-id\"], \"embedding\": e} for i, e in enumerate(embeddings)])\n    df.to_pickle(path)\n"},"hierarchical_visualization":{"replacements":[],"source_code":"import subprocess\n\n\ndef hierarchical_visualization(config):\n    output_dir = config[\"output_dir\"]\n    cwd = \"../report\"\n    command = f\"REPORT={output_dir} npm run build\"\n\n    try:\n        process = subprocess.Popen(\n            command,\n            shell=True,\n            cwd=cwd,\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE,\n            universal_newlines=True,\n        )\n        while True:\n            output_line = process.stdout.readline()\n            if output_line == \"\" and process.poll() is not None:\n                break\n            if output_line:\n                print(output_line.strip())\n        process.wait()\n        errors = process.stderr.read()\n        if errors:\n            print(\"Errors:\")\n            print(errors)\n    except subprocess.CalledProcessError as e:\n        print(\"Error: \", e)\n"},"plan":[{"step":"extraction","run":true,"reason":"not trace of previous run"},{"step":"embedding","run":true,"reason":"not trace of previous run"},{"step":"hierarchical_clustering","run":true,"reason":"not trace of previous run"},{"step":"hierarchical_initial_labelling","run":true,"reason":"not trace of previous run"},{"step":"hierarchical_merge_labelling","run":true,"reason":"not trace of previous run"},{"step":"hierarchical_overview","run":true,"reason":"not trace of previous run"},{"step":"hierarchical_aggregation","run":true,"reason":"not trace of previous run"},{"step":"hierarchical_visualization","run":false,"reason":"skipping html output"}],"status":"running","start_time":"2025-04-07T11:58:47.992532","completed_jobs":[{"step":"extraction","completed":"2025-04-07T12:01:04.703573","duration":136.705805,"params":{"prompt":"/system\n\nあなたはプロのリサーチ・アシスタントで、私の仕事を手伝うことがあなたの仕事です。\n私の仕事は、論点を整理したきれいなデータセットを作成することです。\n\nこれから与える投稿をより簡潔で読みやすい意見にするのを手伝ってください。\n本当に必要な場合は、2つ以上の別々の意見に分けることもできるが、1つのトピックを返すのが最善であることも多いと思います。\n\n今回の分析トピックは「あなたが将来に向けて宇多津町の行政に望むことや街づくりに関するご意見、ご提案などがあれば自由にご記入ください」という質問に関する意見です。\n・入力された意見について、トピックや自治体への要望内容が具体的にわかるように整理してください。\n・明らかにトピックと無関係な内容は除外するようににしてください。\n\n結果は、必ず日本語で記述し、きちんとフォーマットされた文字列形式（strings）のJSONリストにして返してください。","workers":10,"limit":396,"properties":[],"categories":{},"category_batch_size":5,"source_code":"$1d","model":"gpt-4o"}},{"step":"embedding","completed":"2025-04-07T12:01:12.078240","duration":7.365584,"params":{"model":"text-embedding-3-small","source_code":"import pandas as pd\nfrom tqdm import tqdm\n\nfrom services.llm import request_to_embed\n\n\ndef embedding(config):\n    model = config[\"embedding\"][\"model\"]\n\n    dataset = config[\"output_dir\"]\n    path = f\"outputs/{dataset}/embeddings.pkl\"\n    arguments = pd.read_csv(f\"outputs/{dataset}/args.csv\", usecols=[\"arg-id\", \"argument\"])\n    embeddings = []\n    batch_size = 1000\n    for i in tqdm(range(0, len(arguments), batch_size)):\n        args = arguments[\"argument\"].tolist()[i : i + batch_size]\n        embeds = request_to_embed(args, model)\n        embeddings.extend(embeds)\n    df = pd.DataFrame([{\"arg-id\": arguments.iloc[i][\"arg-id\"], \"embedding\": e} for i, e in enumerate(embeddings)])\n    df.to_pickle(path)\n"}},{"step":"hierarchical_clustering","completed":"2025-04-07T12:01:49.966406","duration":37.883291,"params":{"cluster_nums":[5,50],"source_code":"$1e"}},{"step":"hierarchical_initial_labelling","completed":"2025-04-07T12:02:15.759233","duration":25.786525,"params":{"prompt":"あなたはKJ法が得意なデータ分析者です。userのinputはグループに集まったラベルです。なぜそのラベルが一つのグループであるか解説して、それから表札をつけてください。\n出力はJSONとし、フォーマットは以下のサンプルを参考にしてください。\n\n# サンプルの入出力\n## 入力例\n最近、AIアシスタントが医療診断サポートの実用化に向けた具体的な成果を発表し、医療現場の未来に明るい希望が見えてきました。患者として、この技術進歩に感謝しています。\nAI医療支援システムが、学会でもしっかり議論されるようになり、開発者が医療従事者の本当のニーズに応える姿勢に期待しています。\n技術カンファレンスを通じて、AIエンジニアが医療分野に全力で取り組む姿勢が伝わってきます。具体的な応用事例を目にするたび、医療の未来への希望が膨らみます。\n\n## 出力例\n{{\n   \"label\": \"医療現場を支えるAI技術の具体的応用への期待\",\n   \"description\": \"このクラスタには、医療診断や患者支援など、実際の医療課題に対してAI技術が具体的かつ効果的に貢献する可能性を支持する前向きな意見が集まっています。利用者は、学会や技術カンファレンスを通じて、現場のニーズに即したAIソリューションや支援システムが実現されることを期待し、医療の未来の発展に向けた技術革新を応援しています。\"\n}}\n","sampling_num":30,"workers":10,"source_code":"$1f","model":"gpt-4o"}},{"step":"hierarchical_merge_labelling","completed":"2025-04-07T12:02:21.985871","duration":6.221401,"params":{"prompt":"分割されすぎたクラスタを統合する必要があるので、統合後の名称を考えて出力して。\n\n# 指示\n* 統合前のクラスタの名称・説明および統合後のクラスタに属するデータ点のサンプルを与えるので、これらに基づいて統合後のクラスタの名称を出力してください\n   * 統合後のクラスタ名において、統合前のクラスタ名をそのまま使うことは避けてください。\n* 出力例に記載したJSONのフォーマットに従って出力してください\n\n# サンプルの入出力\n## 入力例（クラスタラベル:説明文）\n- AI技術の環境影響に関する懸念: このクラスタは、AI技術の開発・運用に伴う環境負荷に対する批判的な意見を集約したものです。市民からは、大規模モデルの学習時のエネルギー消費や、データセンターの冷却システムによる環境負荷などに対する強い懸念が表明されています。\n- AI開発の持続可能性への疑問: このクラスタは、AI技術開発全般における持続可能性に対する疑問を示す意見をまとめたものです。エネルギー消費の増大や資源利用の効率性に疑問を持つ声が多く、より環境に配慮した技術開発アプローチを求める意見が特徴です。\n- AI運用の炭素排出量: このクラスタは、AIシステムの運用時における炭素排出量が予想以上に大きい点に対する懸念や不満を反映しています。クラウドサービスの利用拡大やモデル推論時のエネルギー消費、そしてそれに伴う環境への長期的影響が強調されています。\n## 出力例\n{{\n   \"label\": \"AI技術のエネルギー効率と環境持続可能性\",\n   \"description\": \"このクラスタは、AI技術の開発・運用における環境への影響と持続可能性に対する懸念を集約しています。市民は、技術革新の議論の中で、エネルギー効率と炭素排出削減を最優先すべきだとの期待と、現行のAI開発手法に対する環境面での改善要求を強く表明しており、より持続可能で環境に配慮したAI技術の発展を求める声が反映されています。\"\n}}\n","sampling_num":30,"workers":10,"source_code":"$20","model":"gpt-4o"}},{"step":"hierarchical_overview","completed":"2025-04-07T12:02:25.542521","duration":3.54389,"params":{"prompt":"/system \n\nあなたはシンクタンクで働く専門のリサーチアシスタントです。\nチームは特定のテーマに関してパブリック・コンサルテーションを実施し、異なる選択肢のクラスターを分析し始めています。\nこれからクラスターのリストとその簡単な分析が提供されます。\nあなたの仕事は、調査結果の簡潔な要約を返すことです。要約は非常に簡潔に（最大で1段落、最大4文）まとめ、無意味な言葉を避けてください。\n出力は日本語で行ってください。\n","source_code":"$21","model":"gpt-4o"}}],"lock_until":"2025-04-07T12:07:25.548562","current_job":"hierarchical_aggregation","current_job_started":"2025-04-07T12:02:25.548548","current_job_progress":null,"current_jop_tasks":null},"comment_num":396}}],[["$","$L12","1_4",{"mx":"auto","maxW":"750px","mb":12,"children":[["$","$L12",null,{"mb":2,"children":[["$","$L22",null,{"id":"宇多津町の地域魅力と経済活性化戦略","href":"#宇多津町の地域魅力と経済活性化戦略","className":"headingColor","position":"relative","_hover":{"&:before":{"content":"\"#\"","fontSize":"2xl","position":"absolute","left":"-1.4rem"}},"children":["$","$L13",null,{"fontSize":"2xl","mb":0,"children":"宇多津町の地域魅力と経済活性化戦略"}]}],["$","$L14",null,{"fontWeight":"bold","display":"flex","gap":1,"mt":2,"children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}],"98","件"]}]]}],["$","$L14",null,{"children":"このクラスタは、宇多津町の商業・観光インフラの強化を通じて地域の魅力を高め、経済活性化を図るための多様な提案を集約しています。住民や訪問者にとって魅力的で便利な町づくりを目指し、独自の店舗誘致や歴史・文化の保護、観光資源の活用、商業施設の増設、イベント開催などが提案されています。これらの施策は、宇多津町を四国の玄関口としての役割を強化し、地域全体の活力を高めることを目的としています。"}]]}],["$","$L12","1_5",{"mx":"auto","maxW":"750px","mb":12,"children":[["$","$L12",null,{"mb":2,"children":[["$","$L22",null,{"id":"地域活性化と持続可能なコミュニティ開発","href":"#地域活性化と持続可能なコミュニティ開発","className":"headingColor","position":"relative","_hover":{"&:before":{"content":"\"#\"","fontSize":"2xl","position":"absolute","left":"-1.4rem"}},"children":["$","$L13",null,{"fontSize":"2xl","mb":0,"children":"地域活性化と持続可能なコミュニティ開発"}]}],["$","$L14",null,{"fontWeight":"bold","display":"flex","gap":1,"mt":2,"children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}],"67","件"]}]]}],["$","$L14",null,{"children":"このクラスタは、地域の活性化と持続可能なコミュニティ開発に関する多様な意見を集約しています。住民は、ゴミ問題の解決や公園の整備、観光施設の活性化を通じて、地域全体の魅力向上と住民の生活の質の向上を求めています。具体的には、ゴミのポイ捨て防止やリサイクル促進、臨海公園や水族館周辺の整備、ゴールドタワーを中心とした観光誘致、そして多目的施設の充実を通じて、地域の持続可能な発展を目指す声が反映されています。"}]]}],["$","$L12","1_3",{"mx":"auto","maxW":"750px","mb":12,"children":[["$","$L12",null,{"mb":2,"children":[["$","$L22",null,{"id":"地域の安全性と住環境の向上","href":"#地域の安全性と住環境の向上","className":"headingColor","position":"relative","_hover":{"&:before":{"content":"\"#\"","fontSize":"2xl","position":"absolute","left":"-1.4rem"}},"children":["$","$L13",null,{"fontSize":"2xl","mb":0,"children":"地域の安全性と住環境の向上"}]}],["$","$L14",null,{"fontWeight":"bold","display":"flex","gap":1,"mt":2,"children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}],"214","件"]}]]}],["$","$L14",null,{"children":"このクラスタは、地域住民が安心して暮らせる環境を整えるための具体的な要望を集約しています。交通安全の向上、道路インフラの改善、災害対策の強化、そして美しい街並みの維持が求められています。また、全世代が住みやすい町づくりを目指し、高齢者支援や公共交通機関の整備、空き家の有効活用など、持続可能な地域社会の実現に向けた多様な意見が反映されています。"}]]}],["$","$L12","1_1",{"mx":"auto","maxW":"750px","mb":12,"children":[["$","$L12",null,{"mb":2,"children":[["$","$L22",null,{"id":"宇多津町の持続可能な発展と住民生活の向上","href":"#宇多津町の持続可能な発展と住民生活の向上","className":"headingColor","position":"relative","_hover":{"&:before":{"content":"\"#\"","fontSize":"2xl","position":"absolute","left":"-1.4rem"}},"children":["$","$L13",null,{"fontSize":"2xl","mb":0,"children":"宇多津町の持続可能な発展と住民生活の向上"}]}],["$","$L14",null,{"fontWeight":"bold","display":"flex","gap":1,"mt":2,"children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}],"99","件"]}]]}],["$","$L14",null,{"children":"このクラスタは、宇多津町における医療施設の充実、住みやすさの向上、行政の改善、住民参加型のまちづくり、子育て支援、教育環境の改善など、住民の生活の質を向上させるための多様な意見を集約しています。住民は、医療や教育の充実、交通や住宅開発の見直し、地域の魅力発信、行政の効率化を通じて、安心して暮らせる環境の整備を求めています。これらの意見は、宇多津町が持続可能で魅力的な地域として発展し、香川県全体の活性化に寄与することを期待しています。"}]]}],["$","$L12","1_2",{"mx":"auto","maxW":"750px","mb":12,"children":[["$","$L12",null,{"mb":2,"children":[["$","$L22",null,{"id":"住民支援と行政サービスのデジタル化による持続可能な町づくり","href":"#住民支援と行政サービスのデジタル化による持続可能な町づくり","className":"headingColor","position":"relative","_hover":{"&:before":{"content":"\"#\"","fontSize":"2xl","position":"absolute","left":"-1.4rem"}},"children":["$","$L13",null,{"fontSize":"2xl","mb":0,"children":"住民支援と行政サービスのデジタル化による持続可能な町づくり"}]}],["$","$L14",null,{"fontWeight":"bold","display":"flex","gap":1,"mt":2,"children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}],"172","件"]}]]}],["$","$L14",null,{"children":"このクラスタは、住民の多様なニーズに応じた支援と、行政サービスのデジタル化を通じた効率化を求める意見を集約しています。特に、子育て支援の充実や高齢者・障害者への支援強化、教育環境の改善が強調されています。また、行政手続きのオンライン化やデジタルツールの活用による住民参加の促進、税金の効率的利用と公平な負担の実現が期待されています。住民と行政が協力し、持続可能で活気ある町づくりを目指す声が反映されています。"}]]}]],["$","$L23",null,{"result":"$8:0:props:children:2:props:result"}],["$","$L12",null,{"w":"fit-content","mx":"auto","children":["$","$L6",null,{"href":"/","children":["$","$L7",null,{"variant":"outline","size":"md","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-chevron-left","children":[["$","path","1wnfg3",{"d":"m15 18-6-6 6-6"}],"$undefined"]}],"一覧へ戻る"]}]}]}],["$","$L24",null,{"my":12,"maxW":"750px","mx":"auto"}],["$","$L25",null,{"meta":"$8:0:props:children:0:props:meta"}]]}],["$","footer",null,{"children":["$","$L26",null,{"direction":{"base":"column","lg":"row"},"justify":"space-between","maxW":"800px","mx":"auto","children":[["$","$L27",null,{"gap":5,"justify":"center","align":"center","children":[["$","$L14",null,{"fontWeight":"bold","fontSize":"lg","children":"テスト環境"}],["$","$L6",null,{"href":"https://example.com/privacy","target":"_blank","rel":"noopener noreferrer","children":["$","$L14",null,{"fontSize":"xs","className":"textLink","children":"プライバシーポリシー"}]}],["$","$L6",null,{"href":"https://example.com/terms","target":"_blank","rel":"noopener noreferrer","children":["$","$L14",null,{"fontSize":"xs","className":"textLink","children":"利用規約"}]}]]}],["$","$L27",null,{"justify":"center","children":["$","$L28",null,{"placement":"bottom","children":[["$","$L29",null,{}],["$","$L2a",null,{"children":["$","$L14",null,{"className":"textLink","cursor":"pointer","children":"デジタル民主主義2030プロジェクトについて"}]}],["$","$L2b",null,{"disabled":false,"container":"$undefined","children":["$","$L2c",null,{"padding":"$undefined","children":["$","$L2d",null,{"ref":"$undefined","roundedTop":"md","p":5,"asChild":false,"children":[["$","$L2e",null,{"children":["$","$L2f",null,{"fontSize":"2xl","fontWeight":"bold","textAlign":"center","className":"gradientColor","children":"デジタル民主主義2030プロジェクト"}]}],["$","$L30",null,{"textAlign":"center","children":[["$","$L12",null,{"mb":8,"maxW":"700px","mx":"auto","children":[["$","$L13",null,{"size":"lg","mb":2,"textAlign":"center","children":"プロジェクトについて"}],["$","$L14",null,{"children":"2030年には、情報技術により民主主義のあり方はアップデートされており、一人ひとりの声が政治・行政に届き、適切に合意形成・政策反映されていくような社会が当たり前になる──そんな未来を目指して立ち上げられたのがデジタル民主主義2030プロジェクトです。 AIやデジタル技術の進化により、これまで不可能だった新しい形の市民参加や政策運営が可能になるはずだという信念に基づいています。"}],["$","$L6",null,{"href":"https://dd2030.org","target":"_blank","rel":"noreferrer noopener","children":["$","$L27",null,{"justify":"center","mt":2,"children":[["$","$L14",null,{"className":"textLink","children":"プロジェクトについての詳細はこちら"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-external-link","children":[["$","path","1q9fwt",{"d":"M15 3h6v6"}],["$","path","gplh6r",{"d":"M10 14 21 3"}],["$","path","a6xqqp",{"d":"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}],"$undefined"]}]]}]}]]}],["$","$L12",null,{"mb":8,"maxW":"700px","mx":"auto","children":[["$","$L13",null,{"size":"lg","mb":2,"textAlign":"center","children":"免責"}],["$","$L14",null,{"mb":2,"children":"このレポート内容に関する質問や意見はレポート発行責任者へお問い合わせください。"}],["$","$L14",null,{"children":"大規模言語モデル（LLM）にはバイアスがあり、信頼性の低い結果を生成することが知られています。私たちはこれらの問題を軽減する方法に積極的に取り組んでいますが、現段階ではいかなる保証も提供することはできません。特に重要な決定を下す際は、本アプリの出力結果のみに依存せず、必ず内容を検証してください。"}]]}],["$","$L12",null,{"mb":8,"maxW":"700px","mx":"auto","children":[["$","$L13",null,{"size":"lg","mb":2,"textAlign":"center","children":"謝辞"}],["$","$L14",null,{"children":["このプロジェクトは ",["$","a",null,{"className":"textLink","href":"https://ai.objectives.institute/","target":"_blank","children":"AI Objectives Institute"}]," が開発した ",["$","a",null,{"className":"textLink","href":"https://github.com/AIObjectives/talk-to-the-city-reports","target":"_blank","children":"Talk to the City"}]," を参考に開発されています。",["$","br",null,{}],"ライセンスに基づいてソースコードを一部活用し、機能追加や改善を実施しています。"]}]]}],["$","$L31",null,{"children":["$","$L7",null,{"variant":"outline","children":"閉じる"}]}]]}]]}]}]}]]}]}]]}]}]]
b:null
f:[["$","title","0",{"children":"宇多津町_町民アンケート分析_v01.00 - テスト環境"}],["$","meta","1",{"name":"description","content":"宇多津町の地域活性化に関するパブリック・コンサルテーションでは、5つのクラスターが特定されました。クラスター0は商業・観光インフラの強化を通じた経済活性化を目指し、クラスター1は持続可能なコミュニティ開発を通じた地域の魅力向上を提案しています。クラスター2は安全で住みやすい環境の整備を求め、クラスター3は医療や教育の充実を通じた住民生活の向上を目指しています。最後に、クラスター4は行政サービスのデジタル化と住民支援の強化を通じた持続可能な町づくりを提案しています。これらの意見は、宇多津町の持続可能な発展と地域全体の活性化に寄与することを期待しています。"}],["$","meta","2",{"property":"og:title","content":"宇多津町_町民アンケート分析_v01.00 - テスト環境"}],["$","meta","3",{"property":"og:description","content":"宇多津町の地域活性化に関するパブリック・コンサルテーションでは、5つのクラスターが特定されました。クラスター0は商業・観光インフラの強化を通じた経済活性化を目指し、クラスター1は持続可能なコミュニティ開発を通じた地域の魅力向上を提案しています。クラスター2は安全で住みやすい環境の整備を求め、クラスター3は医療や教育の充実を通じた住民生活の向上を目指しています。最後に、クラスター4は行政サービスのデジタル化と住民支援の強化を通じた持続可能な町づくりを提案しています。これらの意見は、宇多津町の持続可能な発展と地域全体の活性化に寄与することを期待しています。"}],["$","meta","4",{"property":"og:image","content":"http://localhost:3000/824d66ab-fdae-4865-80b0-db35e46cf2de/opengraph-image.png"}],["$","meta","5",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","6",{"name":"twitter:title","content":"宇多津町_町民アンケート分析_v01.00 - テスト環境"}],["$","meta","7",{"name":"twitter:description","content":"宇多津町の地域活性化に関するパブリック・コンサルテーションでは、5つのクラスターが特定されました。クラスター0は商業・観光インフラの強化を通じた経済活性化を目指し、クラスター1は持続可能なコミュニティ開発を通じた地域の魅力向上を提案しています。クラスター2は安全で住みやすい環境の整備を求め、クラスター3は医療や教育の充実を通じた住民生活の向上を目指しています。最後に、クラスター4は行政サービスのデジタル化と住民支援の強化を通じた持続可能な町づくりを提案しています。これらの意見は、宇多津町の持続可能な発展と地域全体の活性化に寄与することを期待しています。"}],["$","meta","8",{"name":"twitter:image","content":"http://localhost:3000/824d66ab-fdae-4865-80b0-db35e46cf2de/opengraph-image.png"}]]
